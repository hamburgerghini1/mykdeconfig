// Copyright (C) 1999-2022 Siber Systems Inc. All Rights Reserved.
(window.rf_vlu7ce9uien=window.rf_vlu7ce9uien||[]).push([[7],{127:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(6),i=n(33),o=n(14),c=n(0);n(13);function s(t){var n;const{invitations:s,requests:l,ea:r,viewApi:u,serverUrl:d,onClose:m}=t,p=!!l,b=null!==(n=p?l:s)&&void 0!==n?n:[],f=new Set;let g=null,h=null,_=null,w=null,v=null;const O=[];return{Create:async function(){const t=Object(a.y)(d),n=await u.LocalizeString("EmergencyAccess_Title"),o=await u.LocalizeString("EmergencyAccessContactConfirmationDescription_Text"),c=await u.LocalizeString("EmergencyAccessDataAccessConfirmationDescription_Text"),s=p?await u.LocalizeString("EmergencyAccess_GrantAccess_Title"):await u.LocalizeString("Cmd_Accept_Key"),l=p?await u.LocalizeString("EmergencyAccess_DenyAccess_Text"):await u.LocalizeString("Cmd_Reject_Key"),r=await u.LocalizeString("Cmd_Later_Flat"),m=[];for(const a of b){const t=a.name,n=a.email,o=t?t===n?t:t+" ("+n+")":n;let c;const s=e("div",{className:"item-row"},c=e(i.a,{text:o,checked:!0,onchange:()=>{c.GetChecked()?f.add(a):f.delete(a),C()}}));m.push(s),O.push(c),f.add(a)}return e("div",{className:"ea-invites-page setup-page receive-invite-page"},e("div",{className:"header-section"},e("div",{className:"header-text-section"},e("div",{className:"title-text"},n))),v=e("div",{className:"action-progress-overlay-circle size64 hidden"}),e("div",{className:"hint-text rfo-server-title-text"},t||""),e("div",{className:"normal-text invite-text"},p?c:o),e("div",{className:"items-container"},m),w=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"buttons-section"},e("div",{className:"padding-div"}),g=e("input",{type:"button",className:"important-button normal-button",value:s,onclick:y}),h=e("input",{type:"button",className:"regular-button normal-button",value:l,onclick:j}),_=e("input",{type:"button",className:"regular-button normal-button",value:r,onclick:S})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){Object(c.q)(g).focus()},Dispose:function(){}};function y(){x(),Object(o.c)(async function(){try{for(const e of f)if(p){const t=e.accountId;await r.GrantEmergencyAccess(t,null)}else{const t=e.accountId;await r.AcceptEmergencyContactInvitation(t,null)}}catch(e){return void L(Object(a.r)(e))}await m()}(),P,500,N,k,q)}function j(){x(),Object(o.c)(async function(){try{for(const e of f)if(p){const t=e.accountId;await r.RevokeEmergencyAccess(t,null)}else{const t=e.accountId;await r.RejectEmergencyContactInvitation(t,null)}}catch(e){return void L(Object(a.r)(e))}await m()}(),P,500,N,k,q)}function S(){Object(o.c)(async function(){await m()}(),P,500,N,k,q)}function C(){const e=0===f.size;Object(c.q)(g).disabled=e,Object(c.q)(h).disabled=e}function N(){Object(c.q)(v).classList.remove("hidden")}function k(){Object(c.q)(v).classList.add("hidden")}function L(e){Object(c.q)(w).textContent=e}function x(){Object(c.q)(w).textContent=""}function P(){Object(c.q)(g).disabled=!0,Object(c.q)(h).disabled=!0,Object(c.q)(_).disabled=!0,O.forEach(e=>e.Enable(!1))}function q(){Object(c.q)(g).disabled=!1,Object(c.q)(h).disabled=!1,Object(c.q)(_).disabled=!1,O.forEach(e=>e.Enable(!0))}}}).call(this,n(31).JSXCreateElement)},128:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(20),i=n(14),o=n(0);n(13),n(272),n(59),n(60);function c(t,n,c,s,l){let r=null,u=null,d=null,m=null,p=null;let b=n,f=c;return{Create:async function(){const i=await t.LocalizeString("AskConsentToCollectData_Title"),o=await t.LocalizeString("AskConsentToCollectData_SectionTitleStart_Text"),s=await t.LocalizeString("AskConsentToCollectData_PersonalDataSection_Text"),l=await t.LocalizeString("AskConsentToCollectData_TechnicalDataSection_Text"),b=await t.LocalizeString("AskConsentToCollectData_UrlsAndSearchTerms_Text"),f=await t.LocalizeString("AskConsentToCollectData_ActionsAndFilledInformation_Text"),v=await t.LocalizeString("AskConsentToCollectData_PersonalRejectionImpact_Text"),O=await t.LocalizeString("AskConsentToCollectData_TechnicalRejectionImpact_Text"),y=await t.LocalizeString("AskConsentToCollectData_Details_Text"),j=await t.LocalizeString("AskConsentToCollectData_PrivacyPolicy_Link_Text"),S=await t.LocalizeString("AskConsentToCollectData_ContinueButton_Text"),C=await t.LocalizeString("AskConsentToCollectData_YesSwitcher_Text"),N=await t.LocalizeString("AskConsentToCollectData_NoSwitcher_Text");return e("div",{className:"ask-consent-page unselectable"},r=e("div",{className:"content"},e("div",{className:"title"},i),e("div",{className:"data-section"},e("div",{className:"data-section-title"},o,e("div",{className:"personal-data-section-title"},s)),e("div",{className:"personal-data-description"},e("ul",null,e("li",{className:"urls-and-search-terms"},b)),e("div",{className:"flexy-space"}),u=e(a.j,{leftValue:C,rightValue:N,default:n?"left":"right",highlighted:"left",onSwitch:_})),e("div",{className:"personal-data-reject-impact"},v)),e("div",{className:"data-section"},e("div",{className:"technical-section-title"},o,e("div",{className:"technical-data-section-title"},l)),e("div",{className:"technical-data-description"},e("ul",null,e("li",{className:"technical-data"},f)),e("div",{className:"flexy-space"}),d=e(a.j,{leftValue:C,rightValue:N,default:c?"left":"right",highlighted:"left",onSwitch:w})),e("div",{className:"technical-data-reject-impact"},O)),e("div",{className:"permissions-text"},y,e("a",{href:"#",onclick:g},j),"."),m=e("input",{type:"button",value:S,className:"important-button normal-button",onclick:h})),p=e("div",{className:"action-progress-overlay-circle size64 hidden"}))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function g(){Object(i.c)(l(),y,1e3,v,O,j)}function h(){const e={m_have_consent_for_personal_data:b,m_have_consent_for_technical_data:f};Object(i.c)(s(e),y,1e3,v,O,j)}function _(e){b="left"===e}function w(e){f="left"===e}function v(){Object(o.q)(p).classList.remove("hidden")}function O(){Object(o.q)(p).classList.add("hidden")}function y(){Object(o.q)(m).setAttribute("disabled","disabled"),Object(o.q)(d).classList.add("switcher-disabled"),Object(o.q)(u).classList.add("switcher-disabled"),Object(o.q)(r).classList.add("disabled-state"),window.addEventListener("mousedown",S,!0)}function j(){Object(o.q)(m).removeAttribute("disabled"),Object(o.q)(d).classList.remove("switcher-disabled"),Object(o.q)(u).classList.remove("switcher-disabled"),Object(o.q)(r).classList.remove("disabled-state"),window.removeEventListener("mousedown",S,!0)}function S(e){e.preventDefault(),e.stopPropagation()}}function s(t,n,a){let c=null,s=null,l=null;return{Create:async function(){const n=await t.LocalizeString("AskConsentToCollectData_RoboFormCannotWorkWithoutPermissions_Text"),a=await t.LocalizeString("AskConsentToCollectData_RemoveExtensionButton_Text"),i=await t.LocalizeString("AskConsentToCollectData_RevisitConsentsButton_Text");return e("div",{className:"need-user-consent-page unselectable"},e("div",{className:"title"},"Privacy"),e("div",{className:"consent-required-message"},n),e("div",{className:"footer"},c=e("input",{type:"button",value:a,className:"normal-button regular-button",onclick:r}),e("div",{className:"flexy-space"}),s=e("input",{type:"button",value:i,className:"important-button normal-button",onclick:u})),l=e("div",{className:"action-progress-overlay-circle size48 hidden"}))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function r(){Object(i.c)(n(),p,1e3,d,m,b)}function u(){Object(i.c)(a(),p,1e3,d,m,b)}function d(){Object(o.q)(l).classList.remove("hidden")}function m(){Object(o.q)(l).classList.add("hidden")}function p(){Object(o.q)(c).setAttribute("disabled","disabled"),Object(o.q)(s).setAttribute("disabled","disabled"),window.addEventListener("mousedown",f,!0)}function b(){Object(o.q)(c).removeAttribute("disabled"),Object(o.q)(s).removeAttribute("disabled"),window.removeEventListener("mousedown",f,!0)}function f(e){e.preventDefault(),e.stopPropagation()}}}).call(this,n(31).JSXCreateElement)},184:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(37),i=n(57),o=n(20),c=n(6),s=n(185),l=n(186),r=n(65),u=n(92),d=n(187),m=n(188),p=n(5),b=n(19),f=n(44),g=n(30),h=n(35),_=n(28),w=n(42),v=n(7),O=n(18),y=n(41),j=n(11),S=n(14),C=n(33),N=n(63),k=n(32),L=n(4),x=n(8),P=n(1),q=n(2),T=n(3),z=n(0),A=n(12),F=(n(13),n(26));function I(t){const{options:n,settings:I,policies:B,service:D,data:E,usageInfo:M,commands:G,securityWarningsManager:R,sharing:U,passwordsHistory:V,breachMon:H,viewNavigator:W,view:K,extensionInfo:X,app:J,http:Y,rng:$}=t;let Q=!1,Z=!0,ee=null,te=!1,ne=!0,ae=null,ie=null,oe="",ce=null,se=!1,le=1,re=null,ue=null,de=null,me=null,pe=!1,be=null,fe=null,ge=null,he="",_e="",we="",ve="",Oe="",ye="",je="",Se="",Ce=void 0,Ne=null,ke=null,Le=null,xe=null,Pe=null,qe=null,Te=!1,ze=!1,Ae=null,Fe="";const Ie=Object(q.n)();let Be=null,De=0,Ee=null,Me=2,Ge=null;const Re=new Map,Ue=new Map;let Ve=1,He=null;const We=new Map,Ke=new Map;let Xe,Je=null,Ye=null,$e=null,Qe="",Ze="",et="",tt="",nt="",at=null,it=!1,ot=!1,ct=null,st=2,lt=null,rt="",ut=null,dt=null;const mt=Object(q.n)(),pt=new Map;let bt="",ft="",gt="",ht="",_t="",wt="",vt="",Ot="",yt="",jt="",St="",Ct="",Nt="";let kt=null;const Lt="undefined"!=typeof IntersectionObserver;let xt=null,Pt=!1,qt=null,Tt="",zt=null,At=null,Ft=null,It=null,Bt=null,Dt=null;const Et=Object(q.n)();let Mt="",Gt="",Rt="",Ut="",Vt="",Ht="",Wt="",Kt="",Xt=!1,Jt=null,Yt=0,$t="",Qt=null,Zt=null,en=null,tn=null,nn=null,an=null,on=null,cn=!1,sn=!1,ln=!1,rn=null;const un=Object(q.n)();let dn=null,mn=null,pn=null;const bn=Object(q.n)();let fn=[],gn="",hn="",_n="",wn="",vn="",On="";const yn=Object(q.n)();let jn=null,Sn=0,Cn=null,Nn=null,kn=null,Ln=null,xn=null,Pn=null,qn=null,Tn=null;const zn=new Map,An="popup-search-"+Object(T.f)(),Fn=Object(q.n)();let In=!1,Bn=null,Dn=null,En=null,Mn=null;const Gn=Object(q.n)();let Rn,Un=null,Vn=null,Hn=null,Wn="",Kn="",Xn="",Jn="",Yn="",$n="",Qn="",Zn="",ea="",ta="",na="",aa="";const ia=new Map,oa=new WeakSet;let ca=null;let sa=null,la=!1,ra="",ua="",da="",ma="",pa="",ba=null,fa="",ga="";const ha=Object(q.n)();let _a=null,wa=null,va=!1,Oa=null,ya=null,ja=!1,Sa=null,Ca=null,Na="",ka="",La=null,xa=!1;const Pa=["mousedown","wheel","keydown"];function qa(e){xa=!0,Pa.forEach(e=>window.removeEventListener(e,qa,!0))}Pa.forEach(e=>window.addEventListener(e,qa,!0));const Ta={Create:async function(){var t;Q=await lc(),ne&&await async function(){let e=await n.GetValue("RoboFormOpensWith",1);const t=await K.storage.Get({MainPageState:null,LastPopupCloseTime:null}),a=t.LastPopupCloseTime,i=t.MainPageState;if(null!==a&&i){Object(A.b)()-a<120&&(e=0)}switch(e){case 1:st=2,De=0;break;case 2:st=2,De=1;break;case 3:st=1,De=0;break;case 4:st=1,De=1;break;case 5:st=0;break;case 0:default:st=function(e){switch(null==e?void 0:e.itemsListType){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 2}}(i),De=function(e){switch(null==e?void 0:e.itemsListMode){case 0:return 0;case 1:return 1;case 2:return 2;default:return 0}}(i)}Yt=function(e){switch(null==e?void 0:e.fillIdViewType){case 0:return 0;case 2:return 2;case 1:return 1;default:return 0}}(i),$t=function(e){var t;return null!==(t=null==e?void 0:e.fillIdPath)&&void 0!==t?t:""}(i)}();const a=await n.Get({ShowBookmarksAndLoginsTogether:!1,FillEmptyFieldsOnlyIdentity:!1,DontShowCompromisedDataIcons:!1});cn=a.FillEmptyFieldsOnlyIdentity,sn=cn,it=a.ShowBookmarksAndLoginsTogether,3===st&&it&&(st=2);const s=null!==(t=a.DontShowCompromisedDataIcons)&&void 0!==t&&t;Z=!s;const l=await K.LocalizeString("Cmd_StartPage_Tip"),r=await K.LocalizeString("MainPage_Settings_Button_Tip");oe=await K.LocalizeString("MainPage_LoginsTab_Search_Placeholder"),he=await K.LocalizeString("MainPage_ShowAll_Logins_Text"),_e=await K.LocalizeString("MainPage_ShowAll_Identities_Text"),we=await K.LocalizeString("MainPage_ShowAll_Bookmarks_Text"),ve=await K.LocalizeString("MainPage_ShowAll_Safenotes_Text"),Oe=await K.LocalizeString("MainPage_ShowAll_NativeMenu_Tip",[await K.LocalizeString(Object(c.B)(1,!0))]),ye=await K.LocalizeString("MainPage_ShowAll_NativeMenu_Tip",[await K.LocalizeString(Object(c.B)(5,!0))]),je=await K.LocalizeString("MainPage_ShowAll_NativeMenu_Tip",[await K.LocalizeString(Object(c.B)(2,!0))]),Se=await K.LocalizeString("MainPage_ShowAll_NativeMenu_Tip",[await K.LocalizeString(Object(c.B)(7,!0))]),Yn=await K.LocalizeString("Page_ListItem_MoreActions_Tip"),$n=await K.LocalizeString("Item_ClickToFill_Tip"),Qn=await K.LocalizeString("Item_ClickToLogin_Tip"),Zn=await K.LocalizeString("Identity_ClickToView_Tip"),ea=await K.LocalizeString("Safenote_ClickToView_Tip"),ta=await K.LocalizeString("Bookmark_ClickToOpen_Tip"),ft=await K.LocalizeString("Cmd_Logins_Flat"),bt=await K.LocalizeString("MainPage_Pinned_Header_Text"),gt=await K.LocalizeString("RoboformType_Identities"),ht=await K.LocalizeString("RoboformType_Bookmarks"),_t=await K.LocalizeString("RoboformType_Safenotes"),wt=await K.LocalizeString("Editor_Cmd_Selector_All_Flat"),vt=await K.LocalizeString("MainPage_Items_Button_Pinned_Tip"),Ot=await K.LocalizeString("MainPage_Items_Button_Logins_Tip"),yt=await K.LocalizeString("MainPage_Items_Button_Identities_Tip"),jt=await K.LocalizeString("MainPage_Items_Button_Bookmarks_Tip"),St=await K.LocalizeString("MainPage_Items_Button_Safenotes_Tip"),Ct=await K.LocalizeString("MainPage_Items_Button_All_Tip"),Nt=await K.LocalizeString("CompromisedItemButton_Tooltip"),na=await K.LocalizeString("Login_OneTimeCode_Text"),aa=await K.LocalizeString("Login_OneTimeCode_Copy_Tip");const u=await K.LocalizeString("MainPage_Recent_Header_Text"),d=await K.LocalizeString("MainPage_Popular_Header_Text"),m=await K.LocalizeString("MainPage_AllItems_Header_Text"),p=await K.LocalizeString("MainPage_FillLogins_Button_Text"),f=await K.LocalizeString("MainPage_FillLogins_Button_Tip");Mt=await K.LocalizeString("MainPage_FillLoginsTab_NoLoginsForPage_Text"),Gt=await K.LocalizeString("MainPage_FillLoginsTab_NoLoginsForDomain_Text"),Rt=await K.LocalizeString("MainPage_CreateLoginInstruction_Top_Text"),Ut=await K.LocalizeString("MainPage_CreateLoginInstruction_Option1_Text"),Vt=await K.LocalizeString("MainPage_CreateLoginInstruction_Option2_Text"),Ht=await K.LocalizeString("MainPage_CreateLoginInstruction_Option3_Text"),Wt=await K.LocalizeString("MainPage_CreateLoginInstruction_Option3_Import_Text"),Kt=await K.LocalizeString("MainPage_CreateLoginInstruction_LearnMore_Link"),Fe=await K.LocalizeString("MainPage_FillIdentities_Button_Text"),_n=await K.LocalizeString("MainPage_Create_Identity_Tip"),wn=await K.LocalizeString("MainPage_ViewAllIdentities_Tip"),vn=await K.LocalizeString("MainPage_FillIdentitiesTab_IdentityView_Top_Text"),On=await K.LocalizeString("MainPage_FillIdentitiesTab_IdentityView_Limited_Top_Text");const g=await K.LocalizeString("Cmd_FillForms_Flat"),h=await K.LocalizeString("Cmd_Edit_Flat"),_=await K.LocalizeString("Cmd_FillEmptyOnly_Key");gn=await K.LocalizeString("MainPage_FillIdentitiesTab_EmptyMatch_Text"),hn=await K.LocalizeString("MainPage_FillIdentitiesTab_CreateFirst_Text"),Qe=await K.LocalizeString("MainPage_FillLoginsTab_Search_Placeholder"),Ze=await K.LocalizeString("MainPage_FillLoginsTabDomain_Search_Placeholder"),et=await K.LocalizeString("MainPage_FillLoginsTabAll_Search_Placeholder"),nt=await K.LocalizeString("MainPage_FillIdentitiesTabAll_Search_Placeholder"),tt=await K.LocalizeString("MainPage_FillIdentitiesTabMatch_Search_Placeholder"),ra=await K.LocalizeString("MainPage_CreateNewButton_File_Tip"),ua=await K.LocalizeString("MainPage_CreateNewButton_Login_Tip"),da=await K.LocalizeString("MainPage_CreateNewButton_Bookmark_Tip"),ma=await K.LocalizeString("MainPage_CreateNewButton_Safenote_Tip"),pa=await K.LocalizeString("MainPage_CreateNewButton_Identity_Tip"),fa=await K.LocalizeString("MainPage_SaveButton_SaveForms_Tip"),ga=await K.LocalizeString("MainPage_SaveButton_SaveBookmark_Tip");const w=await K.LocalizeString("PassGen_Generated_Tip");Wn=await K.LocalizeString("PassAud_PwdStrengthStrong"),Kn=await K.LocalizeString("PassAud_PwdStrengthGood"),Xn=await K.LocalizeString("PassAud_PwdStrengthMedium"),Jn=await K.LocalizeString("PassAud_PwdStrengthWeak");const v=await K.LocalizeString("PassGen_Copy_Tip"),O=await K.LocalizeString("PassGen_Generate"),y=await K.LocalizeString("PassGen_ShowAdvanced");let j,S,N,k,L,x,P,T;if(Na=await K.LocalizeString("Notification_Password_Copied_Text"),ka=await K.LocalizeString("Notification_Password_Filled_Text"),Mn=Object(i.b)(K,fc,gc),ee=e("div",{className:"main-page unselectable",keypress:Zi,keydown:$i},ca=e("div",{className:"action-progress-overlay-circle size48 hidden"}),e("div",{className:"page-header"},e("div",{className:"button-section"},e("div",{className:"start-button",title:l,onclick:wo},e("div",{className:"icon icon-start"}))),ae=e("div",{className:"search-query"},ie=e("input",{className:"search-input",type:"search",placeholder:oe,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellcheck:!1,oninput:Ai,onfocus:xi,onblur:Pi,onkeydown:Yi,onkeypress:Qi,onmouseout:qi,onmouseover:Ti,oncontextmenu:zi})),e("div",{className:"button-section"},e("div",{className:"password-generator-button",title:await K.LocalizeString("Cmd_Password_Generator_Flat"),onclick:vo},e("div",{className:"icon icon-password-generator"})),ce=e("div",{className:"settings-button",title:r,onclick:Oo},e("div",{className:"icon icon-3dots"})))),e("div",{className:"navigation"},be=e("div",{className:"items-native-menu-button",onclick:yo},fe=e("div",{className:"icon icon-logins"}),ge=e("div",{className:"text"},he),e("div",{className:"menu-icon"})),re=e("div",{className:"tab-selector"},ue=e("div",{className:"tab-button items-lists",title:Ot},e("div",{className:"button button-with-dropdown",onclick:za},me=e("div",{className:"icon icon-logins"}),de=e("div",{className:"text"},ft),e("div",{className:"dropdown-button dropdown-icon"}))),e("div",{className:"tab-button-separator"}),Ne=e("div",{className:"tab-button fill-logins",title:f,onclick:to},e("div",{className:"button"},e("div",{className:"icon icon-fill"},ke=e("div",{className:"fill-indicator hidden"})),e("div",{className:"text"},p))),e("div",{className:"tab-button-separator"}),Le=e("div",{className:"tab-button fill-id",onclick:ai},e("div",{className:"button button-with-dropdown"},xe=e("div",{className:"icon fill-identity-icon"},Ae=e("div",{className:"fill-indicator hidden"})),Pe=e("div",{className:"text identity-name"},Fe),qe=e("div",{className:"dropdown-button dropdown-icon"})))),Be=e("div",{className:"list-mode-selectors"},Ee=e("div",{className:"items-lists list-mode-selector hidden"},j=e("div",{className:"list-mode-selector-button",onclick:()=>Ga(0)},d),S=e("div",{className:"list-mode-selector-button",onclick:()=>Ga(1)},u),N=e("div",{className:"list-mode-selector-button",onclick:()=>Ga(2)},m)),Ge=e("div",{className:"fill-logins list-mode-selector hidden"},k=e("div",{className:"list-mode-selector-button",onclick:()=>ao(0)},await K.LocalizeString("MainPage_FillLoginsTab_MatchingLogins_Button_Text")),L=e("div",{className:"list-mode-selector-button",onclick:()=>ao(1)},await K.LocalizeString("MainPage_FillLoginsTab_SameDomain_Button_Text")),x=e("div",{className:"list-mode-selector-button",onclick:()=>ao(2)},await K.LocalizeString("MainPage_FillLoginsTab_AllLogins_Button_Text"))),He=e("div",{className:"fill-id list-mode-selector hidden"},P=e("div",{className:"list-mode-selector-button",onclick:()=>si(0)},await K.LocalizeString("MainPage_FillIdentitiesTab_MatchingIdentities_Button_Text")),T=e("div",{className:"list-mode-selector-button",onclick:()=>si(1)},await K.LocalizeString("MainPage_FillIdentitiesTab_AllIdentities_Button_Text"))))),Je=e("div",{className:"fill-search-query-section hidden"},Ye=e("div",{className:"fill-search-query"},$e=e("input",{className:"fill-search-input",type:"search",placeholder:"",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellcheck:!1,oninput:Mi,onfocus:Fi,onblur:Ii,onkeydown:Yi,onkeypress:Qi,onmouseout:Bi,onmouseover:Di,oncontextmenu:Ei}))),at=e("div",{className:"tab-views"},ct=e("div",{className:"items-lists tab-view hidden"},lt=e("div",{className:"loading-view"},e("div",{className:"action-progress-overlay-circle size48"})),ut=e("div",{className:"list"})),qt=e("div",{className:"fill-logins tab-view hidden"},zt=e("div",{className:"loading-view"},e("div",{className:"action-progress-overlay-circle size48"})),At=e("div",{className:"list hidden"}),Ft=e("div",{className:"list hidden"}),Bt=e("div",{className:"folder-selector hidden"}),It=e("div",{className:"list hidden"})),Jt=e("div",{className:"fill-id tab-view hidden"},Qt=e("div",{className:"loading-view"},e("div",{className:"action-progress-overlay-circle size48"})),Zt=e("div",{className:"identity-view hidden"},e("div",{className:"identity-view-actions"},e("div",{className:"header flex-row"},on=e("div",{className:"identity-view-top-text flex-cell"},vn),en=e("div",{className:"more-actions-button"},e("div",{className:"more-actions-icon image size20"}))),e("div",{className:"buttons"},e("div",{className:"button-section"},nn=e("button",{className:"normal-button regular-button",onclick:Si},g)),e("div",{className:"button-section"},an=e("button",{className:"normal-button regular-button",onclick:Ci},h))),e("div",{className:"fill-empty-section"},e("div",{className:"check-label"},tn=e(C.a,{checked:sn,text:_,onchange:Ni})))),rn=e("div",{className:"identity-data-view"})),mn=e("div",{className:"list hidden"}),dn=e("div",{className:"list hidden"})),ba=e("div",{className:"save-button hidden",title:fa,onclick:zo}),sa=e("div",{className:"create-new-button hidden",title:ra,onclick:Lo})),Cn=e("div",{className:"search-results-section hidden"},Nn=e("div",{className:"loading-view hidden"},e("div",{className:"action-progress-overlay-circle size48"})),kn=e("div",{className:"search-results-view hidden"},Ln=e("div",{className:"list"}))),Bn=e("div",{className:"passgen-section hidden"},e("div",{className:"passgen-filling-option",onclick:dc},e("div",{className:"passgen-icon",title:$n}),e("div",{className:"generated-password-container",title:$n},e("div",{className:"generated-password-title"},w),Dn=e("div",{className:"generated-password"},"")),e("div",{className:"passgen-buttons"},e("div",{className:"button passgen-copy-button",title:v,onclick:mc}),Vn=e("div",{className:"button passgen-new-button",title:O,onclick:pc}),e("div",{className:"button passgen-settings-button",title:y,onclick:bc})),En=e(o.h,{className:"passgen-score-meter hidden",state:"weak",text:""})),e("div",{className:"passgen-settings"},await Mn.Create())),_a=e("div",{className:"manage-auto-fill-on-domain flex-row hidden"}),Oa=e("div",{className:"manage-auto-save-on-domain flex-row hidden"}),Sa=e("div",{className:"rate-extension flex-row hidden"}),Ca=e(o.g,null)),pt.clear(),pt.set(0,j),pt.set(1,S),pt.set(2,N),Re.clear(),Re.set(0,k),Re.set(1,L),Re.set(2,x),We.clear(),We.set(0,P),We.set(1,T),ne){const e=await J.ShouldActivateFillUI(null);e.m_activate_logins?(Me=0,no(),Ve=0):e.m_activate_identities?(Ve=0,oi(),Me=2):e.m_password_generator?(oi(),Ve=0,Me=2):Aa()}else Xo();jo(),Go(),Ro(),Ho(),Wo(),Ea(),Ra(),Fa(),io(),oo(),di(),li(),ri(),_o(),To(),Po(),Mo(),go(),ho(),ui(),X&&function(){Object(q.l)(async function(){var e,o,d;if(!await J.HaveActivePaidConsumerLicense())return;const m=await Object(c.z)(K.storage),p=null!==(e=m.state)&&void 0!==e?e:0,f=null!==(o=m.sessionsCount)&&void 0!==o?o:1,g=Object(A.b)(),h=null!==(d=m.sessionsStartTimes)&&void 0!==d?d:[g],_=Object(z.q)(X).GetExtensionWebStoreInfo().id,w=await Object(c.A)(n,_),v=h.reduce((e,t)=>g-t<604800?e+1:e,0);switch(p){case 0:switch(w){case b.r.Enjoyed:return await s(2),a();case b.r.NotEnjoyed:return u();case b.r.Rated:return r()}return void 0!==m.delayUntil?g>m.delayUntil?(await s(1),t()):void 0:v<3?void 0===m.state?s(0):void 0:(await s(1),t());case 1:switch(w){case b.r.Enjoyed:return await s(2),a();case b.r.NotEnjoyed:return u();case b.r.Rated:return r()}return void 0!==m.delayUntil?g>m.delayUntil?(await s(1),t()):void 0:f<=3?t():l(1,2592e3);case 2:switch(w){case b.r.NotEnjoyed:return u();case b.r.Rated:return r()}return void 0!==m.delayUntil?g>m.delayUntil?(await s(2),a()):void 0:f<=1?a():l(2,5184e3);case 3:switch(w){case b.r.Rated:return r()}return f<=1?i():u();case 4:case 5:return}}());async function t(){const t=e("div",{className:"rate-extension flex-row"},e("div",{className:"text text-break-word flex-cell"},await K.LocalizeString("MainPage_EnjoyUsing",["RoboForm"])),e("div",{className:"important-button button",onclick:()=>Object(q.l)((async()=>{const e=Object(z.q)(X).GetExtensionWebStoreInfo().id;await Object(c.S)(b.r.Enjoyed,I,e),await a(),await s(2)})())},await K.LocalizeString("Yes")),e("div",{className:"regular-button button",onclick:()=>Object(q.l)((async()=>{const e=Object(z.q)(X).GetExtensionWebStoreInfo().id;await Object(c.S)(b.r.NotEnjoyed,I,e),await i(),await s(3)})())},await K.LocalizeString("No")),e("div",{className:"close-button",onclick:()=>Object(q.l)((async()=>{await o(),await l(1,5184e3)})())},"✖"));null==Sa||Sa.replaceWith(t),Sa=t}async function a(){const t=e("div",{className:"rate-extension flex-row"},e("div",{className:"text text-break-word flex-cell"},await K.LocalizeString("MainPage_PleaseRateUs")),e("div",{className:"important-button button",onclick:()=>Object(q.l)((async()=>{await o(),await r();const e=Object(z.q)(X).GetExtensionWebStoreInfo().id;await Object(c.S)(b.r.Rated,I,e),await async function(){const e=Object(z.q)(X).GetExtensionWebStoreInfo().url;return Object(q.k)(G.OpenUrl(e,{newTab:!0,reuseExisting:!0}),"__OpenBrowserExtensionRatePage: open web store page: "+e),J.ClosePopup()}()})())},await K.LocalizeString("MainPage_RateUs_Btn_Text",["RoboForm"])),e("div",{className:"regular-button button",onclick:()=>Object(q.l)((async()=>{await o(),await l(2,2592e3)})())},await K.LocalizeString("MainPage_RemindMeLater_Btn_Text")),e("div",{className:"close-button",onclick:()=>Object(q.l)((async()=>{await o(),await l(2,5184e3)})())},"✖"));null==Sa||Sa.replaceWith(t),Sa=t}async function i(){const t=e("div",{className:"rate-extension flex-row"},e("div",{className:"text text-break-word flex-cell"},await K.LocalizeString("MainPage_WouldYouLikeReportAnIssue")),e("div",{className:"regular-button button",onclick:()=>Object(q.l)((async()=>{await o(),await u()})())},await K.LocalizeString("No")),e("div",{className:"regular-button button",onclick:()=>Object(q.l)((async()=>{await o(),await u(),await async function(){await G.ContactSupport({reportType:"WebPage"},null),J.ClosePopup()}()})())},await K.LocalizeString("Yes")));null==Sa||Sa.replaceWith(t),Sa=t}async function o(){jc(Sa)}async function s(e){const t=Object(A.b)();return Object(c.R)({state:e,stateSetTime:t,sessionsCount:1,sessionsStartTimes:[t],updatedTime:t},K.storage)}async function l(e,t){const n=Object(A.b)();return Object(c.R)({state:e,stateSetTime:n,delayUntil:n+t,updatedTime:n},K.storage)}async function r(){return Object(c.R)({state:4,stateSetTime:Object(A.b)()},K.storage)}async function u(){return Object(c.R)({state:5,stateSetTime:Object(A.b)()},K.storage)}}();return K.onNotificationFromBackgroundScript.Add(ec),E.onDataChanged.Add(tc),n.AddOnChangeListener(nc),te=!0,Object(z.q)(ee)},OnAfterShow:function(){J.IsNativeUIAvailable()&&"mac"===Object(j.e)()&&window.addEventListener("mousedown",So,!0)},OnBeforeHide:function(){window.removeEventListener("mousedown",So),Object(z.q)(Ca).Hide(),La&&(La.Hide(0),La=null)},Focus:function(){Object(z.q)(ie).focus()},Dispose:function(){zn.clear(),pn=null,Dt=null,kt=null,dt=null,K.onNotificationFromBackgroundScript.Remove(ec),E.onDataChanged.Remove(tc),n.RemoveOnChangeListener(nc),Fn.Cancel(),mt.Cancel(),yn.Cancel(),Et.Cancel(),un.Cancel(),bn.Cancel(),ha.Cancel(),Gn.Cancel(),te=!1}};return Ta;function za(e){1===le?function(e){pe||function(){pe=!0;const e=Object(z.q)(ue).getBoundingClientRect(),t=e.bottom+1,n=e.left+7,i={height:0,width:0,top:t,bottom:t,y:t,x:n,right:n,left:n};function o(e){}function c(e){setTimeout((function(){pe=!1,Object(z.q)(ue).classList.remove("highlighted")}),300)}La=Object(a.c)(i,()=>async function(){const e=[];e.push(ni(0)),e.push("separator"),e.push(ni(1)),e.push(ni(2)),it||e.push(ni(3));return e.push(ni(4)),e.push("separator"),e.push(ni(5)),e}(),function(){const e=Object(a.b)(Object(z.q)(ue));return e.onHide=c,e.onShow=o,e}(),(function(e,t){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(t),Object(z.q)(ue).getBoundingClientRect()}),(function(e,t){$o(e(t,Object(q.e)(null,null,null)))}))}(),e.stopPropagation()}(e):Aa()}function Aa(){le=1,rc(),Ji(),Ea(),jo(),Fa(),To(),Po(),Mo(),Ua(st,De)}function Fa(){1===le&&ot&&jc(lt)}function Ia(){const e=ot;ot=!0,e||Fa()}function Ba(e){Xe=e,1===le&&(Xe?Sc(Be):jc(Be))}async function Da(e){let t;try{t=0!==(await E.List("",0,e)).length}catch(n){if(Object(P.d)(n,P.y))throw n;t=!1}Ba(t)}function Ea(){const e=ti(st);yc(de,e.m_button_text),Oc(ue,e.m_button_tooltip||""),Ma(Object(z.q)(me),"icon-",e.m_button_style),mi()}function Ma(e,t,n){const a=e.classList;for(let i=0;i<a.length;i++){const e=a[i];if(e.startsWith(t)){a.remove(e),a.add(n);break}}}function Ga(e){De!==e&&(De=e,rc(),Ra(),Ua(st,De))}function Ra(){for(const[e,t]of pt)e===De?t.classList.add("selected"):t.classList.remove("selected")}function Ua(t,n){mt.Start(async a=>{await async function(t,n,a){if(0===t)return Va(t,1,a);switch(n){case 0:return Va(t,3,a);case 1:return Va(t,0,a);case 2:return async function(t,n){let a=!1,i=[],c=null,s=!1;kt&&kt.m_list_mode===De&&kt.m_items_type===st?(a=!0,i=kt.m_items,c=kt.m_all_items_selected_folder):s=!0;const l=await E.List(rt,0,n);let r;const u=Ha(t);switch(u){case 1:r=it?new Set([8,1,2]):new Set([8,1]);break;case 0:case 9:r=new Set([8,1,2,3,4,5,6,7]);break;default:r=new Set([8,u])}const d=l.filter(e=>r.has(e.type));if(n.ThrowIfShouldStop(),0===d.length&&!rt)return Ja(),await Za(),kt=null,Ia(),void await Da(n);Ba(!0),s&&Ja();const m=[],p=[];for(let b=0;b<d.length;b++){const t=d[b];if(a&&b<i.length){const e=i[b];if(e.m_path===t.path&&e.m_mod_time===t.mod&&e.m_received===t.received){p.push(e);continue}}const n=8===t.type?Object(L.o)(t.path):Object(L.D)(Object(L.o)(t.path)),c=Object(L.j)(n,100),s=Co(t);let l,r,u,f,g;const h=1===t.type||2===t.type?"icon-section with-border":"icon-section",_=e("div",{className:"list-item multiple-rows",onmouseenter:()=>{Wa(ut,_,sa,l),Wa(ut,_,ba,l)},onmouseleave:()=>{Ka(l)}},e("div",{className:"list-item-main-row"},l=e("div",{className:"icon-text",onclick:()=>{8===t.type?(rt=t.path,Ua(st,2)):Yo(t,!1,!1)},oncontextmenu:e=>Jo(t.path,_,e,!1)},e("div",{className:h},r=Object(o.d)(t.path,t.type),null!==s?e("div",{className:s}):null),e("div",{className:"path-view"},e("div",{className:"text"},e("span",null,c))),8===t.type?null:1===t.type&&e("div",{className:"action-icon image login-action-icon"})||2===t.type&&e("div",{className:"action-icon image goto-action-icon"})||e("div",{className:"action-icon image view-action-icon"})),g=Z?Object(o.a)(t,Nt,Zo):null,u=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(_,u,t.path,!1)},e("div",{className:"icon more-actions-icon image"}))),f=1===t.type?e("div",{className:"list-item-data-row hidden"}):null),w={m_path:t.path,m_mod_time:t.mod,m_received:t.received,m_element:_};p.push(w);const v=n.length>200;if(No(l,t.type,!1,v,Object(L.j)(n,400)),1!==t.type&&2!==t.type||m.push({m_item_el:_,m_item_icon_el:r,m_item_data_view_el:f,m_compromised_button_el:g,m_item_info:t}),!a||b>=i.length)Object(z.q)(ut).appendChild(_);else{const e=i[b].m_element;Object(z.q)(ut).replaceChild(_,e)}}if(a&&i.length>d.length)for(let e=d.length;e<i.length;e++){const t=i[e].m_element;Object(z.q)(ut).removeChild(t)}if(rt){if(c!==rt){Xa();const t=[],n=rt.split("/");for(let a=0;a<n.length;a++){const i=n[a],o=0===a?await K.LocalizeString("HomeFolder"):i,c=e("div",{className:"folder-part"},e("div",{className:"folder-name",onclick:function(){const e=n.slice(0,a+1).join("/");e!==rt&&(rt=e,Ua(st,2))}},o),a!==n.length-1?e("div",{className:"folder-separator"},">"):null);t.push(c)}dt=e("div",{className:"folder-selector"},t),Object(z.q)(ct).insertBefore(Object(z.q)(dt),Object(z.q)(ut))}}else Xa();Ia(),kt={m_list_mode:De,m_items_type:st,m_all_items_selected_folder:rt,m_items:p},ct&&0!==m.length&&Object(q.l)(ko(ct,m,n));mi()}(t,a)}}(t,n,a)})}async function Va(t,n,a){let i=!1,s=[],l=!1;kt&&kt.m_list_mode===De&&kt.m_items_type===st?(i=!0,s=kt.m_items):l=!0;const r=Ha(t),u=await J.GetUsageInfoListItems(1===r&&it?[1,2]:[r],n,a);if(a.ThrowIfShouldStop(),Xa(),0===u.length)return Ja(),await Za(),kt=null,Ia(),void await Da(a);Ba(!0),l&&Ja();const d=Object(c.a)(u),m=[],p=[];for(let c=0;c<u.length;c++){const t=u[c],n=t.path;if(i&&c<s.length){const e=s[c];if(e.m_path===n&&e.m_mod_time===t.mod&&e.m_received===t.received){p.push(e);continue}}const a=Object(L.D)(Object(L.o)(n)),l=Co(t);let r,b,f,g,h;const _=1===t.type||2===t.type?"icon-section with-border":"icon-section",w=e("div",{className:"list-item multiple-rows",onmouseenter:()=>{Wa(ut,w,sa,r),Wa(ut,w,ba,r)},onmouseleave:()=>{Ka(r)}},e("div",{className:"list-item-main-row"},r=e("div",{className:"icon-text",onclick:()=>Yo(t,!1,!1),oncontextmenu:e=>Jo(n,w,e,!1)},e("div",{className:_},b=Object(o.d)(n,t.type),null!==l?e("div",{className:l}):null),e("div",{className:"path-view"},Object(o.b)(n,100,100,0!==d.size)),1===t.type&&e("div",{className:"action-icon image login-action-icon"})||2===t.type&&e("div",{className:"action-icon image goto-action-icon"})||e("div",{className:"action-icon image view-action-icon"})),g=Z?Object(o.a)(t,Nt,Zo):null,h=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(w,h,n,!1)},e("div",{className:"icon more-actions-icon image"}))),f=1===t.type?e("div",{className:"list-item-data-row hidden"}):null),v={m_path:t.path,m_mod_time:t.mod,m_received:t.received,m_element:w};p.push(v);const O=0!==d.size,y=Object(L.D)(Object(L.o)(n)).length>100||O&&Object(L.q)(n).length>100;if(No(r,t.type,!1,y,Object(L.j)(a,400)),1!==t.type&&2!==t.type||m.push({m_item_el:w,m_item_icon_el:b,m_item_data_view_el:f,m_compromised_button_el:g,m_item_info:t}),!i||c>=s.length)Object(z.q)(ut).appendChild(w);else{const e=s[c].m_element;Object(z.q)(ut).replaceChild(w,e)}}if(i&&s.length>u.length)for(let e=u.length;e<s.length;e++){const t=s[e].m_element;Object(z.q)(ut).removeChild(t)}Ia(),kt={m_list_mode:De,m_items_type:st,m_all_items_selected_folder:null,m_items:p},ut&&0!==m.length&&Object(q.l)(ko(ut,m,a)),mi()}function Ha(e){switch(e){case 2:return 1;case 3:return 2;case 4:return 7;case 5:return 5;case 1:case 0:return 9}}function Wa(e,t,n,a){if(e&&n&&function(e,t){const n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),i=a.top<n.bottom&&a.top>n.top,o=a.bottom>n.top+7&&a.bottom<n.bottom;return i||o}(n,t)){const e=t.getBoundingClientRect(),i=n.getBoundingClientRect();if(Object(x.r)(e)||Object(x.r)(i))return;if(""===a.style.maxWidth){const t=a.getBoundingClientRect();if(!Object(x.r)(t)){const n=e.right-t.right;a.style.maxWidth=Object(j.a)(i.left-n)}}}}function Ka(e){e.style.maxWidth=""}function Xa(){dt&&(Object(z.q)(ct).removeChild(dt),dt=null)}function Ja(){Object(S.g)(Object(z.q)(ut))}function Ya(t){return e("div",{className:"instruction-section"},e("div",{className:"text"},Rt),e("ul",{className:"instruction-options"},e("li",{className:"instruction-option"},e("span",{className:"text"},Ut)),e("li",{className:"instruction-option"},e("span",{className:"text"},$a(Vt,ei))),e("li",{className:"instruction-option"},e("span",{className:"text"},Object(T.L)(Ht,"%1").before),e("span",{className:"link",onclick:()=>Object(q.l)((async()=>{await G.ShowImportDialog(),J.ClosePopup()})())},Wt),e("span",{className:"text"},Object(T.L)(Ht,"%1").after))),t?e("div",{className:"link",onclick:Qa},Kt):null)}function $a(t,n){const a=Object(T.L)(t,"%1");let i;return i=a.found?e("span",null,e("span",{className:"text"},a.before),e("span",{className:"circle plus",onclick:e=>null==n?void 0:n(e)}),e("span",{className:"text"},a.after)):e("span",null,e("span",{className:"text"},t)),i}function Qa(){return Object(q.k)(G.OpenUrl(c.F,{newTab:!0,reuseExisting:!0}),"MainPage: OpenUrl(Learn More)"),J.ClosePopup()}async function Za(){let t="",n=!0;if(0===st){const e=await E.GetCounts("",null);n=!!e.length,t=n?"big-icon pinned-icon":Object(T.B)("big-icon"," ",Object(o.f)(1))}else{const e=i();switch(e){case 2:case 5:case 7:t=Object(T.B)("big-icon"," ",Object(o.f)(e));break;case 1:case 9:t=Object(T.B)("big-icon"," ",Object(o.f)(1))}}const a=e("div",{className:"create-first-item-section"},e("div",{className:"big-icon-section"},e("div",{className:t})),await async function(){if(0===st){if(n){jc(ba);return e("div",{className:"instruction-section"},e("div",{className:"text"},await K.LocalizeString("MainPage_CreatePinItemInstruction_Text")))}return Sc(ba),Ya(!0)}const t=i();switch(t){case 7:case 5:jc(ba);return e("div",{className:"instruction-section"},$a(7===t?await K.LocalizeString("MainPage_CreateFirstSafenoteInstructions_Text"):await K.LocalizeString("MainPage_FillIdentitiesTab_CreateFirst_Text"),ei));case 2:Sc(ba);return e("div",{className:"instruction-section"},$a(await K.LocalizeString("MainPage_CreateFirstBookmarkInstructions_Text"),ei));case 1:case 9:default:return Sc(ba),Ya(!0)}}());return void Object(z.q)(ut).appendChild(a);function i(){switch(st){case 1:return 9;case 4:return 7;case 3:return 2;case 5:return 5;default:return 1}}}function ei(e){xo(!1)}function ti(e){switch(e){case 0:return{m_button_tooltip:vt,m_button_text:bt,m_button_style:"icon-pinned",m_menu_css:"command-show-pinned"};case 1:return{m_button_tooltip:Ct,m_button_text:wt,m_button_style:"icon-all",m_menu_css:"command-show-all"};case 2:return{m_button_tooltip:Ot,m_button_text:ft,m_button_style:"icon-logins",m_menu_css:"command-show-logins"};case 3:return{m_button_tooltip:jt,m_button_text:ht,m_button_style:"icon-bookmarks",m_menu_css:"command-show-bookmarks"};case 4:return{m_button_tooltip:St,m_button_text:_t,m_button_style:"icon-safenotes",m_menu_css:"command-show-safenotes"};case 5:return{m_button_tooltip:yt,m_button_text:gt,m_button_style:"icon-identities",m_menu_css:"command-show-identities"}}}function ni(e){const t=ti(e);return{title:t.m_button_text,imageClass:t.m_menu_css,onCommand:async(t,n)=>{st!==e&&(st=e,rc(),Wo(),Ea(),jo(),Fa(),To(),Po(),Mo(),Ua(st,De))}}}function ai(e){return 3===le&&ze?function(e){Te||function(){Te=!0;const e=Object(z.q)(Le).getBoundingClientRect(),t=e.bottom+1,n=e.right,i={height:0,width:0,top:t,bottom:t,y:t,x:n,right:n,left:n};function o(e){}function c(e){setTimeout((function(){Te=!1,Object(z.q)(Le).classList.remove("highlighted")}),300)}La=Object(a.c)(i,()=>async function(){const e=[],t=fn.slice(0,5);for(const a of t){const t=Object(z.q)(jn).m_matching_identities.find(e=>e.path===a.path);Li(e,a,void 0!==t)}const n=fn.length;return e.push("separator"),e.push({title:await K.LocalizeString("Editor_Indicator_Show_AllIdentities",[n.toString()]),onCommand:async(e,t)=>{2===Yt&&1===Ve||(Yt=2,Ve=1,rc(),Wo(),li(),di(),ri(),To(),Po(),Mo(),ci(0))}}),e}(),function(){const e=Object(a.b)(Object(z.q)(Le));return e.onHide=c,e.onShow=o,e}(),(function(e,t){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(t),Object(z.q)(Le).getBoundingClientRect()}),(function(e,t){$o(e(t,Object(q.e)(null,null,null)))}))}(),e.stopPropagation()}(e):oi()}function ii(e){$t=e,Yt=1,oi()}function oi(){le=3,rc(),Wo(),_o(),di(),li(),ri(),To(),Po(),Mo(),ci(0)}function ci(t){switch(Yt){case 0:Ji(),fi(t);break;case 2:{const e=Object(z.q)($e).value;if(e)Sc(Je),Vo(Ve,!0),Gi(e,2,0);else switch(Ji(),Ve){case 1:fi(t);break;case 0:!function(e){bn.Start(async t=>{0!==e&&await Object(q.h)(e).Execute(t),pi()})}(t)}}break;case 1:Ji(),n=t,un.Start(async t=>{0!==n&&await Object(q.h)(n).Execute(t),await async function(t){var n,i,o,c,s,l,r,u,d,m,b;const f=await E.GetInfo($t,1,t),g=f.readOnly||!1,h=f.hidePasswords||!1,_=await E.GetDataItem($t,3,null,null);en&&(en.title=Yn,en.onclick=()=>{!function(e,t,n){const i=t.getBoundingClientRect();async function o(){return Ko()}async function c(){return Ko()}La=Object(a.c)(i,async()=>Fo(await E.GetInfo(n,36,null),!0,o,c),function(){let n=null;return{onShow:o=>{Object(a.a)(t,!0),e&&Object(a.a)(e,!0);let c=t.parentElement;for(;null!==c;)c.addEventListener("scroll",i),c=c.parentElement;n=o},onHide:()=>{Object(a.a)(t,!1),e&&Object(a.a)(e,!1);let o=t.parentElement;for(;null!==o;)o.removeEventListener("scroll",i),o=o.parentElement;n=null}};function i(){null==n||n.Hide(4)}}(),(function(e,n){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(n),t.getBoundingClientRect()}),(function(e,t){$o(e(t,Object(q.e)(null,null,null)))}))}(null,Object(z.q)(en),$t)}),h?(yc(on,On),jc(an)):(yc(on,vn),yc(an,g?await K.LocalizeString("Cmd_View_Flat"):await K.LocalizeString("Cmd_Edit_Flat")),Sc(an));const w=Object(L.D)(Object(L.o)(f.path));Oc(nn,await K.LocalizeString("MainPage_FillIdentitiesTab_IdentityView_FillBtn_Tip",[w]));const v=await K.LocalizeString("Notification_Copied_ToClipboard_Text"),O=await K.LocalizeString("MainPage_FillIdentitiesTab_IdentityView_CopyDrag_Tip"),C=await K.LocalizeString("MainPage_FillIdentitiesTab_IdentityView_Copy_Tip"),N=(null===(n=_.m_options)||void 0===n?void 0:n["World Regions"])||"United States",k=[],x=new Map(_.m_groups.map(e=>[e.m_name,e])),P=["Person","Location","Credit Card","Bank Account","Business","Passport","Car"];for(const a of P){const t=x.get(a);if(!t)continue;if(0===t.m_instances.length)continue;const n=t.m_instances;if(h&&1===n.length)continue;let f;if(1===n.length)switch(a){case"Credit Card":f=null===(i=n[0].m_fields.find(e=>"Card Type"===e.m_name))||void 0===i?void 0:i.m_value;break;case"Bank Account":f=null===(o=n[0].m_fields.find(e=>"Bank Name"===e.m_name))||void 0===o?void 0:o.m_value}const g=await Object(y.b)(a,K),_="identity-group-"+a.toLowerCase().replace(" ","-")+"-icon";let w;const S=e("div",{className:"identity-fields-group"},e("div",{className:"header"},e("div",{className:"instance-icon "+_}),e("div",{className:"name"},g),f?e("div",{className:"aux-instance-name"},f):null,1===n.length?e("div",{className:"icon-copy",title:C,onclick:()=>{h||Object(q.l)((async()=>{const e=await yi(a,n[0],N);await J.CopyTextToClipboardWithAutoClear(e,120),Do(v,3,null)})())}}):null),w=e("div",{className:"instances"}));let L=!1;const P=t.m_current_instance&&(null===(c=t.m_instances.find(e=>e.m_name===t.m_current_instance))||void 0===c?void 0:c.m_name)||"";for(const i of n){const t=i.m_name,o=new Map(i.m_fields.filter(e=>e.m_name).map(e=>{var t;return[Object(z.q)(e.m_name),null!==(t=e.m_value)&&void 0!==t?t:""]}));let c=await Object(y.d)(N,a,o,K,!1);if(1===n.length&&0===c.length)continue;L||(k.push(S),L=!0);const f=P?t===P:null!==(s=i.m_is_default)&&void 0!==s&&s;let g,_,x,A;switch(a){case"Credit Card":x=o.get("Card Type"),A="Card Type";break;case"Bank Account":x=o.get("Bank Name"),A="Bank Name"}if(n.length>1){const n=(await Object(p.g)(t,a,o,N,K)).m_name;x&&n.includes(x)&&(x=void 0),g=e("div",{className:"instance"},e("div",{className:"header"},e("label",{className:"radio"},e("input",{type:"radio",className:"radio-button",name:a,value:t,checked:f}),e("div",{className:"instance-name"},n),x?e("div",{className:"aux-instance-name"},x):null,0===c.length||h?null:e("div",{className:"icon-copy",title:C,onclick:e=>{e.preventDefault(),e.stopPropagation(),Object(q.l)((async()=>{const e=await yi(a,i,N);await J.CopyTextToClipboardWithAutoClear(e,120),Do(v,3,null)})())}}))),_=e("div",{className:"fields"}))}else g=e("div",{className:"instance"},_=e("div",{className:"fields"}));if(!h){A&&(o.delete(A),c=await Object(y.d)(N,a,o,K,!1));const t=[[]];for(let e=0;e<c.length;e++){const n=c[e];switch(n.m_type){default:t[t.length-1].push(n);break;case 3:e<c.length-1&&t.push([])}}const n=[];for(const e of t)if(0!==e.length)if(0===e[0].m_type)if(0===n.length)n.push([e]);else{const t=n[n.length-1],a=t[t.length-1];0===a[0].m_type&&a.length===e.length?t.push(e):n.push([e])}else n.push([e]);for(const a of n){if(0===a.length)continue;const t=e("div",{className:a.length>1?"grid":"line"});for(const n of a){let i="";const o=1!==a.length&&!t.style.gridTemplateColumns;let c,s=!1;for(const a of n)switch(a.m_type){case 0:{const n=e("div",{className:"caption"},null!==(l=a.m_display_value)&&void 0!==l?l:"",":");t.appendChild(n),o&&(i=Object(T.B)(i," ","auto")),c=n,s=!0}break;case 2:if(c)if(s)a.m_display_value&&(c.textContent+=a.m_display_value);else{const t=e("div",{className:"separator"},null!==(u=null===(r=a.m_display_value)||void 0===r?void 0:r.trim())&&void 0!==u?u:"");c.appendChild(t)}break;case 1:{const n=null!==(m=null!==(d=a.m_actual_value)&&void 0!==d?d:a.m_display_value)&&void 0!==m?m:"",l=n===(null!==(b=a.m_display_value)&&void 0!==b?b:"");let r,u,p,f=!1,g=h||!l?"text":"text selectable";a.m_can_copy&&(g=Object(T.B)(g," ","monospace"));const _=e("div",{className:"cell"},r=e("div",{className:"value"},!h&&a.m_actual_value&&a.m_display_value&&a.m_actual_value!==a.m_display_value?p=e("div",{className:"icon-eye open",onclick:()=>{f?(f=!1,Oi(u,a.m_display_value,a.m_display_chunk_length,!0),p.classList.remove("closed"),p.classList.add("open"),u.classList.remove("selectable")):(f=!0,Oi(u,a.m_actual_value,a.m_display_chunk_length,!1),p.classList.remove("open"),p.classList.add("closed"),u.classList.add("selectable"))}}):null,u=e("div",{className:g,ondblclick:e=>{l&&(Object(j.k)(u),e.preventDefault())}},vi(a.m_display_value,a.m_display_chunk_length,!l)),a.m_can_copy?e("div",{className:"icon-copy",title:O,onclick:()=>{h||Object(q.l)(async function(){await J.CopyTextToClipboardWithAutoClear(n,120),Do(v,3,null)}())},draggable:h?"false":"true",ondragstart:e=>{var t;null===(t=e.dataTransfer)||void 0===t||t.setData("text/plain",n)}}):null));t.appendChild(_),o&&(i=Object(T.B)(i," ","auto")),c=r,s=!1}}o&&i&&(t.style.gridTemplateColumns=i)}_.appendChild(t)}}w.appendChild(g)}}Object(S.g)(Object(z.q)(rn)),k.forEach(e=>Object(z.q)(rn).appendChild(e)),ji()}(t)})}var n}function si(e){Ve!==e&&(Ve=e,li(),Wo(),Ho(),ci(0),ri())}function li(){for(const[e,t]of We)e===Ve?t.classList.add("selected"):t.classList.remove("selected")}function ri(){if(3===le&&Xt)switch(jc(Qt),Yt){case 0:jc(He),jc(dn),jc(Zt),Sc(mn);break;case 1:jc(He),jc(mn),jc(dn),Sc(Zt);break;default:case 2:Sc(He),jc(Zt),1===Ve?(jc(dn),Sc(mn)):(jc(mn),Sc(dn))}}function ui(){Ie.Start(async e=>{await async function(e){const t=await M.GetUsageInfoList(5,3,e),n=await J.GetAllIdentities(e);if(function(e,t){const n=new Map(e.map(e=>[e.path,e]));t.forEach(e=>{const t=e.path;n.has(t)||n.set(t,e)}),fn=[...n.values()]}(t,n),0===fn.length){const e=Yt;return Yt=0,ji(),di(),Vo(1,!1),Vo(0,!1),Ho(),void(3===le&&Yt!==e&&(gi(),hi(),pn=null))}if(""!==$t){const e=fn.filter(e=>e.path===$t);e&&0!==e.length||(Yt=0,$t="")}if(0===Yt){const e=fn[0].path;$t=e,Yt=1}di(),ri(),3===le&&ci(0)}(e)})}function di(){switch(Yt){case 0:case 2:xe&&(xe.className="icon fill-identity-icon",xe.firstChild&&xe.firstChild!==Ae&&xe.removeChild(xe.firstChild));break;default:if(xe){xe.className="icon",xe.firstChild&&xe.firstChild!==Ae&&xe.removeChild(xe.firstChild);const e=Object(o.c)($t,Object(o.e)($t)).Element();xe.insertBefore(e,xe.firstChild)}}switch(Yt){case 0:yc(Pe,Fe),Oc(Le,_n),jc(qe),ze=!1,$t="",Ve=1;break;case 2:yc(Pe,Fe),Oc(Le,wn),ze=!0,Sc(qe);break;default:{const e=Object(L.D)(Object(L.o)($t));yc(Pe,Object(L.j)(e,100)),No(Object(z.q)(Le),5,!1,!0,Object(L.j)(e,400)),1===fn.length?(ze=!1,jc(qe)):(ze=!0,Sc(qe)),mi()}}}function mi(){if(ee){const e=window.getComputedStyle(ee),t=Object(j.h)(e.minWidth),n=Object(j.h)(e.maxWidth),a=ee.getBoundingClientRect();a&&a.width>t&&a.width<=n&&(ee.style.minWidth=Object(j.a)(Math.ceil(a.width)))}}function pi(){if(!jn)return;const t=jn.m_matching_identities;if(0===t.length)return Vo(0,!1),Ho(),bi(),_i(),pn=null,void ji();t.length>5?Vo(0,!0):Vo(0,!1),Ho();let n=[];pn&&0===pn.m_list_type?n=pn.m_items:bi();const a=[],i=Object(c.a)(t);for(let c=0;c<t.length;c++){const s=t[c],l=s.path;if(c<n.length){const e=n[c];if(e.m_path===l&&e.m_mod_time===s.mod&&e.m_received===s.received){a.push(e);continue}}const r=Object(L.D)(Object(L.o)(l)),u=Co(s);let d,m,p;const b=e("div",{className:"list-item",onmouseenter:()=>{m.offsetWidth<m.scrollWidth&&Oc(m,r),Wa(dn,b,sa,d),Wa(dn,b,ba,d)},onmouseleave:()=>{Ka(d)}},d=e("div",{className:"icon-text",title:$n,onclick:e=>wi(e,s.path),oncontextmenu:e=>Jo(s.path,b,e,!1)},e("div",{className:"icon-section"},Object(o.d)(s.path,s.type),u?e("div",{className:u}):null),m=Object(o.b)(l,100,100,0!==i.size),e("div",{className:"action-icon image fill-action-icon"})),p=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(b,p,s.path,!0)},e("div",{className:"icon more-actions-icon image"}))),f={m_path:s.path,m_mod_time:s.mod,m_received:s.received,m_element:b};if(a.push(f),c>=n.length)Object(z.q)(dn).appendChild(b);else{const e=n[c].m_element;Object(z.q)(dn).replaceChild(b,e)}}if(n.length>t.length)for(let e=t.length;e<n.length;e++){const t=n[e].m_element;Object(z.q)(dn).removeChild(t)}ji(),pn={m_items:a,m_list_type:0}}function bi(){Object(S.g)(Object(z.q)(dn))}function fi(t){bn.Start(async n=>{0!==t&&await Object(q.h)(t).Execute(n),await async function(t){let n=[],a=!1;pn&&1===pn.m_list_type?n=pn.m_items:a=!0;const i=await J.GetAllIdentities(t);if(t.ThrowIfShouldStop(),0===i.length)return Vo(1,!1),Ho(),gi(),hi(),ji(),void(pn=null);i.length>5?Vo(1,!0):Vo(1,!1);Ho(),a&&gi();const s=[],l=Object(c.a)(i);for(let c=0;c<i.length;c++){const t=i[c],a=t.path;if(c<n.length){const e=n[c];if(e.m_path===a&&e.m_mod_time===t.mod&&e.m_received===t.received){s.push(e);continue}}const r=Object(L.D)(Object(L.o)(a)),u=Co(t);let d,m,p;const b=e("div",{className:"list-item",onmouseenter:()=>{m.offsetWidth<m.scrollWidth&&Oc(m,r),Wa(mn,b,sa,d),Wa(mn,b,ba,d)},onmouseleave:()=>{Ka(d)}},d=e("div",{className:"icon-text",title:$n,onclick:e=>wi(e,t.path),oncontextmenu:e=>Jo(t.path,b,e,!1)},e("div",{className:"icon-section"},Object(o.d)(t.path,t.type),u?e("div",{className:u}):null),m=Object(o.b)(a,100,100,0!==l.size),e("div",{className:"action-icon image fill-action-icon"})),p=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(b,p,t.path,!0)},e("div",{className:"icon more-actions-icon image"}))),f={m_path:t.path,m_mod_time:t.mod,m_received:t.received,m_element:b};if(s.push(f),c>=n.length)Object(z.q)(mn).appendChild(b);else{const e=n[c].m_element;Object(z.q)(mn).replaceChild(b,e)}}if(n.length>i.length)for(let e=i.length;e<n.length;e++){const t=n[e].m_element;Object(z.q)(mn).removeChild(t)}ji(),pn={m_items:s,m_list_type:1}}(n)})}function gi(){Object(S.g)(Object(z.q)(mn))}function hi(){const t=e("div",{className:"empty-list"},e("div",{className:"big-icon-section"},e("div",{className:"big-icon identity-icon"})),e("div",{className:"instruction-section"},$a(hn,ei)));Object(z.q)(mn).appendChild(t)}function _i(){const t=e("div",{className:"empty-list"},e("div",{className:"text"},gn));Object(z.q)(dn).appendChild(t)}function wi(e,t){$o((async()=>ii(t))())}function vi(t,n,a){return t?n&&!t.match(a?/[^0-9\u25cf]/:/[^0-9]/)?Object(T.M)(t,n).map(t=>e("span",{className:"chunk"},t)):t:""}function Oi(t,n,a,i){if(n)if(a&&!n.match(i?/[^0-9\u25cf]/:/[^0-9]/)){const i=Object(T.M)(n,a);let o=0;for(;o<t.children.length;o++)t.children[o].textContent=i[o];for(;o<i.length;o++)t.appendChild(e("span",{className:"chunk"},i[o]))}else t.textContent=n;else t.textContent=""}async function yi(e,t,n){var a,i;const o=t.m_fields,c=new Map;for(const u of o)u.m_name&&c.set(u.m_name,u.m_value||"");const s=await Object(y.d)(n,e,c,K,!0);let l="",r=!1;for(const u of s){const e=null!==(i=null!==(a=u.m_actual_value)&&void 0!==a?a:u.m_display_value)&&void 0!==i?i:"";switch(u.m_type){case 0:l+=e,r=!0;break;case 3:l+="\n",r=!1;break;default:r?l=Object(T.B)(l,": ",e):l+=e,r=!1}}return l}function ji(){const e=Xt;Xt=!0,e||ri()}function Si(){$o(ki()),Object(z.q)(nn).blur()}function Ci(){return Object(q.k)(G.OpenFile($t,{mode:"view"}),"MainPage:_OnIdentityEditButtonClick: OpenFile command"),J.ClosePopup()}function Ni(){sn=Object(z.q)(tn).GetChecked(),ln=!0}async function ki(){const e=$t,t=await E.GetDataItem(e,3,null,null);let n=Object(z.h)(t);const a=await E.GetInfo(e,1,null);let i=!1;for(const c of n.m_groups){const e=c.m_name;if("Custom"===e||"Default Password"===e)continue;if(c.m_instances.length<=1)continue;const t=c.m_current_instance||"",n=Object(z.q)(rn).getElementsByClassName("radio-button");for(let a=0;a<n.length;a++){const o=n[a];if(o.getAttribute("name")===e&&o.checked){const e=o.getAttribute("value");e&&e!==t&&(c.m_current_instance=e,i=!0);break}}}cn!==sn&&(await I.SetValue("FillEmptyFieldsOnlyIdentity",sn),cn=sn),i&&(await E.PutDataItem(e,n,null),n=Object(z.h)(n));for(const c of n.m_groups){const e=c.m_name;if("Custom"===e||"Default Password"===e)continue;if(c.m_instances.length<=1)continue;const t=c.m_current_instance||"";c.m_instances=c.m_instances.filter(e=>e.m_name===t)}const o=await Object(c.f)(e,n,a.lastUsedTime,a.mod,a.cre,void 0,void 0,void 0);Object(q.l)(G.FillForms({userDataItem:o.m_data,identity:!0,submit:!1,fillEmptyFieldsOnly:sn,verifyCustomFieldsConflicts:!0},null)),J.ClosePopup()}function Li(e,t,n){const a=t.path,i=Object(L.D)(Object(L.o)(a));e.push({title:Object(L.j)(i,25),type:n?"fillable":"normal",imageEl:Object(o.c)(a,Object(o.e)(a)).Element(),onCommand:async(e,n)=>{1===Yt&&$t===t.path||(Yt=1,$t=t.path,rc(),Wo(),qo(),di(),ri(),To(),Po(),Mo(),ci(0))}})}function xi(){Vi(ae),So()}function Pi(){Ri(ae)}function qi(){document.activeElement!==Object(z.q)(ie)&&Ri(ae)}function Ti(){document.activeElement!==Object(z.q)(ie)&&Ui(ae)}function zi(e){e.stopPropagation()}function Ai(){const e=Object(z.q)(ie).value;if(!e)return Ji(),void Xo();Gi(e,1,300)}function Fi(){Vi(Ye),So()}function Ii(){Ri(Ye)}function Bi(){document.activeElement!==Object(z.q)($e)&&Ri(Ye)}function Di(){document.activeElement!==Object(z.q)(ie)&&Ui(Ye)}function Ei(e){e.stopPropagation()}function Mi(){const e=Object(z.q)($e).value;if(!e)return Ji(),void Xo();Gi(e,2,300)}function Gi(e,t,n){Sn!==t&&(Sn=t,function(){switch(Sn){default:case 1:jc(be),jc(re),jc(Be),jc(Je);break;case 2:}jc(at),jc(Bn),qo(),jc(kn),Sc(Nn),Sc(Cn)}()),Hi(e,n)}function Ri(e){const t=document.querySelector(".main-page");Object(z.q)(e).style.borderColor=window.getComputedStyle(Object(z.q)(t)).getPropertyValue("--search-input-border-color")||"initial"}function Ui(e){const t=document.querySelector(".main-page");Object(z.q)(e).style.borderColor=window.getComputedStyle(Object(z.q)(t)).getPropertyValue("--search-input-hover-border-color")||"initial"}function Vi(e){const t=document.querySelector(".main-page");Object(z.q)(e).style.borderColor=window.getComputedStyle(Object(z.q)(t)).getPropertyValue("--search-input-focused-border-color")||"initial"}function Hi(t,n){Fn.Start(async a=>{0!==n&&await Object(q.h)(n).Execute(a),await async function(t,n){try{if(!t)return;Object(S.g)(Object(z.q)(Ln)),xn=[],Tn=null,Pn=[],qn=new Map,t=Object(T.z)(t),await async function(t,n){let a,i,o,c=!1;switch(Sn){case 0:a=[];break;case 1:{const e=await Ki(t,n);a=e.items,i=e.searchParts,o=e.matchesPerItem}break;case 2:switch(le){case 1:a=[];break;case 2:switch(Me){case 0:if(a=await Xi(Object(z.q)(jn).m_matching_logins,t),0===a.length){const e=await Ki(t,n);i=e.searchParts,o=e.matchesPerItem,a=e.items.filter(e=>1===e.type),0!==a.length&&(c=!0)}break;case 1:if(a=await Xi([...Object(z.q)(jn).m_matching_logins,...Object(z.q)(jn).m_domain_logins],t),0===a.length){const e=await Ki(t,n);i=e.searchParts,o=e.matchesPerItem,a=e.items.filter(e=>1===e.type),0!==a.length&&(c=!0)}break;case 2:{const e=await Ki(t,n);i=e.searchParts,o=e.matchesPerItem,a=e.items.filter(e=>1===e.type)}}break;case 3:if(2===Yt&&0===Ve)a=await Xi(Object(z.q)(jn).m_matching_identities,t);else{const e=await Ki(t,n);i=e.searchParts,o=e.matchesPerItem,a=e.items.filter(e=>5===e.type)}}}if(!i){const e=Object(w.c)(t,{wholePhrase:!1,wholeWords:!1,caseSensitive:!1,allWords:!1});i=e.searchParts}if(c){const t=0===Me?await K.LocalizeString("MainPage_FillLoginsTab_Search_NoMatchingLogins"):await K.LocalizeString("MainPage_FillLoginsTab_Search_NoSameDomainLogins"),n=e("div",{className:"empty-search-match-results"},e("div",{className:"empty-matches"},t),e("div",{className:"general-results"},await K.LocalizeString("MainPage_FillLoginsTab_Search_GeneralResults")));Object(z.q)(Pn).push(n)}let s=[];0!==a.length&&(s=[...s,...Wi(a,i,null!=o?o:[],2===Sn)]);if(function(){switch(Sn){default:case 1:jc(be),jc(re),jc(Be),jc(Je);break;case 2:}jc(at),jc(Bn),jc(Nn),Sc(kn),Sc(Cn)}(),0===a.length){const n=e("div",{className:"empty-search-results"},e("div",{className:"first-string"},e("div",{className:"search-empty-text-before"},"No results found for "),e("div",{className:"search-query"},e("b",null,t),".")),e("div",{className:"search-empty-text-after"},"Please change the search term."));return void Object(z.q)(Ln).appendChild(n)}for(const e of Object(z.q)(Pn))Object(z.q)(Ln).appendChild(e);0!==a.length&&null===Tn&&eo(0);Ln&&0!==s.length&&Object(q.l)(ko(Ln,s,n));return}(t,n),null==n||n.ThrowIfShouldStop(),mi()}finally{}}(t,a)})}function Wi(t,n,a,i){var c;if(!xn||!Pn||!qn)return[];const l=[];for(let r=0;r<t.length;r++){const u=t[r],d=u.path,m=Co(u),p=Object(L.D)(Object(L.o)(d));let b,f,g,h,_;const w=e("div",{className:"list-item multiple-rows"},e("div",{className:"list-item-main-row"},b=e("div",{className:"icon-text",onclick:e=>Yo(u,i,e.ctrlKey),oncontextmenu:e=>Jo(u.path,w,e,i)},e("div",{className:"icon-section"},f=Object(o.d)(u.path,u.type),m?e("div",{className:m}):null),e("div",{className:"path-view"},Object(s.a)(u.path,null!==(c=a[r])&&void 0!==c?c:[],n,!1,!1,!1)),i&&e("div",{className:"action-icon image fill-action-icon"})||1===u.type&&e("div",{className:"action-icon image login-action-icon"})||2===u.type&&e("div",{className:"action-icon image goto-action-icon"})||e("div",{className:"action-icon image view-action-icon"})),h=Z?Object(o.a)(u,Nt,Zo):null,_=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(w,_,d,2===le)},e("div",{className:"icon more-actions-icon image"}))),g=1===u.type?e("div",{className:"list-item-data-row hidden"}):null);Pn.push(w),No(b,u.type,i,!1,Object(L.j)(p,400)),1!==u.type&&2!==u.type||l.push({m_item_el:w,m_item_icon_el:f,m_item_data_view_el:g,m_compromised_button_el:h,m_item_info:u});const v=xn.length;xn.push(u),qn.set(v,w)}return l}async function Ki(e,t){let n=function(e){if(0===zn.size)return null;const t={wholePhrase:!1,wholeWords:!1,caseSensitive:!1,allWords:!1},n=Object(w.c)(e,t),a=e.toLowerCase();let i;for(const[l,r]of zn)if(Object(T.F)(a,l)){if(Object(w.c)(l,t).searchParts.length===n.searchParts.length){i=r;break}}if(!i)return null;const o=[];for(const l of i){const e=Object(w.b)(n,l);e&&o.push(e)}o.sort(w.a);const c=o.map(e=>e.itemInfo),s=o.map(e=>{var t;return null!==(t=e.matches)&&void 0!==t?t:[]});return{items:c,searchParts:n.searchParts,firstItemIndex:0,totalFoundItemsNum:c.length,matchesPerItem:s}}(e);return n||(n=await async function(e,t){for(let a=1;a<=10;a++)try{const n=await D.FindInPathNames(An,e,{caseSensitive:!1,wholePhrase:!1,wholeWords:!1,allWords:!1},0,200,t);return 0===n.firstItemIndex&&n.totalFoundItemsNum===n.items.length&&zn.set(e.toLowerCase(),n.items),n}catch(n){if(Object(P.d)(n,P.s))continue;break}return null}(e,t),t&&await t.YieldToUI(30),n||{items:[],firstItemIndex:0,totalFoundItemsNum:0,searchParts:[]})}async function Xi(e,t){const n=Object(w.c)(t,{caseSensitive:!1,wholePhrase:!1,wholeWords:!1,allWords:!1});return e.reduce((e,t)=>{const a=Object(w.b)(n,t);return a&&e.push(a),e},[]).sort(w.a).map(e=>e.itemInfo)}function Ji(){Fn.Cancel(),Sn=0,jc(Cn),jc(kn),jc(Nn),Q&&Sc(be),Sc(re),Sc(at),Wo(),To(),Po(),Mo()}function Yi(e){switch(e.key){case F.Key.ArrowDown:!function(){if(!xn||0===xn.length)return;null===Tn?eo(0):Tn<xn.length-1&&eo(Tn+1)}(),e.preventDefault(),e.stopPropagation();break;case F.Key.ArrowUp:!function(){if(!xn||0===xn.length)return;null===Tn?eo(0):Tn>0&&eo(Tn-1)}(),e.preventDefault(),e.stopPropagation();break;case F.Key.PageUp:e.ctrlKey?eo(0):eo((null!=Tn?Tn:0)-8),e.preventDefault(),e.stopPropagation();break;case F.Key.PageDown:e.ctrlKey?function(){if(!xn||0===xn.length)return;eo(xn.length-1)}():eo((null!=Tn?Tn:0)+8),e.preventDefault(),e.stopPropagation();break;case F.Key.Escape:e.target.value||J.ClosePopup()}}function $i(e){Yi(e)}function Qi(e){switch(e.key){case F.Key.Enter:!function(){if(!xn||0===xn.length||null===Tn)return;const e=xn[Tn];if(!e)return;Yo(e,2===Sn,!1)}(),e.preventDefault(),e.stopPropagation();break;case F.Key.Escape:e.target.value&&(e.target.value=""),Ji(),e.preventDefault(),e.stopPropagation()}}function Zi(e){Qi(e)}function eo(e){if(!xn||0===xn.length||!qn)return;if(e<0&&(e=0),e>xn.length-1&&(e=xn.length-1),e===Tn)return;const t=null!==Tn&&qn.get(Tn);t&&t.classList.remove("selected");const n=qn.get(e);n&&(n.classList.add("selected"),Tn=e,n.scrollIntoView({block:"nearest"}))}function to(){2!==le&&no()}function no(){le=2,rc(),Wo(),_o(),io(),oo(),To(),Po(),Mo(),co(0)}function ao(e){Me!==e&&(Me=e,io(),Wo(),Ho(),oo(),co(0))}function io(){for(const[e,t]of Re)e===Me?t.classList.add("selected"):t.classList.remove("selected")}function oo(){if(2===le&&Pt)switch(jc(zt),Sc(Ge),Me){case 0:Sc(At),jc(Ft),jc(It),jc(Bt);break;case 1:jc(At),Sc(Ft),jc(It),jc(Bt);break;default:case 2:jc(At),jc(Ft),Sc(It)}}function co(t){const n=Object(z.q)($e).value;if(n)Sc(Je),Uo(Me,!0),Gi(n,2,0);else switch(Ji(),Me){case 0:!function(t){Et.Start(async n=>{0!==t&&await Object(q.h)(t).Execute(n),function(t){if(!jn)return;const n=jn.m_matching_logins;if(0===n.length)return Uo(0,!1),Ho(),uo(),0!==jn.m_domain_logins.length?mo():po(),Dt=null,void so();n.length>5?(Wo(),Uo(0,!0)):Uo(0,!1);Ho();let a=[];Dt&&0===Dt.m_list_mode?a=Dt.m_items:uo();const i=Object(c.a)(n),s=[],l=[];for(let c=0;c<n.length;c++){const t=n[c],r=t.path;if(c<a.length){const e=a[c];if(e.m_path===r&&e.m_mod_time===t.mod&&e.m_received===t.received){l.push(e);continue}}const u=Object(L.D)(Object(L.o)(r)),d=Co(t);let m,p,b,f,g,h;const _=e("div",{className:"list-item multiple-rows",onmouseenter:()=>{b.offsetWidth<b.scrollWidth&&Oc(b,u),Wa(At,_,sa,m),Wa(At,_,ba,m)},onmouseleave:()=>{Ka(m)}},e("div",{className:"list-item-main-row"},m=e("div",{className:"icon-text",title:$n,onclick:e=>Yo(t,!0,e.ctrlKey),oncontextmenu:e=>Jo(t.path,_,e,!0)},e("div",{className:"icon-section"},p=Object(o.d)(t.path,t.type),d?e("div",{className:d}):null),e("div",{className:"path-view"},b=Object(o.b)(r,100,100,0!==i.size)),e("div",{className:"action-icon image fill-action-icon"})),g=Z?Object(o.a)(t,Nt,Zo):null,h=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(_,h,t.path,!0)},e("div",{className:"icon more-actions-icon image"}))),f=1===t.type?e("div",{className:"list-item-data-row hidden"}):null),w={m_path:t.path,m_mod_time:t.mod,m_received:t.received,m_element:_};if(l.push(w),s.push({m_item_el:_,m_item_icon_el:p,m_item_data_view_el:f,m_compromised_button_el:g,m_item_info:t}),c>=a.length)Object(z.q)(At).appendChild(_);else{const e=a[c].m_element;Object(z.q)(At).replaceChild(_,e)}}if(a.length>n.length)for(let e=n.length;e<a.length;e++){const t=a[e].m_element;Object(z.q)(At).removeChild(t)}so(),Dt={m_items:l,m_list_mode:0,m_all_logins_selected_folder:Tt},At&&0!==s.length&&Object(q.l)(ko(At,s,t))}(n)})}(t);break;case 1:!function(t){Et.Start(async n=>{0!==t&&await Object(q.h)(t).Execute(n),function(t){if(!jn)return;const n=jn.m_domain_logins,a=[...jn.m_matching_logins,...n];if(0===a.length)return Uo(1,!1),Ho(),bo(),fo(),Dt=null,void so();a.length>5?(Wo(),Uo(1,!0)):Uo(1,!1);Ho();let i=[];Dt&&1===Dt.m_list_mode?i=Dt.m_items:bo();const s=Object(c.a)(a),l=[],r=[];for(let c=0;c<a.length;c++){const t=a[c],n=t.path;if(c<i.length){const e=i[c];if(e.m_path===n&&e.m_mod_time===t.mod&&e.m_received===t.received){r.push(e);continue}}const u=Object(L.D)(Object(L.o)(n)),d=Co(t);let m,p,b,f,g,h;const _=e("div",{className:"list-item multiple-rows",onmouseenter:()=>{b.offsetWidth<b.scrollWidth&&Oc(b,u),Wa(Ft,_,sa,m),Wa(Ft,_,ba,m)},onmouseleave:()=>{Ka(m)}},e("div",{className:"list-item-main-row"},m=e("div",{className:"icon-text",title:$n,onclick:e=>Yo(t,!0,e.ctrlKey),oncontextmenu:e=>Jo(t.path,_,e,!0)},e("div",{className:"icon-section"},p=Object(o.d)(t.path,t.type),d?e("div",{className:d}):null),e("div",{className:"path-view"},b=Object(o.b)(n,100,100,0!==s.size)),e("div",{className:"action-icon image fill-action-icon"})),g=Z?Object(o.a)(t,Nt,Zo):null,h=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(_,h,t.path,!0)},e("div",{className:"icon more-actions-icon image"}))),f=1===t.type?e("div",{className:"list-item-data-row hidden"}):null),w={m_path:t.path,m_mod_time:t.mod,m_received:t.received,m_element:_};if(r.push(w),l.push({m_item_el:_,m_item_icon_el:p,m_item_data_view_el:f,m_compromised_button_el:g,m_item_info:t}),c>=i.length)Object(z.q)(Ft).appendChild(_);else{const e=i[c].m_element;Object(z.q)(Ft).replaceChild(_,e)}}if(i.length>a.length)for(let e=a.length;e<i.length;e++){const t=i[e].m_element;Object(z.q)(Ft).removeChild(t)}so(),Dt={m_items:r,m_list_mode:1,m_all_logins_selected_folder:Tt},Ft&&0!==l.length&&Object(q.l)(ko(Ft,l,t))}(n)})}(t);break;case 2:lo(t)}}function so(){const e=Pt;Pt=!0,e||oo()}function lo(t){Et.Start(async n=>{0!==t&&await Object(q.h)(t).Execute(n),await async function(t){let n=[],a=null,i=!1;Dt&&2===Dt.m_list_mode?(n=Dt.m_items,a=Dt.m_all_logins_selected_folder):i=!0;const c=await E.List(Tt,0,t),s=new Set([8,1]),l=c.filter(e=>s.has(e.type));if(t.ThrowIfShouldStop(),0===l.length&&!Tt)return Uo(2,!1),Ho(),ro(),function(){const t=e("div",{className:"empty-list"},e("div",{className:"big-icon-section"},e("div",{className:"big-icon login-icon"})),Ya(!1));Object(z.q)(It).appendChild(t)}(),jc(Bt),Dt=null,void so();Tt||l.length>5?(Wo(),Uo(2,!0)):Uo(2,!1);Ho(),i&&ro();const r=[],u=[];for(let d=0;d<l.length;d++){const t=l[d],a=t.path;if(d<n.length){const e=n[d];if(e.m_path===a&&e.m_mod_time===t.mod&&e.m_received===t.received){u.push(e);continue}}const i=8===t.type?Object(L.o)(a):Object(L.D)(Object(L.o)(a)),c=Object(L.j)(i,100),s=Co(t);let m,p,b,f,g,h;const _=e("div",{className:"list-item multiple-rows",onmouseenter:()=>{b.offsetWidth<b.scrollWidth&&Oc(b,i),Wa(It,_,sa,m),Wa(It,_,ba,m)},onmouseleave:()=>{Ka(m)}},e("div",{className:"list-item-main-row"},m=e("div",{className:"icon-text",title:8===t.type?"":$n,onclick:e=>{8===t.type?(Tt=t.path,lo(0)):Yo(t,!0,e.ctrlKey)},oncontextmenu:e=>Jo(t.path,_,e,!0)},e("div",{className:"icon-section"},p=Object(o.d)(t.path,t.type),s?e("div",{className:s}):null),e("div",{className:"path-view"},b=e("div",{className:"text"},c)),1===t.type?e("div",{className:"action-icon image fill-action-icon"}):null),g=Z?Object(o.a)(t,Nt,Zo):null,h=e("div",{className:"more-actions-button",title:Yn,onclick:()=>Qo(_,h,t.path,!0)},e("div",{className:"icon more-actions-icon image"}))),f=1===t.type?e("div",{className:"list-item-data-row hidden"}):null),w={m_path:t.path,m_mod_time:t.mod,m_received:t.received,m_element:_};if(u.push(w),1===t.type&&r.push({m_item_el:_,m_item_icon_el:p,m_item_data_view_el:f,m_compromised_button_el:g,m_item_info:t}),d>=n.length)Object(z.q)(It).appendChild(_);else{const e=n[d].m_element;Object(z.q)(It).replaceChild(_,e)}}if(n.length>l.length)for(let e=l.length;e<n.length;e++){const t=n[e].m_element;Object(z.q)(It).removeChild(t)}if(Tt){if(a!==Tt){Object(S.g)(Object(z.q)(Bt));const t=[],n=Tt.split("/");for(let a=0;a<n.length;a++){const i=n[a],o=0===a?await K.LocalizeString("HomeFolder"):i,c=e("div",{className:"folder-part"},e("div",{className:"folder-name",onclick:function(){const e=n.slice(0,a+1).join("/");e!==Tt&&(Tt=e,lo(0))}},o),a!==n.length-1?e("div",{className:"folder-separator"},">"):null);t.push(c)}for(const e of t)Object(z.q)(Bt).appendChild(e);Sc(Bt)}}else jc(Bt);so(),Dt={m_items:u,m_list_mode:2,m_all_logins_selected_folder:Tt},It&&0!==r.length&&Object(q.l)(ko(It,r,t))}(n)})}function ro(){Object(S.g)(Object(z.q)(It))}function uo(){Object(S.g)(Object(z.q)(At))}function mo(){const t=e("div",{className:"empty-list"},e("div",{className:"text"},Mt));Object(z.q)(At).appendChild(t)}function po(){const t=e("div",{className:"empty-list"},e("div",{className:"big-icon-section"},e("div",{className:"big-icon login-icon"})),e("div",{className:"caption"},Gt),Ya(!1));Object(z.q)(At).appendChild(t)}function bo(){Object(S.g)(Object(z.q)(Ft))}function fo(){const t=e("div",{className:"empty-list"},e("div",{className:"big-icon-section"},e("div",{className:"big-icon login-icon"})),e("div",{className:"caption"},Gt),Ya(!1));Object(z.q)(Ft).appendChild(t)}function go(){yn.Start(async e=>{await async function(e){if(await async function(e){const t=await J.GetFillOptionsListForCurrentTab(e);if(e.ThrowIfShouldStop(),t){const e=t.m_matching_logins.filter(e=>e.m_client_data).map(e=>e.m_client_data),n=t.m_matching_identities.filter(e=>e.m_client_data).map(e=>e.m_client_data),a=t.m_domain_logins.filter(e=>e.m_client_data).map(e=>e.m_client_data);jn={m_matching_logins:e,m_domain_logins:a,m_matching_identities:n,m_activate_fill_logins_tab:t.m_activate_fill_logins_ui,m_activate_fill_id_tab:t.m_activate_fill_identities_ui,m_show_password_generator:t.m_password_generator}}else jn={m_matching_logins:[],m_domain_logins:[],m_matching_identities:[],m_activate_fill_logins_tab:!1,m_activate_fill_id_tab:!1,m_show_password_generator:!1}}(e),!jn)return;_o(),await async function(){if(!Un){const e=await Y.SendHttpRequest({url:"pwd-dict.json",receiveBodyType:"json"},null);Un=e.bodyAsValue,Object(f.c)(Object(z.q)(Un))}const e=Object(i.d)(),t=await n.Get({PassGenCharNumber:e.m_length,PassGenExcludeSimilar:e.m_exclude_similar_chars,PassGenUseHexChars:e.m_hex_digits_only,PassGenCheckUpper:e.m_include_upper_case_chars,PassGenCheckLower:e.m_include_lower_case_chars,PassGenCheckNumber:e.m_include_digits,PassGenCheckSpecial:!!e.m_specific_chars,PassGenCharSet:e.m_specific_chars}),a={m_length:t.PassGenCharNumber,m_include_digits:t.PassGenCheckNumber,m_include_upper_case_chars:t.PassGenCheckUpper,m_include_lower_case_chars:t.PassGenCheckLower,m_specific_chars:t.PassGenCheckSpecial?t.PassGenCharSet:"",m_min_digits:-1,m_hex_digits_only:t.PassGenUseHexChars,m_exclude_similar_chars:t.PassGenExcludeSimilar};Object(z.q)(Mn).SetValues(a);let o="";const c=await V.GetHistory(null);if(0!==c.length){const e=c[0];e&&(o=e)}o?Hn&&Hn===o||(Hn=o):Hn="";if(Hn)Object(z.q)(Dn).textContent=Hn,wc();else try{await _c()}catch(s){await hc(),await _c()}}(),uc(),0===jn.m_matching_identities.length&&(bi(),_i());0===jn.m_matching_logins.length&&(uo(),0!==jn.m_domain_logins.length?mo():po());0===jn.m_domain_logins.length&&0===jn.m_matching_logins.length&&(bo(),fo());if(ne||!xa)jn.m_activate_fill_logins_tab?(Me=0,no()):jn.m_activate_fill_id_tab?3===le&&2===Yt&&0===Ve?pi():(Ve=0,oi()):jn.m_show_password_generator&&oi(),jn.m_activate_fill_logins_tab||0===jn.m_domain_logins.length||(Me=1);else switch(le){case 2:switch(Me){case 0:case 1:co(0)}break;case 3:switch(Yt){case 2:switch(Ve){case 0:ci(0)}}}return void(ne=!1)}(e)})}function ho(){ha.Start(async t=>{await async function(t){const n=await J.GetAutoFunctionsModesForCurrentTab(t);0===(null==n?void 0:n.m_auto_fill_mode)&&va&&(await o(!1),va=!1);0===(null==n?void 0:n.m_auto_save_mode)&&ja&&(await s(!1),ja=!1);if(!n)return;const a=n.m_auto_fill_blocked_on_domain;if(0===n.m_auto_fill_mode);else if(va){!Object(z.q)(wa).GetChecked()!==a&&Object(z.q)(wa).SetChecked(!n.m_auto_fill_blocked_on_domain)}else a&&(await o(!0),va=!0,await J.ShowBlockedAutoFillForCurrentPage(t));const i=n.m_auto_save_blocked_on_domain;if(0===n.m_auto_save_mode);else if(ja){!Object(z.q)(ya).GetChecked()!==i&&Object(z.q)(ya).SetChecked(!n.m_auto_save_blocked_on_domain)}else i&&(await s(!0),ja=!0);async function o(t){let n;if(t){const t=await K.LocalizeString("MainPage_EnableInpageIconsOnDomain_Text");n=e("div",{className:"manage-auto-fill-on-domain flex-row"},wa=e(C.a,{checked:!1,text:t,onchange:l}))}else n=e("div",{className:"manage-auto-fill-on-domain flex-row hidden"});Object(z.q)(_a).replaceWith(n),_a=n}async function s(t){let n;if(t){const t=await K.LocalizeString("MainPage_EnableAutoSaveOnDomain_Text");n=e("div",{className:"manage-auto-save-on-domain flex-row"},ya=e(C.a,{checked:!1,text:t,onchange:r}))}else n=e("div",{className:"manage-auto-save-on-domain flex-row hidden"});Object(z.q)(Oa).replaceWith(n),Oa=n}function l(){const e=Object(z.q)(wa).GetChecked();Object(S.c)(async function(){try{await J.BlockAutoFunctionsForCurrentTabDomain(!e,void 0,null)}catch(t){Do(Object(c.r)(t),5,2)}}(),oc,1e3,ac,ic,cc)}function r(){const e=Object(z.q)(ya).GetChecked();Object(S.c)(async function(){try{await J.BlockAutoFunctionsForCurrentTabDomain(void 0,!e,null)}catch(t){Do(Object(c.r)(t),5,2)}}(),oc,1e3,ac,ic,cc)}}(t)})}function _o(){if(!jn)return;let e=!1,t=!1;0!==jn.m_matching_logins.length&&(e=!0),0!==jn.m_matching_identities.length&&(t=!0),jn.m_show_password_generator&&(e||t||(t=!0)),e?Sc(ke):jc(ke),t?Sc(Ae):jc(Ae)}function wo(){Object(q.k)(G.OpenStartPage({}),"MainPage: OpenStartPage coomand"),J.ClosePopup()}function vo(e){const t=Object(i.a)({view:K,options:n,settings:I,passwordsHistory:V,commands:Object(z.q)(G),http:Y,rng:$,onBack:async()=>Ko()});Object(q.l)(W.ShowView(t))}function Oo(e){se||function(){se=!0;const e=Object(z.q)(ce).getBoundingClientRect();function t(e){Object(a.a)(Object(z.q)(ce),!0)}function n(e){Object(a.a)(Object(z.q)(ce),!1),setTimeout((function(){se=!1}),300)}async function i(){return Ko()}La=Object(a.c)(e,()=>J.GetCommandsForMainDotsMenu(i),function(){const e=Object(a.b)(Object(z.q)(ce));return e.onHide=n,e.onShow=t,e}(),(function(e,t){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(t),Object(z.q)(ce).getBoundingClientRect()}),(function(e,t){const n=Object(q.e)(null,null,null);$o(async function(){try{await e(t,n)}catch(a){Object(P.d)(a,P.y)||Do(Object(c.r)(a),5,2)}}())}))}(),e.stopPropagation()}function yo(){const e=Object(z.q)(be).getBoundingClientRect();let t;switch(st){case 0:case 1:case 2:t=1;break;case 4:t=7;break;case 3:t=2;break;case 5:t=5}$o(J.ShowNativeItemsList(e,t))}function jo(){switch(st){default:case 2:case 1:case 0:yc(ge,he),Ma(Object(z.q)(fe),"icon-","icon-logins"),Oc(be,Oe);break;case 3:yc(ge,we),Ma(Object(z.q)(fe),"icon-","icon-bookmarks"),Oc(be,je);break;case 4:yc(ge,ve),Ma(Object(z.q)(fe),"icon-","icon-safenotes"),Oc(be,Se);break;case 5:yc(ge,_e),Ma(Object(z.q)(fe),"icon-","icon-identities"),Oc(be,ye)}Q?Sc(be):jc(be)}function So(){J.IsNativeUIAvailable()&&"mac"===Object(j.e)()&&Object(q.k)(J.CloseNativeMenu(),"MainPage:_CloseNativeMenu")}function Co(e){if(e.sharedGroup){if(e.granted)return"icon-overlay icon-overlay-manager";if(e.readOnly)return"icon-overlay icon-overlay-limited";if(e.received)return"icon-overlay icon-overlay-regular"}else if(e.sharedFolder){if(e.granted)return"icon-overlay icon-overlay-granted";if(e.readOnly)return"icon-overlay icon-overlay-login-only";if(e.received)return"icon-overlay icon-overlay-received"}else{if(e.granted)return"icon-overlay icon-overlay-granted";if(e.received)return"icon-overlay icon-overlay-received"}return null}function No(e,t,n,a,i){if(5===t)Oc(e,Zn+" '"+i+"'");else if(2===t)Oc(e,a?ta+" '"+i+"'":ta);else if(7===t)Oc(e,a?ea+" '"+i+"'":ea);else if(1===t){const t=n?$n:Qn;Oc(e,a?t+" '"+i+"'":t)}}async function ko(t,n,a){if(Lt){xt&&(xt.disconnect(),xt=null);const e=new IntersectionObserver(i,{root:t,rootMargin:"0px 0px 80px 0px"}),c=new Map;let r=!1;for(const t of n)switch(t.m_item_info.type){case 1:case 2:case 4:case 3:c.set(t.m_item_el,t),e.observe(t.m_item_el),r=!0}if(a&&await a.YieldToUI(50),!te)return;function i(t){Object(q.l)(async function(t){for(const n of t)if(n.isIntersecting){const t=n.target,a=c.get(t);if(a){c.delete(t),e.unobserve(t),await o(a);const n=a.m_item_info;1===n.type&&a.m_item_data_view_el&&Object(q.l)(s(a)),H&&a.m_compromised_button_el&&(1!==n.type||n.readOnly||n.hidePasswords||Object(q.l)(l(a)))}}}(t))}r&&(xt=e,i(e.takeRecords()))}return;async function o(e){const t=await async function(e,t){let n=e.gotoUrl;if(void 0===n){n=(await E.GetInfo(e.path,4,t)).gotoUrl}if(!n)return null;try{const i=Object(L.C)(n);if(!i)return null;const o=i.m_host;if(!o)return null;if(Object(L.w)(o)||!i.m_schema||!Object(h.a)(i.m_schema))return null;const s=Object(L.m)(o);if(!s.includes("."))return null;if(void 0===Ce)try{const e=await Object(c.C)(D);Ce=await Object(c.D)(e,Y,t)}catch(a){Ce=g.d+"/icons"}if(null===Ce)return null;{const t=1===e.type?"rfp.ico":"rfb.ico";return Object(z.q)(Ce)+"/?size=32&domain="+s+"&def="+t}}catch(a){return null}}(e.m_item_info,null);t&&(e.m_item_icon_el.style.backgroundImage="url("+t+")")}async function s(t){var n;if(!t.m_item_data_view_el)return;const a=await E.GetDataItem(t.m_item_info.path,3,null,null),i=Object(p.k)(a);if(i){const n=Object(N.a)(i);let a,o;const c=e("div",{className:"totp-section",title:aa,onclick:e=>{e.preventDefault(),e.stopPropagation(),Object(q.l)((async()=>{const e=Object(N.a)(i);await J.CopyTextToClipboardWithAutoClear(e,120),Do(await K.LocalizeString("Login_OneTimeCode_Copied_Text"),3,null)})())}},e("div",{className:"totp-title"},na),e("div",{className:"totp-code monospace"},a=e("span",null,n.substring(0,3)),o=e("span",null,n.substring(3))),e("div",{className:"totp-timer"}),e("div",{className:"icon-copy",title:aa}));t.m_item_data_view_el.firstChild?t.m_item_data_view_el.firstChild.replaceWith(c):t.m_item_data_view_el.appendChild(c),Sc(t.m_item_data_view_el),ia.set(t.m_item_el,{m_totp_code_el1:a,m_totp_code_el2:o,m_totp_key:i}),oa.add(t.m_item_el),Rn||(Rn=Object(q.d)({action:Object(m.a)(async e=>{let t=0;for(const[n,a]of ia){if(oa.has(n)){const e=Object(N.a)(a.m_totp_key);a.m_totp_code_el1.textContent=e.substring(0,3),a.m_totp_code_el2.textContent=e.substring(3);const i=n.getBoundingClientRect();Object(x.r)(i)||t++}else ia.delete(n);e.ThrowIfShouldStop()}return 0!==t},e=>{let t;document.documentElement.style.setProperty("--totp-state-percents",e+"%"),t=e<70?window.getComputedStyle(document.body).getPropertyValue("--totp-timer-normal-color")||"darkgray":window.getComputedStyle(document.body).getPropertyValue("--totp-timer-warning-color")||"#EB5757",document.documentElement.style.setProperty("--totp-state-color",t)})}),Object(q.l)(Rn.Execute(null)))}else null===(n=t.m_item_data_view_el.firstChild)||void 0===n||n.remove(),jc(t.m_item_data_view_el)}async function l(e){if(!H)return;const t=await H.GetUpdateUserDataItemBreaches(e.m_item_info.path,null);if(t&&0!==t.m_breaches.length){await R.GetSecurityWarningEnabledForDataItem(e.m_item_info.path,[0],null)&&Sc(e.m_compromised_button_el)}}}function Lo(e){la||xo(!0),e.stopPropagation()}function xo(e){Object(q.l)(async function(e){const t=await B.Get({DisableCreateLogins:!1,DisableCreateBookmarks:!1,NoPasscards:!1,DisableCreateIdentities:!1,DisableCreateSafenotes:!1,DisableNonGroupData:!1}),i=await n.Get({AccountEnterprise:!1,AccountCompanyAdmin:!1}),o=i.AccountCompanyAdmin,s=t.DisableNonGroupData,r=i.AccountEnterprise,u=t.NoPasscards||t.DisableCreateLogins,d=t.DisableCreateIdentities,m=t.DisableCreateBookmarks,p=t.DisableCreateSafenotes,b=function(){if(1===le&&0!==st&&2===De&&rt)return rt;if(2===le&&2===Me&&Tt)return Tt;return""}();switch(le){case 3:return S(d,5,"identity");case 2:return S(u,1,"login");case 1:switch(st){case 2:return S(u,1,"login");case 3:return S(m,2,"bookmark");case 4:return S(p,7,"safenote");case 5:return S(d,5,"identity");case 1:case 0:if(!e)return S(u,1,"login")}}if(1!==le||1!==st&&0!==st)throw Object(P.e)(P.r,"Unexpected");const f=[];u||f.push({title:await K.LocalizeString("RoboformType_Login"),imageClass:"command-create-login",onCommand:async(e,t)=>{await S(u,1,"login")}});d||f.push({title:await K.LocalizeString("RoboformType_Identity"),imageClass:"command-create-identity",onCommand:async(e,t)=>{await S(d,5,"identity")}});p||f.push({title:await K.LocalizeString("RoboformType_Safenote"),imageClass:"command-create-safenote",onCommand:async(e,t)=>{await S(p,7,"safenote")}});f.push({title:await K.LocalizeString("RoboformType_Folder"),imageClass:"command-create-folder",onCommand:async(e,t)=>{if(!await y())return void Do(await K.LocalizeString("Policy_DisableNonGroupData_Message"),5,2);const n=Object(l.a)({basePath:b,data:E,viewApi:K,onSuccess:async function(){le=1,st=1,De=2,rt=b,rc(),await Ko();const e=Object(c.B)(8,!1),t=await K.LocalizeString(e);Do(await K.LocalizeString("Notification_Item_Created_Text",[t]),null,null)},onBack:async function(){return Ko()}});return W.ShowView(n,!0)}}),r&&o&&f.push({title:await K.LocalizeString("SharedFolderSettings_Group"),imageClass:"command-create-shared-folder",onCommand:async(e,t)=>{Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage: OpenSharingCenter coomand"),J.ClosePopup()}});la=!0;const g=Object(z.q)(sa).getBoundingClientRect(),h=g.top+g.height/2,_=g.left+5,w={height:0,width:0,top:h,bottom:h,y:h,x:_,right:g.right,left:_};function v(e){}function O(e){setTimeout((function(){la=!1}),300)}async function y(){if(s&&!o){if(!(await E.GetInfo(b,1,null)).sharedGroup)return!1}return!0}async function S(e,t,n){if(e)Do(await K.LocalizeString("Policy_FileCreationProhibited_Text",[await K.LocalizeString(Object(c.B)(t,!1))]),5,2);else{if(await y())return $o(async function(e,t){const n={startPage:!0};t&&(n.folderPath=t);Object(q.k)(G.CreateNew(e,n),"MainPage:_CreateNewItem"),J.ClosePopup()}(n,b));Do(await K.LocalizeString("Policy_DisableNonGroupData_Message"),5,2)}}La=Object(a.c)(w,async()=>f,function(){const e=Object(a.b)(Object(z.q)(sa));return e.onHide=O,e.onShow=v,e}(),(function(e,t){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(t),Object(z.q)(sa).getBoundingClientRect()}),(function(e,t){$o(e(t,Object(q.e)(null,null,null)))}))}(e))}function Po(){switch(le){case 3:Oc(sa,pa);break;case 2:Oc(sa,ua);break;case 1:switch(st){case 3:Oc(sa,da);break;case 4:Oc(sa,ma);break;case 2:Oc(sa,ua);break;case 5:Oc(sa,pa);break;default:Oc(sa,ra)}}}function qo(){0!==Sn||3===le&&1===Yt?(jc(ba),jc(sa)):(Sc(sa),1!==le||5!==st&&4!==st?Sc(ba):jc(ba))}function To(){Oc(ba,1===le&&3===st?ga:fa)}function zo(){$o(async function(){try{await J.ShowSaveFormsPage((async function(e){await Ko();const t=Object(c.B)(e,!1);Do(await K.LocalizeString("Notification_Item_Created_Text",[await K.LocalizeString(t)]),null,null)}),Ko,(async function(){return Ko()}),null)}catch(e){Object(P.d)(e,P.y)||Do(Object(c.r)(e),5,2)}}())}async function Ao(e,t,a,i){let o;try{o=await E.GetInfo(e,36,null)}catch(s){if(!Object(v.c)(s,4))throw s;o={path:e,type:Object(p.j)(e),error:s}}switch(o.type){case 8:return async function(e,t,a){const i=[],o=await n.Get({SyncIsOn:!1,AccountCompanyAdmin:!1}),c=o.AccountCompanyAdmin,s=J.IsStandaloneMode()||o.SyncIsOn,l=await B.Get({SelfHostedServer:!1,DisableSharing:!1}),u=l.SelfHostedServer,m=l.DisableSharing,b=e.readOnly&&e.sharedFolder,f=e.sharedGroup||!1,g=e.sharedFolder||!1,h=""===Object(L.t)(e.path);if(f){if(b)return h&&await w(),i;return e.granted||!1?(h?(await v(),await w()):(await v(),await O()),i):(h?await w():(await v(),await O()),i)}if(g)return b?h?(await v(),await O(),await _(),i):i:(await v(),await O(),h&&await _(),i);if(await v(),await O(),h&&s&&!u&&!m){i.push("separator");const e=c?await K.LocalizeString("Cmd_ConvertFolderToGroup_Key"):await K.LocalizeString("Cmd_ShareExistingFolder_Key");i.push({title:e,imageClass:"command-share-icon",onCommand:async(e,t)=>(Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage:_GetListOfCommandsForFolder: _AddSharedExisting folder command"),J.ClosePopup())})}return i;async function _(){i.push({title:await K.LocalizeString("Cmd_SharedFolderSettings_Key"),imageClass:"command-share-icon",onCommand:async(t,n)=>J.IsStandaloneMode()?(Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage:_AddSharedFolderSettingsCommand: OpenSharingCenter command"),J.ClosePopup()):G.ShowSharedFolderDialog(e.path)})}async function w(){i.push({title:await K.LocalizeString("Cmd_GroupSettingsFlat"),imageClass:"command-share-icon",onCommand:async(t,n)=>J.IsStandaloneMode()?(Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage:_GetListOfCommandsForFolder: OpenSharingCenter command"),J.ClosePopup()):G.ShowSharedFolderDialog(e.path)})}async function v(){i.push({title:await K.LocalizeString("Cmd_Rename_Flat"),imageClass:"command-rename-icon",onCommand:async(n,i)=>{const o=Object(r.a)({viewApi:K,dataStorage:E,sharing:U,commands:G,data:{itemPath:e.path,itemType:e.type,groupName:null,instanceName:null,instanceDisplayName:null},onSuccess:async function(n){if(Object(p.s)(e.path,$t)){const t=Object(L.q)(e.path)+"/"+n;$t=$t.replace(e.path,t)}await t();const a=Object(p.h)(e.path);Do(await K.LocalizeString("Notification_Item_Renamed_Text",[a,n]),null,null)},onCancel:a,onBack:a});return W.ShowView(o,!0)}})}async function O(){i.push({title:await K.LocalizeString("Cmd_Delete_Flat"),imageClass:"command-delete-icon",onCommand:async(n,i)=>{if(g&&h)return Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage:_AddSharedFolderSettingsCommand: OpenSharingCenter command"),J.ClosePopup();const o=Object(d.a)({data:E,viewApi:K,itemInfo:e,onSuccess:async()=>{await t();const n=Object(L.l)(e.path,!1,void 0);Do(await K.LocalizeString("Notification_File_Deleted_Text",[n]),null,null)},onBack:a});return W.ShowView(o,!0)}})}}(o,i,a);case 2:return async function(e,t,a){const i=e.error&&Object(v.c)(e.error,4),o=e.readOnly&&e.sharedFolder,s=!!e.gotoUrl&&(!Object(_.a)(e.gotoUrl)||!J.IsStandaloneMode()&&"win"===Object(j.e)()),l=e.gotoUrl,d=[];s&&(d.push({title:await K.LocalizeString("Cmd_Goto_Flat"),imageClass:"command-goto-icon",highlighted:!0,onCommand:async(t,a)=>{if(!i){const t=await n.Get({ToolbarOpensNewWindow:!0});return Object(q.k)(G.GoTo(e.path,{newTab:t.ToolbarOpensNewWindow}),"MainPage:_GetListOfCommandsForBookmark: GoTo command"),J.ClosePopup()}Do(Object(c.r)(e.error),5,2)}}),d.push("separator"));l&&!o&&(d.push({title:await K.LocalizeString("Cmd_Copy_URL_Flat"),imageClass:"command-copy-icon",onCommand:async(e,t)=>{await J.CopyTextToClipboardWithAutoClear(l,120);Do(await K.LocalizeString("Notification_URL_Copied_Text"),null,null)}}),d.push("separator"));o||(d.push({title:await K.LocalizeString("Cmd_View_Flat"),imageClass:"command-view-icon",onCommand:async(t,n)=>(Object(q.k)(G.OpenFile(e.path,{mode:"view"}),"MainPage:_GetListOfCommandsForBookmark: OpenFile(view) command"),J.ClosePopup())}),e.readOnly||d.push({title:await K.LocalizeString("Cmd_Edit_Flat"),imageClass:"command-edit-icon",onCommand:async(t,n)=>(Object(q.k)(G.OpenFile(e.path,{mode:"edit"}),"MainPage:_GetListOfCommandsForBookmark: OpenFile(edit) command"),J.ClosePopup())}),d.push({title:await K.LocalizeString("Cmd_Rename_Flat"),imageClass:"command-rename-icon",onCommand:async(n,i)=>{const o=Object(r.a)({viewApi:K,dataStorage:E,sharing:U,commands:G,data:{itemPath:e.path,itemType:e.type,groupName:null,instanceName:null,instanceDisplayName:null},onSuccess:async function(n){await t();const a=Object(p.h)(e.path);Do(await K.LocalizeString("Notification_Item_Renamed_Text",[a,n]),null,null)},onCancel:a,onBack:a});return W.ShowView(o,!0)}}),d.push({title:await K.LocalizeString("Cmd_Delete_Flat"),imageClass:"command-delete-icon",onCommand:async(n,i)=>{const o=Object(u.a)({itemInfo:e,rfCommands:G,rfDataStorage:E,viewApi:K,onSuccess:async()=>{await t();const n=Object(L.l)(e.path,!1,void 0);Do(await K.LocalizeString("Notification_File_Deleted_Text",[n]),null,null)},onBack:a});return W.ShowView(o,!0)}}),d.push("separator"));return await Io(e,d),await Bo(e,d),d}(o,i,a);case 1:case 3:case 4:return async function(e,t,a,i){const o=e.error&&Object(v.c)(e.error,4),s=(await n.Get({ToolbarOpensNewWindow:!0})).ToolbarOpensNewWindow,l=e.readOnly&&e.sharedFolder,d=!!e.gotoUrl&&(!Object(_.a)(e.gotoUrl)||!J.IsStandaloneMode()&&"win"===Object(j.e)()),m=[];let b=!1;4!==e.type?t?(m.push(await async function(){return{title:await K.LocalizeString("AutoFill_FillSubmit"),imageClass:"command-fillsubmit-icon",onCommand:async function(t,n){if(!o)return Object(q.k)(G.FillForms({identity:!1,path:e.path,submit:!0},n),"MainPage:_GetListOfCommandsForPasscard: FillSubmit command"),J.ClosePopup();Do(Object(c.r)(e.error),5,2)}}}()),b=!0,l||m.push(await f()),d&&(m.push(await g()),l||d&&m.push(await h()))):(d&&(m.push(await g()),b=!0,l||(m.push(await async function(){return{title:await K.LocalizeString("Cmd_GoFill_Flat"),imageClass:"command-gofill-icon",onCommand:async function(t,n){if(!o)return Object(q.k)(G.GoFillSubmit({navigate:!0,path:e.path,newTab:s,submit:!1},n),"MainPage:_GetListOfCommandsForPasscard: GoFillSubmit(GoFill) command"),J.ClosePopup();Do(Object(c.r)(e.error),5,2)}}}()),d&&m.push(await h()))),l||m.push(await f())):!l&&d&&m.push(await h());if(0!==m.length){if(b){const e=m[0];e&&"separator"!==e&&(e.highlighted=!0)}m.push("separator")}if(o||l||4===e.type);else{let t=!1;const n=await E.GetDataItem(e.path,3,null,null),a=Eo(n,O.c);a&&(m.push({title:await K.LocalizeString("Cmd_Copy_Username_Flat"),imageClass:"command-copy-icon",onCommand:async(e,t)=>{await J.CopyTextToClipboardWithAutoClear(a,120),Do(await K.LocalizeString("Notification_Username_Copied_Text"),null,null)}}),t=!0);const i=Eo(n,O.b);i&&(m.push({title:await K.LocalizeString("Cmd_Copy_Password_Flat"),imageClass:"command-copy-icon",onCommand:async(e,t)=>{await J.CopyTextToClipboardWithAutoClear(i,120),Do(await K.LocalizeString("Notification_Password_Copied_Text"),null,null)}}),t=!0);const o=Object(p.k)(n);o&&(m.push({title:await K.LocalizeString("Login_OneTimeCode_Copy"),imageClass:"command-copy-icon",onCommand:async(e,t)=>{const n=Object(N.a)(o);await J.CopyTextToClipboardWithAutoClear(n,120),Do(await K.LocalizeString("Login_OneTimeCode_Copied_Text"),3,null)}}),t=!0),t&&m.push("separator")}l||(m.push({title:await K.LocalizeString("Cmd_View_Flat"),imageClass:"command-view-icon",onCommand:async(t,n)=>(Object(q.k)(G.OpenFile(e.path,{mode:"view"}),"MainPage: _GetListOfCommandsForPasscard: OpenFile(view) command"),J.ClosePopup())}),e.readOnly||m.push({title:await K.LocalizeString("Cmd_Edit_Flat"),imageClass:"command-edit-icon",onCommand:async(t,n)=>(Object(q.k)(G.OpenFile(e.path,{mode:"edit"}),"MainPage:_GetListOfCommandsForPasscard: OpenFile(edit) command"),J.ClosePopup())}),m.push({title:await K.LocalizeString("Cmd_Rename_Flat"),imageClass:"command-rename-icon",onCommand:async(t,n)=>{const o=Object(r.a)({viewApi:K,dataStorage:E,sharing:U,commands:G,data:{itemPath:e.path,itemType:e.type,groupName:null,instanceName:null,instanceDisplayName:null},onSuccess:async function(t){await a();const n=Object(p.h)(e.path);Do(await K.LocalizeString("Notification_Item_Renamed_Text",[n,t]),null,null)},onCancel:i,onBack:i});return W.ShowView(o,!0)}}),m.push({title:await K.LocalizeString("Cmd_Delete_Flat"),imageClass:"command-delete-icon",onCommand:async(t,n)=>{const o=Object(u.a)({itemInfo:e,rfCommands:G,rfDataStorage:E,viewApi:K,onSuccess:async()=>{await a();const t=Object(L.l)(e.path,!1,void 0);Do(await K.LocalizeString("Notification_File_Deleted_Text",[t]),null,null)},onBack:i});return W.ShowView(o,!0)}}),m.push("separator"));return await Io(e,m),await Bo(e,m),m;async function f(){return{title:await K.LocalizeString("Cmd_FillForms_Flat"),imageClass:"command-fill-icon",onCommand:async function(t,n){if(!o)return Object(q.k)(G.FillForms({identity:!1,path:e.path,submit:!1},n),"MainPage:_GetListOfCommandsForPasscard: FillForms command"),J.ClosePopup();Do(Object(c.r)(e.error),5,2)}}}async function g(){return{title:await K.LocalizeString("Cmd_Login_Flat"),imageClass:"command-login-icon",onCommand:async function(t,n){if(!o)return Object(q.k)(G.GoFillSubmit({navigate:!0,path:e.path,newTab:s,submit:!0},n),"MainPage:_GetListOfCommandsForPasscard: GoFillSubmit command"),J.ClosePopup();Do(Object(c.r)(e.error),5,2)}}}async function h(){return{title:await K.LocalizeString("Cmd_Goto_Flat"),imageClass:"command-goto-icon",onCommand:async(t,n)=>{if(!o)return Object(q.k)(G.GoTo(e.path,{newTab:s}),"MainPage:_GetListOfCommandsForPasscard: GoTo command"),J.ClosePopup();Do(Object(c.r)(e.error),5,2)}}}}(o,t,i,a);case 5:case 6:return Fo(o,!1,i,a);case 7:return async function(e,t,n){const a=e.readOnly&&e.sharedFolder,i=[];i.push({title:await K.LocalizeString("Cmd_View_Flat"),imageClass:"command-view-icon",highlighted:!0,onCommand:async(t,n)=>(Object(q.l)(G.OpenFile(e.path,{mode:"view"})),J.ClosePopup())});try{const t=(await E.GetDataItem(e.path,3,null,null)).m_note;t&&i.push({title:await K.LocalizeString("Cmd_Safenote_CopyClipboard_Flat"),imageClass:"command-copy-icon",onCommand:async(e,n)=>{Object(q.l)(J.CopyTextToClipboardWithAutoClear(t,120)),Do(await K.LocalizeString("Notification_Copied_ToClipboard_Text"),3,null)}})}catch(s){}i.push("separator"),a||(i.push({title:await K.LocalizeString("Cmd_Rename_Flat"),imageClass:"command-rename-icon",onCommand:async(a,i)=>{const o=Object(r.a)({viewApi:K,dataStorage:E,sharing:U,commands:G,data:{itemPath:e.path,itemType:e.type,groupName:null,instanceName:null,instanceDisplayName:null},onSuccess:async function(n){await t();const a=Object(p.h)(e.path);Do(await K.LocalizeString("Notification_Item_Renamed_Text",[a,n]),null,null)},onCancel:n,onBack:n});return W.ShowView(o,!0)}}),i.push({title:await K.LocalizeString("Cmd_Delete_Flat"),imageClass:"command-delete-icon",onCommand:async(a,i)=>{const o=Object(u.a)({itemInfo:e,rfCommands:G,rfDataStorage:E,viewApi:K,onSuccess:async()=>{await t();const n=Object(L.l)(e.path,!1,void 0);Do(await K.LocalizeString("Notification_File_Deleted_Text",[n]),null,null)},onBack:n});return W.ShowView(o,!0)}}),i.push("separator"));return await Io(e,i),await Bo(e,i),i}(o,i,a);default:throw P.g}}async function Fo(e,t,n,a){const i=[],o=e.error&&Object(v.c)(e.error,4),s=e.readOnly&&e.sharedFolder;return i.push({title:await K.LocalizeString("Cmd_FillForms_Flat"),imageClass:"command-fill-icon",onCommand:async(n,a)=>{o?Do(Object(c.r)(e.error),5,2):t?$o(ki()):ii(e.path)}}),i.push("separator"),s||(e.readOnly?i.push({title:await K.LocalizeString("Cmd_View_Flat"),imageClass:"command-view-icon",onCommand:async(t,n)=>(Object(q.l)(G.OpenFile(e.path,{mode:"view"})),J.ClosePopup())}):i.push({title:await K.LocalizeString("Cmd_Edit_Flat"),imageClass:"command-edit-icon",onCommand:async(t,n)=>(Object(q.l)(G.OpenFile(e.path,{mode:"edit"})),J.ClosePopup())}),i.push({title:await K.LocalizeString("Cmd_Rename_Flat"),imageClass:"command-rename-icon",onCommand:async(t,i)=>{const o=Object(r.a)({viewApi:K,dataStorage:E,sharing:U,commands:G,data:{itemPath:e.path,itemType:e.type,groupName:null,instanceName:null,instanceDisplayName:null},onSuccess:async t=>{e.path===$t&&($t=Object(L.q)(e.path)+"/"+t+Object(p.f)(e.type)),await n();const a=Object(p.h)(e.path);Do(await K.LocalizeString("Notification_Item_Renamed_Text",[a,t]),null,null)},onCancel:a,onBack:a});return W.ShowView(o,!0)}}),i.push({title:await K.LocalizeString("Cmd_Delete_Flat"),imageClass:"command-delete-icon",onCommand:async(t,i)=>{const o=Object(u.a)({itemInfo:e,rfCommands:G,rfDataStorage:E,viewApi:K,onSuccess:async()=>{await n();const t=Object(L.l)(e.path,!1,void 0);Do(await K.LocalizeString("Notification_File_Deleted_Text",[t]),null,null)},onBack:a});return W.ShowView(o,!0)}}),i.push("separator")),await Io(e,i),await Bo(e,i),i}async function Io(e,t){const a=e.error&&Object(v.c)(e.error,4),i=await n.Get({SyncIsOn:!1}),o=await B.Get({SelfHostedServer:!1,DisableSharing:!1,NoEmailingDataFiles:!1}),s=o.SelfHostedServer,l=o.DisableSharing,r=J.IsStandaloneMode()||i.SyncIsOn,u=o.NoEmailingDataFiles,d=Object(L.t)(e.path),m=await E.GetInfo(d,0,null);u||s||e.received||l||m.received||t.push({title:await K.LocalizeString("Cmd_SendFile_Key"),imageClass:"command-send-icon",onCommand:async(t,n)=>{if(!a)return J.IsStandaloneMode()?(Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage: _AddSendShareCommands: OpenSharingCenter command"),J.ClosePopup()):G.ShowSendFileDialog([e.path]);Do(Object(c.r)(e.error),5,2)}}),l||s||m.received||!r||t.push({title:await K.LocalizeString("Cmd_SharedFileSettings_Key"),imageClass:"command-share-icon",onCommand:async(t,n)=>{if(!a)return J.IsStandaloneMode()?(Object(q.k)(G.OpenSharingCenter({direction:"all-shared",startPage:!0}),"MainPage: _AddSendShareCommands: OpenSharingCenter command"),J.ClosePopup()):G.ShowSharedFileSettings(e.path);Do(Object(c.r)(e.error),5,2)}})}async function Bo(e,t){e.favorite?t.push({title:await K.LocalizeString("Cmd_Unpin_Flat"),imageClass:"command-unpin-icon",onCommand:async function(t,n){await M.SetUsageInfo(e.path,1,!1,n);const a=Object(c.B)(e.type,!1);Do(await K.LocalizeString("Notification_ItemType_UnPinned_Text",[await K.LocalizeString(a)]),null,null)}}):t.push({title:await K.LocalizeString("Cmd_AddToPinned_Flat"),imageClass:"command-add-to-pinned-icon",onCommand:async function(t,n){await M.SetUsageInfo(e.path,1,!0,n);const a=Object(c.B)(e.type,!1);Do(await K.LocalizeString("Notification_ItemType_Pinned_Text",[await K.LocalizeString(a)]),null,null)}})}function Do(e,t,n){Object(z.q)(Ca).Show(e,t,n)}function Eo(e,t){let n=void 0,a=void 0,i=void 0,o=-1;const c=e.m_fields||[];for(let s=0;s<c.length;s++){const e=c[s];t===e.m_name&&(n=Object(z.q)(e.m_value)),e.m_name===O.c?a=Object(z.q)(e.m_value):e.m_name!==O.b&&2!==e.m_type||(i=Object(z.q)(e.m_value),o=s)}return void 0===a&&o>0&&c[o-1]&&(a=Object(z.q)(c[o-1].m_value)),t===O.c?a:t===O.b?i:n}function Mo(){Go(),Ro(),Ho(),function(){switch(le){case 1:jc(qt),jc(Jt),Sc(ct);break;case 2:jc(ct),jc(Jt),Sc(qt);break;case 3:jc(ct),jc(qt),Sc(Jt)}}(),qo(),uc()}function Go(){switch(le){case 1:e(Ne),e(Le),t(ue);break;case 2:e(ue),e(Le),t(Ne);break;case 3:e(ue),e(Ne),t(Le)}function e(e){Object(z.q)(e).classList.remove("selected")}function t(e){Object(z.q)(e).classList.add("selected")}}function Ro(){switch(le){case 1:switch(st){case 0:jc(Ee);break;default:Sc(Ee)}jc(Ge),jc(He),Xe?Sc(Be):jc(Be);break;case 2:Sc(Ge),jc(Ee),jc(He),Sc(Be);break;case 3:switch(Yt){case 0:case 1:jc(Be);break;case 2:jc(Ee),jc(Ge),Sc(He),Sc(Be)}}}function Uo(e,t){Ue.set(e,t)}function Vo(e,t){Ke.set(e,t)}function Ho(){switch(le){case 1:jc(Je);break;case 2:{const e=Ue.get(Me);void 0===e||(e?Sc(Je):jc(Je))}break;case 3:switch(Yt){case 0:case 1:jc(Je);break;case 2:{const e=Ke.get(Ve);void 0===e||(e?Sc(Je):jc(Je))}}}}function Wo(){switch(le){case 1:break;case 2:switch(Me){case 0:vc($e,Qe);break;case 1:vc($e,Ze);break;default:vc($e,et)}break;case 3:vc($e,2===Yt&&0===Ve?tt:nt)}}async function Ko(){await W.ShowView(Ta)}function Xo(){switch(le){case 2:no();break;case 3:oi();break;default:Aa()}}function Jo(e,t,n,i){if(2!==n.button)return;const o=t.getBoundingClientRect(),c={height:o.height,top:o.top,bottom:o.bottom,y:o.top,width:0,x:n.clientX,right:n.clientX,left:n.clientX};async function s(){return Ko()}async function l(){return Ko()}La=Object(a.c)(c,()=>Ao(e,i,s,l),Object(a.b)(t),(function(e,n){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(n),t.getBoundingClientRect()}),(function(e,t){$o(e(t,Object(q.e)(null,null,null)))}))}function Yo(e,t,n){Object(v.c)(e.error,4)?Do(Object(c.r)(e.error),5,2):1===e.type||3===e.type?$o(J.LoginItemAction(e.path,t,n)):7===e.type||6===e.type?$o(J.SafenoteItemAction(e.path)):2===e.type||4===e.type?$o(J.BookmarkItemAction(e.path)):5===e.type&&Object(S.c)(async function(e){return Object(q.k)(G.OpenFile(e,{mode:"view"}),"MainPage:_OpenIdentity"),J.ClosePopup()}(e.path),oc,1e3,ac,ic,()=>J.ClosePopup())}function $o(e){Object(S.c)(e,oc,1e3,ac,ic,cc)}function Qo(e,t,n,i){const o=t.getBoundingClientRect();async function c(){return Ko()}async function s(){return Ko()}La=Object(a.c)(o,()=>Ao(n,i,c,s),function(){let n=null;return{onShow:o=>{Object(a.a)(t,!0),e&&Object(a.a)(e,!0);let c=t.parentElement;for(;null!==c;)c.addEventListener("scroll",i),c=c.parentElement;n=o},onHide:()=>{Object(a.a)(t,!1),e&&Object(a.a)(e,!1);let o=t.parentElement;for(;null!==o;)o.removeEventListener("scroll",i),o=o.parentElement;n=null}};function i(){null==n||n.Hide(4)}}(),(function(e,n){return Object(z.q)(ee).style.width=Object(j.a)(e),Object(z.q)(ee).style.height=Object(j.a)(n),t.getBoundingClientRect()}),(function(e,t){$o(e(t,Object(q.e)(null,null,null)))}))}function Zo(e){$o((async()=>(await G.OpenFile(e.path,{mode:"view",startPage:!0}),J.ClosePopup()))())}function ec(e,...t){switch(e){case"UpdateFillOptions":go();break;case"AutoFillModesChanged":ho()}}function tc(e){var t;let n=!1,a=!1,i=!1,o=!1,c=!1;for(const s of e)switch(s.event){case 1:case 2:case 3:case 5:case 11:n=!0,a=!0,i=!0;break;case 7:case 8:n=!0,a=!0,i=!0,8===s.type&&s.path&&Object(p.s)(s.path,rt)&&(rt=""),8===s.type&&s.path&&Object(p.s)(s.path,Tt)&&(Tt=""),5===s.type&&s.path&&8===s.event&&$t===s.path&&($t=(null===(t=s.to)||void 0===t?void 0:t.path)||"",o=!0);break;case 10:c=!0;break;case 12:a=!0}if(!c){if(n&&zn.clear(),a||i)if(0!==Sn){if(i){let e;switch(Sn){default:case 1:e=Object(z.q)(ie).value;break;case 2:e=Object(z.q)($e).value}Hi(e,1e3)}}else switch(le){case 1:Ua(st,De);break;case 2:co(1e3);break;case 3:ci(1e3)}o&&di()}}function nc(e){let t=!1;for(const n in e)switch(n){case"FillEmptyFieldsOnlyIdentity":cn=void 0!==e[n].newValue&&e[n].newValue,ln||(sn=cn,tn&&tn.SetChecked(sn));break;case"AccountCreatedTime":t=!0}t&&Object(q.l)(async function(){Q=await lc(),Q?Sc(be):jc(be)}())}function ac(){Sc(ca)}function ic(){jc(ca)}function oc(){Object(z.q)(at).classList.add("disabled-state"),window.addEventListener("mousedown",sc,!0)}function cc(){Object(z.q)(at).classList.remove("disabled-state"),window.removeEventListener("mousedown",sc,!0)}function sc(e){e.preventDefault(),e.stopPropagation()}async function lc(){return!!J.IsNativeUIAvailable()&&Object(b.m)(n)}function rc(){Object(q.k)(async function(e,t){await e.Set({MainPageState:t})}(K.storage,{itemsListType:st,itemsListMode:De,fillIdViewType:Yt,fillIdPath:$t}),"MainPage:_PersistState")}function uc(){switch(le){case 1:jc(Bn);break;case 2:case 3:(null==jn?void 0:jn.m_show_password_generator)?Sc(Bn):jc(Bn)}}function dc(){Hn&&$o((async()=>{const e=await G.FillFieldsWithGeneratedPassword(Hn,null);e&&0!==e.filledFieldsCount&&Do(ka,3,null)})())}function mc(e){Hn&&(Object(q.l)(async function(){await J.CopyTextToClipboardWithAutoClear(Hn,120),Do(Na,3,null)}()),e.stopPropagation())}function pc(e){Object(q.l)(_c()),e.stopPropagation()}function bc(e){Object(q.l)(async function(e){In=e,e?Object(z.q)(Bn).classList.add("expanded"):Object(z.q)(Bn).classList.remove("expanded")}(!In)),e.stopPropagation()}function fc(e){Gn.Start(async t=>{await I.Set({PassGenCharNumber:e.m_length,PassGenExcludeSimilar:e.m_exclude_similar_chars,PassGenUseHexChars:e.m_hex_digits_only,PassGenCheckUpper:e.m_include_upper_case_chars,PassGenCheckLower:e.m_include_lower_case_chars,PassGenCheckNumber:e.m_include_digits,PassGenCheckSpecial:!!e.m_specific_chars,PassGenCharSet:e.m_specific_chars}),t.ThrowIfShouldStop(),function(){const e=Object(z.q)(Mn).GetValues();e.m_hex_digits_only||e.m_include_upper_case_chars||e.m_include_lower_case_chars||e.m_include_digits||e.m_specific_chars?Object(z.q)(Vn).classList.remove("disabled"):Object(z.q)(Vn).classList.add("disabled")}()})}function gc(){$o(hc())}async function hc(){await I.Remove(["PassGenCharNumber","PassGenExcludeSimilar","PassGenUseHexChars","PassGenCheckUpper","PassGenCheckLower","PassGenCheckNumber","PassGenCheckSpecial","PassGenCharSet"]),Object(z.q)(Mn).SetValues(Object(i.d)())}async function _c(){Object(z.q)(Mn).CorrectInputValues();const e=Object(z.q)(Mn).GetValues(),t=Object(k.a)(e.m_length,e,$);await V.AddPassword(t,null),Object(z.q)(Dn).textContent=t,Hn=t,wc()}function wc(){if(!Hn)return void jc(En);const e=Object(f.a)(Hn,[],null);let t,n;e>75?(t=Wn,n="strong"):e>50?(t=Kn,n="good"):e>25?(t=Xn,n="medium"):(t=Jn,n="weak"),Object(z.q)(En).SetState(n,t),Sc(En)}function vc(e,t){Object(z.q)(e).setAttribute("placeholder",t)}function Oc(e,t){Object(z.q)(e).title=t}function yc(e,t){Object(z.q)(e).innerText=t}function jc(e){Object(z.q)(e).classList.add("hidden")}function Sc(e){Object(z.q)(e).classList.remove("hidden")}}}).call(this,n(31).JSXCreateElement)},185:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(4),i=n(3);function o(t,n,o,c,s,l){const r=Object(a.j)(Object(a.D)(Object(a.o)(t)),100),u=Object(a.q)(t),d=Object(a.k)(Object(a.q)(t),100);let m;if(l)m=e("div",{className:"text search-result-container"},e("span",{className:"folder-text"},p(d,n,o,c)));else if(s||!d){let t=void 0;if(s&&u&&n&&0!==n.length){t=[];for(let e=0;e<n.length;e++)n[e]>=u.length&&(t[e]=n[e]-u.length)}m=e("div",{className:"text search-result-container"},e("span",{className:"name-text"},p(r,t||n,o,c)))}else{const t=[],a=[];if(n&&0!==n.length)for(let e=0;e<n.length;e++)n[e]<d.length?t[e]=n[e]:a[e]=n[e]-d.length;m=e("div",{className:"text search-result-container"},e("span",{className:"folder-text"},p(d,t,o,c)),e("span",{className:"name-text"},p(r,a,o,c)))}return m;function p(t,n,a,o){if(!t)return[];if(n&&0!==n.length){const a=[];a.push(document.createTextNode(t.substring(0,n[0])));let i=1,o=0;for(let c=0;c<n.length;c++)void 0!==n[c+1]&&n[c]+1===n[c+1]?i++:(a.push(e("span",{className:"found-text"},t.substring(n[o],n[o]+i)),document.createTextNode(t.substring(n[o]+i,n[c+1]))),i=1,o=c+1);return a}const c=function(e,t){const n=e.map(i.y).filter(e=>""!==e);return new RegExp("("+n.join("|")+")","g"+(t?"":"i"))}(a,o);let s=c.exec(t);if(null===s||0===s[0].length)return[document.createTextNode(t)];{let n=0;const a=[];for(;null!==s;)a.push(document.createTextNode(t.substring(n,s.index)),e("span",{className:"found-text"},s[0])),n=s.index+s[0].length,s=c.exec(t);return a.push(document.createTextNode(t.substring(n))),a}}}}).call(this,n(31).JSXCreateElement)},186:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(6),i=n(5),o=n(3),c=n(0),s=n(14),l=n(2),r=n(1);n(13);function u(t){const{basePath:n,data:u,viewApi:d,onSuccess:m,onBack:p}=t;let b=null,f=null,g=null,h=null,_=null,w=null,v=null;let O="",y="",j="",S="";return{Create:async function(){const t=await d.LocalizeString("Cmd_NewFolder_Title"),n=await d.LocalizeString("NewSharedFolder_Title"),a=await d.LocalizeString("Cmd_Ok_Flat"),i=await d.LocalizeString("Cmd_Cancel_Flat");O=await d.LocalizeString("NameInvalidCharacter_Error2"),y=await d.LocalizeString("WrongNameLenght_Error",[Object(c.B)(255)]),j=await d.LocalizeString("Cmd_NewFolder_Exist_Error"),S=await d.LocalizeString("AlreadyExists_Error2");return e("div",{className:"create-folder-page unselectable"},v=e("div",{className:"action-progress-overlay-circle size48 hidden"}),e("div",{className:"header-section"},e("div",{className:"header-back-button back-icon",onclick:x}),e("div",{className:"header-text-section"},e("div",{className:"title-text"},t))),b=e("div",{className:"content"},e("div",{className:"normal-text"},n),f=e("input",{className:"normal-input",type:"text",value:"",onkeypress:C,oninput:N}),g=e("div",{className:"error-text"})),e("div",{className:"page-flexy-space"}),h=e("div",{className:"bottom-section"},e("div",{className:"button-padding"},w=e("input",{type:"button",className:"normal-button regular-button",value:i,onclick:L})),_=e("input",{type:"button",className:"normal-button important-button",value:a,onclick:k})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){Object(c.q)(f).focus()},Dispose:function(){}};function C(e){"Enter"===e.key&&k()}function N(){M()}function k(){M();const e=Object(c.q)(f).value,t=Object(i.u)(e);return t?t.length>255?(E(y),void Object(c.q)(f).focus()):void Object(s.c)(async function(e){const t=n+"/"+e;let i=null;try{i=await u.GetInfo(t,1,null)}catch(s){if(!Object(r.d)(s,r.z))return void E(Object(a.r)(s))}if(i)return 8===i.type?E(Object(o.e)(j,e)):E(Object(o.e)(S,"Item",e)),void Object(c.q)(f).focus();try{await u.CreateFolder(t,null)}catch(s){return void E(Object(a.r)(s))}Object(l.l)(Object(c.q)(m)(e))}(t),T,1e3,P,q,z):(E(O),void Object(c.q)(f).focus())}function L(){Object(l.l)(p())}function x(){Object(l.l)(p())}function P(){Object(c.q)(v).classList.remove("hidden")}function q(){Object(c.q)(v).classList.add("hidden")}function T(){B(w),B(_),B(f),F(h),F(b),window.addEventListener("mousedown",A,!0)}function z(){D(w),D(_),D(f),I(h),I(b),window.removeEventListener("mousedown",A,!0)}function A(e){e.preventDefault(),e.stopPropagation()}function F(e){Object(c.q)(e).classList.add("disabled-state")}function I(e){Object(c.q)(e).classList.remove("disabled-state")}function B(e){Object(c.q)(e).setAttribute("disabled","disabled")}function D(e){Object(c.q)(e).removeAttribute("disabled")}function E(e){Object(c.q)(g).innerText=e}function M(){Object(c.q)(g).innerText=""}}}).call(this,n(31).JSXCreateElement)},187:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(6),i=n(4),o=n(14),c=n(2),s=n(0);n(13);function l(t){const{itemInfo:n,data:l,viewApi:r,onSuccess:u,onBack:d}=t;let m=null,p=null,b=null,f=null,g=null,h=null;let _=null;return{Create:async function(){const t=Object(i.o)(n.path),a=await r.LocalizeString("Loading_Status_Text"),o=await r.LocalizeString("Btn_No"),c=await r.LocalizeString("Btn_Yes");return e("div",{className:"delete-folder-page unselectable"},h=e("div",{className:"action-progress-overlay-circle size48 hidden"}),e("div",{className:"header-section"},e("div",{className:"header-back-button back-icon",onclick:y}),e("div",{className:"header-text-section"},e("div",{className:"title-text"},e("div",{className:"text-ellipsis"},t)))),m=e("div",{className:"content"},e("div",{className:"warning-section"},b=e("label",{className:"normal-text"},a)),p=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"bottom-section"},e("div",{className:"button-padding"},f=e("input",{type:"button",className:"normal-button regular-button",value:o,onclick:O})),g=e("input",{type:"button",className:"normal-button important-button",value:c,onclick:v}))))},OnAfterShow:function(){_=Object(c.d)({action:w}),Object(c.k)(_.Execute(null),"DeleteFolderPage: Load items counts")},OnBeforeHide:function(){null==_||_.Cancel()},Focus:function(){},Dispose:function(){}};async function w(e){const t=Object(i.o)(n.path),a=await l.GetCounts(n.path,e);let o="";const c=h(a,[1]);c>0&&(o+=_(c,1===c?await r.LocalizeString("RoboformType_Login"):await r.LocalizeString("RoboformType_Logins")));const u=h(a,[2]);u>0&&(o+=_(u,1===u?await r.LocalizeString("RoboformType_Bookmark"):await r.LocalizeString("RoboformType_Bookmarks")));const d=h(a,[5]);d>0&&(o+=_(d,1===d?await r.LocalizeString("RoboformType_Identity"):await r.LocalizeString("RoboformType_Identities")));const m=h(a,[6]);m>0&&(o+=_(m,1===m?await r.LocalizeString("RoboformType_Contact"):await r.LocalizeString("RoboformType_Contacts")));const p=h(a,[7]);p>0&&(o+=_(p,1===p?await r.LocalizeString("RoboformType_Safenote"):await r.LocalizeString("RoboformType_Safenotes")));const f=h(a,[4,3,9]);f>0&&(o+=_(f,await r.LocalizeString("Cmd_DeleteFolder_OtherFiles")));const g=o?await r.LocalizeString("Cmd_DeleteFolder_Confirm",["'"+t+"'",o]):await r.LocalizeString("Cmd_Delete_Confirm",[await r.LocalizeString("RoboformType_Folder"),t]);function h(e,t){let n=0;return e.forEach(e=>{t.forEach(t=>{e.type===t&&e.count>0&&(n+=e.count)})}),n}function _(e,t){return 0===e?"":"\n-"+e.toString()+" "+t}e.ThrowIfShouldStop(),Object(s.q)(b).innerText=g}function v(){Object(o.c)(async function(){Object(s.q)(p).innerText="";try{await l.DeleteFolder(n.path,null)}catch(e){return void(Object(s.q)(p).innerText=Object(a.r)(e))}await u()}(),C,1e3,j,S,N)}function O(){Object(c.k)(d(),"DeleteFolderPage: _OnBackButtonClick")}function y(){Object(c.k)(d(),"DeleteFolderPage: _OnBackButtonClick")}function j(){Object(s.q)(h).classList.remove("hidden")}function S(){Object(s.q)(h).classList.add("hidden")}function C(){L(g),L(f),Object(s.q)(m).classList.add("disabled-state"),window.addEventListener("mousedown",k,!0)}function N(){x(g),x(f),Object(s.q)(m).classList.remove("disabled-state"),window.removeEventListener("mousedown",k,!0)}function k(e){e.preventDefault(),e.stopPropagation()}function L(e){Object(s.q)(e).setAttribute("disabled","disabled")}function x(e){Object(s.q)(e).removeAttribute("disabled")}}}).call(this,n(31).JSXCreateElement)},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),i=n(12);function o(e,t){return async n=>{for(;;){if(!await e(n)){await Object(a.h)(1e3).Execute(n);continue}const o=30,c=1e3*o,s=Object(i.b)(),l=Math.trunc(s/o)*c,r=Math.ceil(s/o)*c,u=300;for(let e=Object(i.c)();e<r;e=Object(i.c)()){t(100*(e-l)/c),await Object(a.h)(Math.min(u,r-e),!1).Execute(n)}}}}},189:function(e,t,n){"use strict";(function(e){function a(){return{Create:async function(){return e("div",{id:"loading-page",className:"loading-page-fixed-size"},e("div",{className:"action-progress-overlay-circle size64"}))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}}}n.d(t,"a",(function(){return a}))}).call(this,n(31).JSXCreateElement)},190:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(56),i=n(20),o=n(6),c=n(7),s=n(1),l=n(14),r=n(2),u=n(0);n(13);function d(t){const{commands:n,rfo:d,viewNavigator:m,viewApi:p,serverUrl:b,popupApp:f,onLoggedIn:g,onCreateAccountLink:h,onBack:_}=t;let w=null,v=null,O=null,y=null,j=null,S=null,C=null;let N="";const k={Create:async function(){const t=!!_,n=!t,a=await f.IsAccountCreationAllowed(),c=Object(o.y)(b)||"",s=await p.LocalizeString("Passw_Login"),l=(await p.LocalizeString("Install_Email")).replace(/:/g,""),r=(await p.LocalizeString("Install_RoboFormMasterPassword")).replace(/:/g,""),u=await p.LocalizeString("Cmd_Help_ForgotPassword_Key"),d=await p.LocalizeString("Passw_Login"),m=await p.LocalizeString("SetupPage_DoNotHaveAnAccount_Text"),g=await p.LocalizeString("SetupPage_CreateAccount_Link_Text");N=await p.LocalizeString("RFOError_WrongUserIDOrPassword");const h=e("div",{className:"login-existing-account setup-page",onkeypress:z},t?e("div",{className:"header-section"},e("div",{className:"header-back-button back-icon",onclick:q}),e("div",{className:"header-text-section"},e("div",{className:"title-text"},s))):null,t?e("div",{className:"hint-text rfo-server-title-text"}," ",c," "):null,n?e("div",{className:"logo-section"},e("div",{className:"logo robot-logo"}),e("div",{className:"logo name-logo"}),e("div",{className:"rfo-server-title-text"}," ",c||""," ")):null,e("div",{className:"email-pwd-section"},e("div",{className:"input-with-placeholder"},w=e("input",{type:"text",maxLength:80,spellcheck:!1,className:"normal-input",required:!0,oninput:I,onkeypress:F}),e("div",{className:"hint-text input-placeholder"},l)),e("div",{className:"input-with-placeholder"},v=e("input",{type:"password",maxLength:80,className:"normal-input",required:!0,oninput:B}),e("div",{className:"hint-text input-placeholder"},r))),y=e("input",{type:"button",className:"important-button wide-button",value:d,onclick:L}),j=e(i.i,{id:"progress-bar",marquee:!0}),S=e("a",{className:"forgot-link flat-link",href:"#",onclick:T},u),O=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),a?e("div",{className:"text-link-section"},e("div",{className:"normal-text"},m),C=e("a",{className:"flat-link",href:"#",onclick:A},g)):null,e("div",{className:"hint-text copyright-text"},Object(o.p)("Copyright (C) 1999-2022 Siber Systems Inc. All Rights Reserved.")));return D(),h},OnAfterShow:function(){Object(u.q)(j).style.display="none"},OnBeforeHide:function(){},Focus:function(){Object(u.q)(w).focus()},Dispose:function(){}};return k;function L(){x()}function x(){const e=Object(u.q)(w).value,t=Object(u.q)(v).value;Object(u.q)(y).style.display="none",Object(u.q)(j).style.display="flex",Object(l.c)(async function(e,t){try{return await n.Login({email:e,password:t}),P(),Object(r.l)(g(t))}catch(i){P(),Object(c.b)(i)?Object(r.l)(async function(e,t){try{const i=e.channel||"email";await d.RequestOtp(i,null);const o=Object(a.a)({otpChannel:i,enrollPolicy:e.enrollNewDevicePolicy,rfo:d,commands:n,viewApi:p,app:f,onSuccess:()=>g(t),onCancel:function(){return m.ShowView(k)}});return m.ShowView(o)}catch(i){P(),G(Object(o.r)(i))}}(i.authInfo,t)):Object(s.d)(i,s.m)?(G(N),setTimeout((function(){Object(u.q)(v).focus()}),500)):G(Object(o.r)(i))}}(e,t),E,0,null,null,M)}function P(){Object(u.q)(y).style.display="flex",Object(u.q)(j).style.display="none"}function q(){_&&Object(r.l)(_())}function T(){return Object(r.k)(n.OpenUrl(o.o,{newTab:!1}),"LoginExistingAccountPage: _OnForgotPasswordLinkClick"),f.ClosePopup()}function z(e){if("Enter"!==e.key)return;const t=Object(u.q)(w).value,n=Object(u.q)(v).value;t&&n&&x()}function A(){Object(r.l)(h())}function F(e){"Enter"===e.key&&Object(u.q)(v).focus()}function I(){D(),R()}function B(){D(),R()}function D(){""!==Object(u.q)(w).value&&""!==Object(u.q)(v).value?Object(u.q)(y).removeAttribute("disabled"):Object(u.q)(y).setAttribute("disabled","true")}function E(){Object(u.q)(w).disabled=!0,Object(u.q)(v).disabled=!0,Object(u.q)(S).classList.add("disabled"),Object(u.q)(C).classList.add("disabled")}function M(){Object(u.q)(w).disabled=!1,Object(u.q)(v).disabled=!1,Object(u.q)(S).classList.remove("disabled"),Object(u.q)(C).classList.remove("disabled")}function G(e){Object(u.q)(O).textContent=e}function R(){Object(u.q)(O).textContent=""}}}).call(this,n(31).JSXCreateElement)},191:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(6),i=n(2);n(13);function o(t){const n=t,o=t.viewApi,c=t.serverUrl;return{Create:async function(){const t=Object(a.y)(c)||"",n=await o.LocalizeString("SetupPage_CreateAccount_Button_Text"),i=await o.LocalizeString("Passw_Login"),r=await o.LocalizeString("SetupPage_AlreadyHaveAnAccount_Text");return e("div",{className:"roboform-setup-page setup-page"},e("div",{className:"logo-section"},e("div",{className:"logo robot-logo"}),e("div",{className:"logo name-logo"}),e("div",{className:"hint-text rfo-server-title-text"}," ",t||""," ")),e("div",{className:"buttons-section"},e("input",{className:"important-button wide-button",type:"button",value:n,onclick:s}),e("div",{className:"delimiter-section"},e("div",{className:"line"}),e("div",{className:"delimiter-text"},r),e("div",{className:"line"})),e("input",{className:"regular-button wide-button",type:"button",value:i,onclick:l})),e("div",{className:"page-flexy-space"}),e("div",{className:"hint-text copyright-text"},Object(a.p)("Copyright (C) 1999-2022 Siber Systems Inc. All Rights Reserved.")))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function s(){Object(i.l)(n.onCreateNewAccount())}function l(){Object(i.l)(n.onLoginWithExistingAccount())}}}).call(this,n(31).JSXCreateElement)},192:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(56),i=n(193),o=n(20),c=n(6),s=n(7),l=n(44),r=n(36),u=n(14),d=n(2),m=n(4),p=n(0);n(13);function b(t){const{commands:n,rfo:b,viewNavigator:f,viewApi:g,serverUrl:h,app:_,http:w,onAccountCreated:v,onLoginLink:O,onBack:y}=t;let j=null,S=null,C=null,N=null,k=null,L=null,x=null,P=null,q=null,T="",z="",A="",F="",I="",B="",D="",E="",M="",G="",R="",U="",V="",H="";const W={Create:async function(){const t=Object(c.y)(h),n=await g.LocalizeString("SetupPage_CreateAccount_Link_Text");U=(await g.LocalizeString("Install_Email")).replace(/:/g,""),V=(await g.LocalizeString("Install_RoboFormMasterPassword")).replace(/:/g,""),H=(await g.LocalizeString("Install_ConfirmRoboFormMasterPassword2")).replace(/:/g,"");const a=await g.LocalizeString("RFOSetup_CreateNewAccount_Button"),i=await g.LocalizeString("SetupPage_AlreadyHaveAnAccount_Question"),s=await g.LocalizeString("Passw_Login");T=await g.LocalizeString("PassAud_PwdStrengthStrong"),z=await g.LocalizeString("PassAud_PwdStrengthGood"),A=await g.LocalizeString("PassAud_PwdStrengthMedium"),F=await g.LocalizeString("PassAud_PwdStrengthWeak"),I=await g.LocalizeString("MasterPass_DoNotMatch_Status"),B=await g.LocalizeString("Install_PasswordTooShort"),D=await g.LocalizeString("EmailIncorrect_Error"),M=await g.LocalizeString("EmailMaxLength_Error",[80..toString()]),E=await g.LocalizeString("EmailEmpty_Error",[6..toString()]),G=await g.LocalizeString("Setup_CreateAccountWithTakenEmail_Error2"),R=await g.LocalizeString("RFO_CreateAccountCannotSendEmail_Error"),await async function(){const e=(await w.SendHttpRequest({url:"pwd-dict.json",receiveBodyType:"json"},null)).bodyAsValue;Object(l.c)(Object(p.q)(e))}();const r=e("div",{className:"create-new-account setup-page"},e("div",{className:"header-section"},e("div",{className:"header-back-button back-icon",onclick:J}),e("div",{className:"header-text-section"},e("div",{className:"title-text"},n))),e("div",{className:"hint-text rfo-server-title-text"}," ",t||""," "),e("div",{className:"email-pwd-section"},e("div",{className:"input-with-placeholder"},j=e("input",{type:"text",maxLength:80,spellcheck:!1,className:"normal-input",onkeypress:Q,required:!0,oninput:$}),e("div",{className:"hint-text input-placeholder"},U)),e("div",{className:"input-with-placeholder"},S=e("input",{type:"password",maxLength:80,className:"normal-input",onkeypress:ee,required:!0,oninput:Z}),e("div",{className:"hint-text input-placeholder"},V),C=e("div",{className:"input-icon-section score-icon"}," ",e(o.h,{state:"weak",text:""})," ")),e("div",{className:"input-with-placeholder"},N=e("input",{type:"password",maxLength:80,className:"normal-input",oninput:te,required:!0,onkeypress:ne}),e("div",{className:"hint-text input-placeholder"},H),k=e("div",{className:"input-icon-section confirm-icon"}))),L=e("input",{type:"button",className:"important-button wide-button",value:a,onclick:K}),x=e(o.i,{id:"progress-bar",marquee:!0}),P=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"text-link-section"},e("div",{className:"normal-text"},i),q=e("a",{className:"flat-link",href:"#",onclick:Y}," ",s," ")),e("div",{className:"hint-text copyright-text"},Object(c.p)("Copyright (C) 1999-2022 Siber Systems Inc. All Rights Reserved.")));return ae(),r},OnAfterShow:function(){Object(p.q)(x).style.display="none"},OnBeforeHide:function(){},Focus:function(){Object(p.q)(j).focus()},Dispose:function(){}};return W;function K(){X()}function X(){const e=Object(p.q)(j).value;if(e.length>80)return ie(M),void Object(p.q)(j).focus();if(e.length<6)return ie(E),void Object(p.q)(j).focus();if(!Object(m.v)(e))return ie(D),void Object(p.q)(j).focus();const t=Object(p.q)(S).value;if(t.length<6)return ie(B),void Object(p.q)(S).focus();Object(u.c)(async function(e,t){if(!await async function(e,t){try{await b.CreateAccount(e,t,null,null);return!0}catch(n){if(Object(s.a)(n)){let e=!1;const t=n.data;if(t.fields){const n=t.fields;for(let t=0;t<n.length;t++){if(n[t].exists){e=!0;break}}}ie(e?n.description+G:n.description+JSON.stringify(n.data))}else Object(r.c)(n)&&n.httpResponse.status&&500===n.httpResponse.status&&n.description.indexOf("email")>0?ie(R):ie(Object(c.r)(n));return!1}}(e,t))return;return async function(e,t){const o=Object(i.a)({viewApi:g,email:e,password:t,onDone:async function(){try{await n.Login({email:e,password:t}),Object(d.l)(v())}catch(i){return void(Object(s.b)(i)?Object(d.l)(async function(e){try{const t=e.channel||"email";await b.RequestOtp(t,null);const i=Object(a.a)({otpChannel:t,enrollPolicy:e.enrollNewDevicePolicy,rfo:b,commands:n,viewApi:g,app:_,onSuccess:v,onCancel:async()=>f.ShowView(W)});return f.ShowView(i)}catch(i){ie(Object(c.r)(i))}}(i.authInfo)):ie(Object(c.r)(i)))}}});return f.ShowView(o)}(e,t)}(e,t),le,0,ce,se,re)}function J(){Object(d.l)(y())}function Y(){Object(d.l)(O())}function $(){ae(),oe()}function Q(e){"Enter"===e.key&&Object(p.q)(S).focus()}function Z(){Object(p.q)(S).value?Object(p.q)(S).classList.contains("large-font")||Object(p.q)(S).classList.add("large-font"):Object(p.q)(S).classList.remove("large-font"),ae(),oe(),function(){const t=Object(p.q)(S).value;if(!t)return void(Object(p.q)(C).style.display="none");const n=Object(l.a)(t,[],null);let a,i;n>75?(a=T,i="strong"):n>50?(a=z,i="good"):n>25?(a=A,i="medium"):(a=F,i="weak");const c=e(o.h,{text:a,state:i});for(;Object(p.q)(C).firstChild;)Object(p.q)(C).removeChild(Object(p.q)(Object(p.q)(C).firstChild));Object(p.q)(C).appendChild(c),Object(p.q)(C).style.display="flex"}()}function ee(e){"Enter"===e.key&&Object(p.q)(N).focus()}function te(){Object(p.q)(N).value?Object(p.q)(N).classList.contains("large-font")||Object(p.q)(N).classList.add("large-font"):Object(p.q)(N).classList.remove("large-font"),ae()}function ne(e){"Enter"===e.key&&X()}function ae(){oe();const e=Object(p.q)(j).value,t=Object(p.q)(S).value,n=Object(p.q)(N).value;if(n&&t!==n)return Object(p.q)(k).style.display="none",Object(p.q)(L).setAttribute("disabled","true"),void ie(I);n&&t===n&&(Object(p.q)(k).style.display="flex");e&&t&&t===n?Object(p.q)(L).removeAttribute("disabled"):Object(p.q)(L).setAttribute("disabled","true")}function ie(e){Object(p.q)(P).textContent=e}function oe(){Object(p.q)(P).textContent=""}function ce(){Object(p.q)(x).style.display="flex",Object(p.q)(L).style.display="none"}function se(){Object(p.q)(x).style.display="none",Object(p.q)(L).style.display="flex"}function le(){Object(p.q)(j).disabled=!0,Object(p.q)(S).disabled=!0,Object(p.q)(N).disabled=!0,Object(p.q)(L).disabled=!0,Object(p.q)(q).classList.add("disabled")}function re(){Object(p.q)(j).disabled=!1,Object(p.q)(S).disabled=!1,Object(p.q)(N).disabled=!1,Object(p.q)(L).disabled=!1,Object(p.q)(q).classList.remove("disabled")}}}).call(this,n(31).JSXCreateElement)},193:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),i=(n(13),n(0));function o(t){const n=t,o=t.viewApi,c=t.email,s=t.password;let l=null,r=null,u=null,d=null;return{Create:async function(){const t=await o.LocalizeString("Install_AccountCreated_Text"),n=(await o.LocalizeString("Install_Email")).replace(/:/g,""),a=(await o.LocalizeString("Install_RoboFormMasterPassword")).replace(/:/g,""),i=await o.LocalizeString("CreateAccountConfirmPage_ForgetTitle_Text"),f=await o.LocalizeString("CreateAccountConfirmPage_ForgetInfo_Text"),g=await o.LocalizeString("Cmd_Done_Flat");return e("div",{className:"create-account-confirm setup-page",onkeypress:b},e("div",{className:"title-text confirm-title"},t),e("div",{className:"credentials-section"},e("div",{className:"email-section"},e("div",{className:"field-title"},n),e("div",{className:"field-text selectable"},c)),e("div",{className:"separator"}),e("div",{className:"password-section"},e("div",{className:"section-text"},e("div",{className:"field-title"},a),l=e("input",{type:"password",disabled:"true",className:"password-mask",value:s}),r=e("div",{className:"field-text hidden selectable"},s)),u=e("div",{className:"switch eye-icon",onclick:p}))),e("div",{className:"forgot-password forgot-icon"}),e("div",{className:"title-text forgot-pwd-title"},i),e("div",{className:"normal-text forgot-pwd-text"},f),d=e("input",{type:"button",className:"important-button wide-button",value:g,onclick:m}),e("div",{className:"page-flexy-space"}))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){Object(i.q)(d).focus()},Dispose:function(){}};function m(){Object(a.l)(n.onDone())}function p(){Object(i.q)(l).classList.toggle("hidden"),Object(i.q)(r).classList.toggle("hidden"),Object(i.q)(u).classList.toggle("closed")}function b(e){"Enter"===e.key&&m()}}}).call(this,n(31).JSXCreateElement)},194:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(6),i=n(2),o=n(14),c=n(0);n(13);function s(t){const{folders:n,sharing:s,viewApi:l,serverUrl:r,onClose:u}=t,d=new Set;let m=null,p=null,b=null,f=null;const g=[];let h=null;return{Create:async function(){const t=Object(a.y)(r),i=await l.LocalizeString("SharedFoldersConfirmation_Title"),o=await l.LocalizeString("Cmd_Accept_Key"),c=await l.LocalizeString("Cmd_Reject_Key"),s=await l.LocalizeString("Cmd_Skip_Flat"),u=[];for(const a of n){const t=a.name||"folder";let n,i="";i=a.senderName&&a.senderName!==a.senderEmail?`${a.senderName} <${a.senderEmail}>`:a.senderName?a.senderName:a.senderEmail;const o=e("div",{className:"checkbox item-row"},e("label",{className:"flex-cell"},e("div",{className:"icon-section item-icon"}),e("div",{className:"text-section"},e("div",{className:"normal-text item-name-text"},t),e("div",{className:"hint-text sender-name-text"},i)),e("div",{className:"flex-cell"}),e("div",{className:"item-check"},n=e("input",{type:"checkbox",checked:!0,onchange:()=>{n.checked?d.add(a):d.delete(a),O()}}),e("div",{className:"checkbox-check"}))));u.push(o),g.push(n),d.add(a)}return e("div",{className:"received-accounts-page setup-page receive-invite-page"},e("div",{className:"header-section"},e("div",{className:"header-text-section"},e("div",{className:"title-text"},"RoboForm"))),h=e("div",{className:"action-progress-overlay-circle size64 hidden"}),e("div",{className:"hint-text rfo-server-title-text"}," ",t||""," "),e("div",{className:"normal-text invite-text"},i),e("div",{className:"items-container"},u),f=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"buttons-section"},e("div",{className:"padding-div"}),m=e("input",{type:"button",className:"important-button normal-button",value:o,onclick:_}),p=e("input",{type:"button",className:"regular-button normal-button",value:c,onclick:w}),b=e("input",{type:"button",className:"regular-button normal-button",value:s,onclick:v})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){Object(c.q)(m).focus()},Dispose:function(){}};function _(){C(),Object(o.c)(async function(){try{for(const e of d){const t=e.accountId;await s.AcceptSharedAccount(t,null)}}catch(e){return void S(Object(a.r)(e))}Object(i.l)(u())}(),N,500,y,j,k)}function w(){C(),Object(o.c)(async function(){try{for(const e of d){const t=e.accountId;await s.RejectSharedAccount(t,null)}}catch(e){return void S(Object(a.r)(e))}Object(i.l)(u())}(),N,500,y,j,k)}function v(){Object(i.l)(u())}function O(){const e=0===d.size;Object(c.q)(m).disabled=e,Object(c.q)(p).disabled=e}function y(){Object(c.q)(h).classList.remove("hidden")}function j(){Object(c.q)(h).classList.add("hidden")}function S(e){Object(c.q)(f).textContent=e}function C(){Object(c.q)(f).textContent=""}function N(){L(m),L(p),L(b),g.forEach(L)}function k(){x(m),x(p),x(b),g.forEach(x)}function L(e){Object(c.q)(e).setAttribute("disabled","disabled")}function x(e){Object(c.q)(e).removeAttribute("disabled")}}}).call(this,n(31).JSXCreateElement)},195:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(6),i=n(5),o=n(1),c=n(14),s=n(2),l=n(0),r=n(3);n(13);function u(t){const{files:n,sharing:u,viewApi:d,serverUrl:m,onClose:p}=t,b=new Set,f=[];let g=null,h=null,_=null,w=null,v=null;return{Create:async function(){const t=Object(a.y)(m)||"",o=await d.LocalizeString("SharedFilesConfirmation_Title"),c=await d.LocalizeString("Cmd_Accept_Key"),s=await d.LocalizeString("Cmd_Reject_Key"),l=await d.LocalizeString("Cmd_Skip_Flat"),u=[];for(const a of n){const t=a.name||"";if(!t)continue;const n=Object(i.h)(t),o=Object(i.j)(t);let c,s="";a.grantorName&&a.grantorEmail&&a.grantorName!==a.grantorEmail?s=`${a.grantorName} <${a.grantorEmail}>`:a.grantorName?s=a.grantorName:a.grantorEmail&&(s=a.grantorEmail);const l=e("div",{className:"checkbox item-row"},e("label",{className:"flex-cell"},e("div",{className:Object(r.B)("icon-section"," ",C(o))}),e("div",{className:"text-section"},e("div",{className:"normal-text item-name-text"},n),e("div",{className:"hint-text sender-name-text"},s)),e("div",{className:"flex-cell"}),e("div",{className:"item-check"},c=e("input",{type:"checkbox",checked:!0,onchange:()=>{c.checked?b.add(a):b.delete(a),S()}}),e("div",{className:"checkbox-check"}))));u.push(l),f.push(c),b.add(a)}return e("div",{className:"received-files-page setup-page receive-invite-page"},e("div",{className:"header-section"},e("div",{className:"header-text-section"},e("div",{className:"title-text"},"RoboForm"))),v=e("div",{className:"action-progress-overlay-circle size64 hidden"}),e("div",{className:"hint-text rfo-server-title-text"}," ",t||""," "),e("div",{className:"normal-text invite-text"}," ",o," "),e("div",{className:"items-container"},u),w=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"buttons-section"},e("div",{className:"padding-div"}),g=e("input",{type:"button",className:"important-button normal-button",value:c,onclick:O}),h=e("input",{type:"button",className:"regular-button normal-button",value:s,onclick:y}),_=e("input",{type:"button",className:"regular-button normal-button",value:l,onclick:j})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){Object(l.q)(g).focus()},Dispose:function(){}};function O(){x(),Object(c.c)(async function(){try{for(const e of b)await u.AcceptSharedFile(e,null)}catch(e){return void L(Object(a.r)(e))}Object(s.l)(p())}(),P,500,N,k,q)}function y(){x(),Object(c.c)(async function(){try{for(const e of b)await u.RejectSharedFile(e,null)}catch(e){return void L(Object(a.r)(e))}Object(s.l)(p())}(),P,500,N,k,q)}function j(){Object(s.l)(p())}function S(){const e=0===b.size;Object(l.q)(g).disabled=e,Object(l.q)(h).disabled=e}function C(e){switch(e){case 1:return"login-icon";case 2:return"bookmark-icon";case 3:return"searchcard-icon";case 4:return"blocking-passcard-icon";case 5:return"identity-icon";case 6:return"contact-icon";case 7:return"safenote-icon";default:throw Object(o.e)(o.r,"Unexpected item type")}}function N(){Object(l.q)(v).classList.remove("hidden")}function k(){Object(l.q)(v).classList.add("hidden")}function L(e){Object(l.q)(w).textContent=e}function x(){Object(l.q)(w).textContent=""}function P(){T(g),T(h),T(_);for(const e of f)T(e)}function q(){z(g),z(h),z(_);for(const e of f)z(e)}function T(e){Object(l.q)(e).setAttribute("disabled","disabled")}function z(e){Object(l.q)(e).removeAttribute("disabled")}}}).call(this,n(31).JSXCreateElement)},196:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(6),i=n(14),o=n(2),c=n(0);n(13);function s(t){const{invitations:n,rfCompany:s,viewApi:l,serverUrl:r,onClose:u}=t;let d="",m=null,p=null,b=null,f=null,g=null;const h=[];return{Create:async function(){const t=Object(a.y)(r)||"",i=1===n.length?await l.LocalizeString("CompanyInvitationConfirmation_Title"):await l.LocalizeString("CompanyInvitationConfirmationMultiple_Title"),o=await l.LocalizeString("Cmd_Accept_Key"),c=1===n.length?await l.LocalizeString("SharedFolderSettings_RejectSharedFolder"):await l.LocalizeString("Cmd_RejectAll_Flat"),s=await l.LocalizeString("Cmd_Skip_Flat"),u=[];for(const[a,r]of n.entries()){const t=r.name||r.companyId,n=await l.LocalizeString("CompanyInvitationToConfirm_WithSender_Info",[t]);let i;const o=e("div",{className:"item-row"},i=e("input",{type:"radio",name:"radio",className:"item-radio",value:r.companyId,id:r.companyId,checked:0===a,onchange:()=>{d=r.companyId}}),e("label",{className:"normal-text item-name-text",for:r.companyId},n));u.push(o),h.push(i)}n.length>0&&(d=n[0].companyId);return e("div",{className:"company-invite-page setup-page receive-invite-page"},e("div",{className:"header-section"},e("div",{className:"header-text-section"},e("div",{className:"title-text"},"RoboForm"))),g=e("div",{className:"action-progress-overlay-circle size64 hidden"}),e("div",{className:"hint-text rfo-server-title-text"},t||""),e("div",{className:"normal-text invite-text"},i),e("div",{className:"items-container"},u),f=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"buttons-section"},e("div",{className:"padding-div"}),m=e("input",{type:"button",className:"important-button normal-button",value:o,onclick:_}),p=e("input",{type:"button",className:"regular-button normal-button",value:c,onclick:w}),b=e("input",{type:"button",className:"regular-button normal-button",value:s,onclick:v})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){Object(c.q)(m).focus()},Dispose:function(){}};function _(){S(),Object(i.c)(async function(){try{await s.JoinCompany(d,null)}catch(e){return void j(Object(a.r)(e))}Object(o.l)(u())}(),C,500,O,y,N)}function w(){S(),Object(i.c)(async function(){try{for(let e=0;e<n.length;e++){const t=n[e];await s.LeaveCompany(t.companyId,null)}}catch(e){return void j(Object(a.r)(e))}Object(o.l)(u())}(),C,500,O,y,N)}function v(){Object(o.l)(u())}function O(){Object(c.q)(g).classList.remove("hidden")}function y(){Object(c.q)(g).classList.add("hidden")}function j(e){Object(c.q)(f).textContent=e}function S(){Object(c.q)(f).textContent=""}function C(){k(m),k(p),k(b),h.forEach(k)}function N(){L(m),L(p),L(b),h.forEach(L)}function k(e){Object(c.q)(e).setAttribute("disabled","disabled")}function L(e){Object(c.q)(e).removeAttribute("disabled")}}}).call(this,n(31).JSXCreateElement)},197:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(6),i=n(2);function o(t){const{commands:n,viewApi:o,app:c}=t;return{Create:async function(){const t=await o.LocalizeString("ProAd_UpgradeNow_Button");return e("div",{className:"upgrade-page"},e("div",null," ","RoboForm extension no longer works with RoboForm 7 and earlier versions. Please upgrade your RoboForm"," "),e("input",{type:"button",value:t,className:"important-button normal-button",onclick:s}))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function s(){return Object(i.l)(n.OpenUrl(a.k,{newTab:!0,reuseExisting:!0})),c.ClosePopup()}}}).call(this,n(31).JSXCreateElement)},198:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(6),i=n(2);n(13);function o(t){const{service:n,commands:o,viewApi:c,app:s,onBack:l}=t;return{Create:async function(){const t=await c.LocalizeString("AboutPage_Title"),a=await c.LocalizeString("About_Version2"),i=await c.LocalizeString("About_Sync2"),o=(await n.GetRFOnlineUserId()).userId,l=await s.GetLicenseInfoPresentation();return e("div",{className:"about-page unselectable"},e("div",{className:"header-section"},e("div",{className:"header-back-button back-icon",onclick:r}),e("div",{className:"header-text-section"},e("div",{className:"title-text"},t))),e("div",{className:"logo-section"},e("div",{className:"logo robot-logo"}),e("div",{className:"logo name-logo"})),e("div",{className:"content"},e("div",{className:"text"},a),e("div",{className:"text hint selectable"},"9.3.2.0"),e("div",{className:"text hint selectable"},"Fri, 25 Feb 2022 13:25:56 GMT"),e("div",{className:"account-section"},e("div",{className:"hint user-section"},e("div",{className:"user-caption"},i),e("div",{className:"text hint padding"},o)),e("div",{className:"hint license"},l)),e("div",{className:"flexy-space"}),e("div",{className:"social-section"},e("div",{className:"icons-section"},e("div",{className:"icon twitter-icon",onclick:d}),e("div",{className:"icon facebook-icon",onclick:u}))),e("div",{className:"roboform-link",onclick:m},"www.roboform.com"),e("div",{className:"hint-text copyright-text"},"Copyright (C) 1999-2022 Siber Systems Inc. All Rights Reserved.")))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function r(){Object(i.k)(l(),"AboutPage: _OnBackButtonClick")}function u(){return Object(i.k)(o.OpenUrl(a.n,{newTab:!0,reuseExisting:!0}),"AboutPage: OpenUrl(Facebook)"),s.ClosePopup()}function d(){return Object(i.k)(o.OpenUrl(a.T,{newTab:!0,reuseExisting:!0}),"AboutPage: OpenUrl(Twitter)"),s.ClosePopup()}function m(){return Object(i.k)(o.OpenUrl(a.E,{newTab:!0,reuseExisting:!0}),"AboutPage: OpenUrl(RoboForm)"),s.ClosePopup()}}}).call(this,n(31).JSXCreateElement)},199:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(6),i=n(20),o=n(5),c=n(14),s=n(4),l=n(0),r=n(1),u=n(2);n(13);function d(t,n,d,m,p,b){const f=t.LocalizeString,g=n,h=d,_=m,w=p,v=b;let O=null,y=null,j=null,S=null,C=null,N=null;const k=new Map;let L=new Set,x=!1;return{Create:async function(){const t=await P();let n,a;switch(h.event){case 6:n=await f("DuplicatesDialog_ApplyChanges_Button"),a=await f("DuplicatesDialog_Cancel_Button");break;case 8:n=await f("DuplicatesDialog_Rename_Button"),a=await f("DuplicatesDialog_CancelRename_Button");break;case 7:n=await f("DuplicatesDialog_Delete_Button"),a=await f("DuplicatesDialog_CancelDelete_Button");break;default:throw Object(r.e)(r.r,"Unknown change event "+h.event)}const o=await f("DuplicatesDialog_Delete_Text"),c=await f("DuplicatesDialog_Undo_Text"),s=[];for(const l of _){let t,n,a=null;if(7!==h.event){const t=e("div",{className:"delete-button",onclick:()=>{x||(t.classList.add("hidden"),i.classList.remove("hidden"),r.classList.add("removed"),n.checked=!1,n.disabled=!0,T(l))}},o),i=e("div",{className:"keep-button hidden",onclick:()=>{x||(i.classList.add("hidden"),t.classList.remove("hidden"),r.classList.remove("removed"),n.disabled=!1,z(l))}},c);a=[t,i]}const r=e("div",{className:"duplicate"},e("div",{className:"checkbox"},e("label",null,n=e("input",{type:"checkbox",onchange:()=>{G(),I()}}),e("div",{className:"checkbox-check"}),t=w?e("div",{className:"icon"}):null,e("div",{className:"checkbox-text"},Object(i.b)(l,200,100,!0)),e("div",{className:"flexy"}))),a);w&&(t.style.backgroundImage=`url(${w})`),s.push(r);const u={m_el:r,m_checkbox_el:n};k.set(l,u)}return O=e("div",{className:"duplicates-view"},y=e("div",{className:"title"},t),e("div",{className:"duplicates-list"},s),C=e("div",{className:"error-message hidden"}),e("div",{className:"flexy"}),e("div",{className:"footer"},j=e("input",{type:"button",className:"button normal-button important-button",disabled:!0,value:n,onclick:A}),e("div",{className:"footer-space"}),S=e("input",{type:"button",className:"button normal-button regular-button",value:a,onclick:F}))),Object(l.q)(O)},OnAfterShow:function(){g.onDataChanged.Add(q)},OnBeforeHide:function(){g.onDataChanged.Remove(q)},Focus:function(){},Dispose:function(){}};function P(){const e=Object(s.l)(Object(l.q)(h.path),!1,200);switch(h.event){case 6:return f("DuplicatesDialog_MessageText",[e]);case 8:{const t=Object(s.l)(Object(l.q)(Object(l.q)(h.to).path),!1,200);return f("DuplicatesDialog_RenameMessageText",[e,t])}case 7:return f("DuplicatesDialog_DeleteMessageText",[e]);default:throw Object(r.e)(r.r,"Unknown change event "+h.event)}}function q(e){let t=!1;for(const n of e){switch(n.event){case 2:return void v.OnAccept();case 7:if(6===h.event){if(n.path===Object(l.q)(h.to).path)return void v.OnAccept()}else if(n.path===h.path)return void v.OnAccept();break;case 8:if(8===h.event&&n.path===Object(l.q)(h.to).path){if(Object(l.q)(n.to).path===h.path)return void v.OnAccept();Object(l.q)(h.to).path=Object(l.q)(n.to).path,t=!0}}switch(n.event){case 7:case 8:case 6:{const e=k.get(Object(l.q)(n.path));if(e){if(e.m_el.remove(),k.delete(Object(l.q)(n.path)),0===k.size)return void v.OnAccept();I()}}}}t&&Object(u.k)(async function(){const e=await P();Object(l.q)(y).innerText=e}(),"DuplicatesView:_OnDataStorageChange: updating title text")}function T(e){L.add(e),I()}function z(e){L.delete(e),I()}function A(){const t=[];for(const[e,n]of k)n.m_checkbox_el.checked&&t.push(e);G(),Object(c.c)(async function(t){const n=new Set,i=[];for(const e of t)switch(h.event){case 6:try{await g.CopyFile(Object(l.q)(h.path),e,null),n.add(e)}catch(u){const e=Object(r.a)(u);i.push(e)}break;case 8:{const t=Object(s.q)(e)+"/"+Object(s.o)(Object(l.q)(Object(l.q)(h.to).path));if(!Object(l.u)(e,t))try{await g.GetInfo(t,0,null);const n=await f("AlreadyExists_Error2",[Object(a.B)(Object(o.j)(e),!1),Object(s.l)(t,!1,void 0)]);i.push(n);break}catch(u){Object(r.d)(u,r.z)}try{await g.MoveFile(e,t,null),n.add(e)}catch(u){const e=Object(r.a)(u);i.push(e)}}break;case 7:try{await g.DeleteFile(e,null),n.add(e)}catch(u){const e=Object(r.a)(u);i.push(e)}break;default:throw Object(r.e)(r.r,"Unknown change event "+h.event)}const c=new Set;for(const e of L)if(!n.has(e))try{await g.DeleteFile(e,null),n.add(e)}catch(u){const t=Object(r.a)(u);i.push(t),c.add(e)}L=c;for(const e of n){Object(l.q)(k.get(e)).m_el.remove(),k.delete(e)}if(I(),i.length>0){!function(t){const n=e("div",{className:"error-message"},t);Object(l.q)(C).replaceWith(n),C=n,R()}(i.join("\n")),R()}else v.OnAccept()}(t),B,500,E,M,D)}function F(){v.OnAccept()}function I(){let e=!1;if(0!==L.size)e=!0;else for(const t of k.values())if(t.m_checkbox_el.checked){e=!0;break}Object(l.q)(j).disabled=!e}function B(){x=!0,Object(l.q)(j).disabled=!0,Object(l.q)(S).disabled=!0;for(const e of k.values())e.m_checkbox_el.disabled=!0}function D(){x=!1;for(const e of k.values())e.m_checkbox_el.disabled=!1;Object(l.q)(S).disabled=!1,I()}function E(){if(N)return;const t=e("div",{className:"action-progress-overlay-circle size48"});Object(l.q)(O).appendChild(t),N=t}function M(){null==N||N.remove(),N=null}function G(){Object(l.q)(C).innerText="",Object(l.q)(C).classList.add("hidden"),R()}function R(){if(!b.OnSizeChanged)return;const e=Object(l.q)(O).getBoundingClientRect();b.OnSizeChanged(e.width,e.height)}}function m(t,n,a,i,o,c){const s=t.LocalizeString,l=d(t,n,a,i,o,{OnAccept:c});return{Create:async function(){const t=await l.Create();return e("div",{className:"duplicates-page setup-page"},e("div",{className:"header-section"},e("div",{className:"header-text-section"},e("div",{className:"title-text"},await s("DuplicatesDialog_WindowTitle")))),t)},OnAfterShow:function(){l.OnAfterShow()},OnBeforeHide:function(){l.OnBeforeHide()},Focus:function(){l.Focus()},Dispose:function(){}}}}).call(this,n(31).JSXCreateElement)},272:function(e,t,n){"use strict";n.p},277:function(e,t,n){"use strict";n.r(t);n.p;var a=n(184),i=n(189),o=n(56),c=n(101),s=n(190),l=n(191),r=n(192),u=n(80),d=n(194),m=n(195),p=n(127),b=n(196),f=n(57),g=n(197),h=n(198),_=(n(128),n(89)),w=n(199),v=n(11),O=n(0);function y(){let e=!1,t=null,n=null,a=null,i=!1;const o=new Map;return{Init:function(){c(),e=!0},UnInit:c,ShowView:async function(e,a){const i=Object(O.q)(document.getElementById("popup")),c=n||Object(O.q)(document.getElementById("main"));let s=o.get(e);if(s)o.delete(e);else{s=document.createElement("div"),s.id="main",s.style.display="none";const t=await e.Create();s.appendChild(t),i.insertBefore(Object(O.q)(s),c)}null==t||t.OnBeforeHide(),c.style.display="none",Object(O.q)(s).style.display="block",a||i.removeChild(c);a&&t?o.set(t,Object(O.q)(n)):(null==t||t.Dispose(),o.forEach((e,t)=>{t.Dispose(),e.remove()}),o.clear());document.body.classList.remove("body-initial-size"),t=e,n=Object(O.q)(s),t.OnAfterShow(),t.Focus()},SetTheme:function(e){if(a===e)return;a&&document.body.classList.remove(a);document.body.classList.add(e),a=e},SetSystemSpecificColors:s,SetPlatformSpecificStyles:function(e){v.i.forEach(t=>{const n="platform-"+t;t===e?document.body.classList.add(n):document.body.classList.remove(n)})}};function c(){e&&(t=null,n=null,a="light-theme",i&&(s(null),i=!1),o.forEach((e,t)=>{t.Dispose(),e.remove()}),o.clear(),e=!1)}function s(e){e?(document.body.style.setProperty("--search-input-focused-border-color",e.focus),document.body.style.setProperty("--edit-focused-border-color",e.focus),document.body.style.setProperty("--back-button-hover-color",e.hover),document.body.style.setProperty("--button-hover-color",e.hover),document.body.style.setProperty("--usagelist-header-selected-border-color",e.color),document.body.style.setProperty("--list-item-hover-background-color",e.hover),document.body.style.setProperty("--list-item-selected-color",e.color),e.selectedContent&&(document.body.style.setProperty("--list-item-accented-background-color",e.selectedContent.background),document.body.style.setProperty("--list-item-accented-text-color",e.selectedContent.labelColor||e.selectedContent.foreground),document.body.style.setProperty("--list-item-accented-folder-text-color",e.selectedContent.secondaryLabelColor||e.selectedContent.foreground),document.body.style.setProperty("--list-item-accented-bold-text-color",e.selectedContent.foreground)),document.body.style.setProperty("--important-button-background-color",e.color),document.body.style.setProperty("--important-button-border-color",e.color),document.body.style.setProperty("--important-button-active-color",e.color),document.body.style.setProperty("--important-button-hover-color",e.hover),i=!0):(document.body.style.removeProperty("--search-input-focused-border-color"),document.body.style.removeProperty("--edit-focused-border-color"),document.body.style.removeProperty("--back-button-hover-color"),document.body.style.removeProperty("--button-hover-color"),document.body.style.removeProperty("--usagelist-header-selected-border-color"),document.body.style.removeProperty("--list-item-hover-background-color"),document.body.style.removeProperty("--list-item-selected-color"),document.body.style.removeProperty("--list-item-accented-background-color"),document.body.style.removeProperty("--list-item-accented-text-color"),document.body.style.removeProperty("--list-item-accented-folder-text-color"),document.body.style.removeProperty("--list-item-accented-bold-text-color"),document.body.style.removeProperty("--important-button-background-color"),document.body.style.removeProperty("--important-button-border-color"),document.body.style.removeProperty("--important-button-active-color"),document.body.style.removeProperty("--important-button-hover-color"),i=!1)}}var j=n(6),S=n(7),C=n(30),N=n(53),k=n(15),L=n(2);n(13);var x=n(1),P=n(8);async function q(e,t,n,q,T){const z=function(e,t,n,N,q,T){const z=e,A=t,F=n,I=q,B=T;let D,E=!1,M=!1,G=!1,R=!0,U=!0,V=!1,H=null,W=null,K=null,X=null,J=!0;const Y={Init:async function(){var e,t,n,a,i;$(),Object(O.q)(z.data).onDataChanged.Add(ue),A.storage.AddOnChangeListener(de),A.onNotificationFromBackgroundScript.Add(re);const o=await async function(){for(let t=0;t<10;t++){try{return await A.CallBackgroundScript("GetApplicationData",null,null)}catch(e){}await Object(L.q)(1e3)}throw x.i}();M=null!==(e=o.standalone)&&void 0!==e&&e,G=null!==(t=o.needNativeRfUpgrade)&&void 0!==t&&t,R=null!==(n=o.useNativeMenus)&&void 0!==n&&n,U=null!==(a=o.isReportAnIssueSupported)&&void 0!==a&&a,V=null!==(i=o.isBreachMonSupported)&&void 0!==i&&i,D=y(),D.Init(),window.matchMedia("(prefers-color-scheme: dark)").matches?D.SetTheme("dark-theme"):D.SetTheme("light-theme");if(!M&&"mac"===Object(v.e)()){const e=await A.CallBackgroundScript("GetSystemSpecificColors",null,null);e&&("Dark"===e.interfaceStyle&&D.SetTheme("dark-theme"),D.SetSystemSpecificColors(e))}D.SetPlatformSpecificStyles(Object(v.e)()),document.body.addEventListener("mousemove",me,!1);window.oncontextmenu=function(){return!1},V&&(K=function(e){const t=e,n={Init:async function(){t.onNotificationFromBackgroundScript.Add(a)},UnInit:function(){t.onNotificationFromBackgroundScript.Remove(a)},GetCachedUserDataItemBreaches:async function(e,n){return t.CallBackgroundScript("BM:GetCachedUserDataItemBreaches",null,n,e)},GetCachedUserDataBreaches:async function(e,n,a){return t.CallBackgroundScript("BM:GetCachedUserDataBreaches",null,a,e,n)},GetAllCachedUserDataItemsBreaches:async function(e){return t.CallBackgroundScript("BM:GetAllCachedUserDataItemsBreaches",null,e)},GetUpdateUserDataItemBreaches:async function(e,n){return t.CallBackgroundScript("BM:GetUpdateUserDataItemBreaches",null,n,e)},StartUpdate:function(){Object(L.k)(t.CallBackgroundScript("BM:StartUpdate",null,null),"BM:StartUpdate")},StopUpdate:async function(){return t.CallBackgroundScript("BM:StopUpdate",null,null)},GetUserDataBreachesStatus:function(){return t.CallBackgroundScript("BM:GetUserDataBreachesStatus",null,null)},onUserDataBreachesUpdated:Object(k.a)()};return n;function a(e,...t){return"BM:OnUpdated"===e?n.onUserDataBreachesUpdated.CallAll(t[0],t[1]):null}}(A),await K.Init(),X=K);return await Object(j.W)(z.options,A,M),void(E=!0)},UnInit:$,ShowUI:async function(){const e=await ce();return e?se(e):ae()},IsLoginRequired:Q,IsAccountCreationAllowed:async function(){if(M)return!0;const e=await Object(O.q)(z.policies).Get({SelfHostedServer:!1,CustomEverywhereServiceLocation:""}),t=e.SelfHostedServer,n=e.CustomEverywhereServiceLocation;return!t&&!n},IsAccountCompanyAdmin:async function(){return(await Object(O.q)(z.options).Get({AccountCompanyAdmin:!1})).AccountCompanyAdmin},IsStandaloneMode:function(){return M},GetLicenseInfoPresentation:async function(){return A.CallBackgroundScript("GetLicenseInfoPresentation",null,null)},HaveActivePaidConsumerLicense:async function(){return A.CallBackgroundScript("HaveActivePaidConsumerLicense",null,null)},GetUsageInfoListItems:async function(e,t,n){return A.CallBackgroundScript("GetUsageInfoListItems",null,n,e,t)},ShouldActivateFillUI:async function(e){return A.CallBackgroundScript("ShouldActivateFillUI",null,e)},GetFillOptionsListForCurrentTab:async function(e){return A.CallBackgroundScript("GetFillOptionsListForCurrentTab",null,e)},GetAutoFunctionsModesForCurrentTab:async function(e){return A.CallBackgroundScript("GetAutoFunctionsModesForCurrentTab",null,e)},BlockAutoFunctionsForCurrentTabDomain:async function(e,t,n){return A.CallBackgroundScript("BlockAutoFunctionsForCurrentTabDomain",null,n,e,t)},ShowBlockedAutoFillForCurrentPage:async function(e){return A.CallBackgroundScript("ShowBlockedAutoFillForCurrentPage",null,e)},GetFoldersList:async function(e){return A.CallBackgroundScript("GetFoldersList",null,e)},GetMatchingLoginsForCurrentTab:async function(e){return A.CallBackgroundScript("GetMatchingLoginsForCurrentTab",null,e)},GetAllIdentities:async function(e){return A.CallBackgroundScript("GetAllIdentities",null,e)},SearchItemsInFolder:async function(e,t,n,a){return A.CallBackgroundScript("SearchItemsInFolder",null,a,e,t,n)},GetSearchEngines:async function(){return A.CallBackgroundScript("GetSearchEngines",null,null)},GetKeyboardShortcuts:async function(){return A.CallBackgroundScript("GetKeyboardShortcuts",null,null)},CopyTextToClipboardWithAutoClear:async function(e,t){return Object(v.b)(e),A.CallBackgroundScript("ClearTextInClipboardAfterDelay",null,null,e,t)},ShowInitialPage:ae,ShowMainPage:ne,ClosePopup:ee,CloseNativeMenu:async function(){if(!Z())return;return A.CallBackgroundScript("CloseNativeMenu",null,null)},SetPersistentPage:async function(e){return A.sessionStorage.Set({"persistent-popup-page":e})},GetPersistentPage:ce,ClearPersistentPage:async function(){return A.sessionStorage.Remove("persistent-popup-page")},RestorePersistentPage:se,ShowNativeItemsList:async function(e,t){if(Z()){const n=pe(),a=be(),i=fe();return void(2===t?await A.CallBackgroundScript("ShowNativeBookmarksList",null,null,Object(P.n)(e),n,a,i):7===t?await A.CallBackgroundScript("ShowNativeSafenotesList",null,null,Object(P.n)(e),n,a,i):5===t?await A.CallBackgroundScript("ShowNativeIdentitiesList",null,null,Object(P.n)(e),n,a,i):await A.CallBackgroundScript("ShowNativeLoginsList",null,null,Object(P.n)(e),n,a,i))}},LoginItemAction:async function(e,t,n){if(t){const t=await z.data.GetInfo(e,0,null),a=await Object(O.q)(z.policies).Get({DisableFillWithoutSubmit:!1}),i=await Object(O.q)(z.options).Get({MatchingPasscardsCausesSubmit:!0,FillEmptyFieldsOnlyPasscard:!1}),o=n||i.MatchingPasscardsCausesSubmit||a.DisableFillWithoutSubmit||t.hidePasswords||!1;Object(L.k)(Object(O.q)(z.commands).FillForms({path:e,identity:!1,submit:o,fillEmptyFieldsOnly:i.FillEmptyFieldsOnlyPasscard},null),"PopupApplication:LoginItemAction: Fill")}else{const t=await Object(O.q)(z.options).Get({ToolbarOpensNewWindow:!0});Object(L.k)(Object(O.q)(z.commands).GoFillSubmit({navigate:!0,path:e,submit:!0,newTab:t.ToolbarOpensNewWindow},null),"PopupApplication:LoginItemAction: GoFillSubmit")}return ee()},SafenoteItemAction:async function(e){return Object(L.k)(Object(O.q)(z.commands).OpenFile(e,{mode:"edit"}),"PopupApplication: SafenoteItemAction"),ee()},BookmarkItemAction:async function(e){const t=await Object(O.q)(z.options).Get({ToolbarOpensNewWindow:!0});return Object(L.k)(Object(O.q)(z.commands).GoTo(e,{newTab:t.ToolbarOpensNewWindow}),"PopupApplication: BookmarkItemAction"),ee()},ShowSaveFormsPage:async function(e,t,n,a){if(!Z()){const i=await A.CallBackgroundScript("CollectSaveFormsData",null,a),o=Object(c.a)({view:A,dataStorage:z.data,usageInfo:z.usageInfo,settings:z.settings,policies:z.policies,commands:Object(O.q)(z.commands),passwordHistory:z.passwordsHistory,data:i,onSave:e,onCancel:t,onBack:n});return D.ShowView(o)}await Object(O.q)(z.commands).SaveForms(null),ee()},GetCommandsForMainDotsMenu:async function(e){const t=await z.policies.Get({NoSecurityCenter:!1,DisableEmergencyAccess:!1,DisableSync:!1,NoPasscards:!1,NoBookmarks:!1,DisableCreateLogins:!1,DisableCreateBookmarks:!1,SelfHostedServer:!1,DisableLogoff:!1}),n=t.NoSecurityCenter,a=t.DisableEmergencyAccess,i=t.DisableSync,o=t.SelfHostedServer,c=t.DisableLogoff,s=(await z.options.Get({AccountEnterprise:!1})).AccountEnterprise,l=[];l.push({title:await A.LocalizeString("Cmd_Password_Generator_Flat"),imageClass:"command-generate-icon",onCommand:async(t,n)=>{const a=Object(f.a)({view:A,options:z.options,settings:z.settings,passwordsHistory:z.passwordsHistory,commands:Object(O.q)(z.commands),http:I,rng:B,onBack:e});return D.ShowView(a)}}),l.push({title:await A.LocalizeString("Cmd_SharingCenter_Flat"),imageClass:"command-sharing-center-icon",onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).OpenSharingCenter({direction:"all-shared"}),"PopupApplication: OpenSharingCenter coomand"),ee())}),n||l.push({title:await A.LocalizeString("Cmd_PasswordAuditRun_Key"),imageClass:"command-security-center-icon",onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).OpenSecurityCenter({view:"all"}),"PopupApplication: OpenSecurityCenter coomand"),ee())});a||l.push({title:await A.LocalizeString("Cmd_EmergencyAccess_Key"),imageClass:"command-emergency-access-icon",onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).OpenEmergencyAccess({direction:"my-contacts"}),"PopupApplication: OpenEmergencyAccess coomand"),ee())});l.push("separator"),(M||!i)&&l.push({title:await A.LocalizeString("Cmd_ToolBarSync"),imageClass:"command-sync-icon",hideMenuAfterExecution:!!M,onCommand:async(t,n)=>{if(M){t.UpdateIcon(null,"command-sync-icon sync-progress-action",null),t.UpdateText(await A.LocalizeString("RfSyncProgress_Syncing"));try{await async function(e,t){J=!1;const n=await A.CallBackgroundScript("Sync",null,t);if(n.forceMasterPasswordChange)return _e(null,!1,e);const a=n.pendingItems;if(a&&(0!==a.accounts.length||0!==a.files.length||0!==a.companyInvitations.length||0!==a.emergencyAccess.length))return await te(a,null,!1,t),e();return}(e,n)}catch(a){if(!Object(x.d)(a,x.m)&&!Object(x.d)(a,x.t))throw a;Object(L.l)(ie())}finally{t.UpdateIcon(null,"command-sync-icon",null),t.UpdateText(await A.LocalizeString("Cmd_ToolBarSync"))}}else await Object(O.q)(z.commands).Sync({viewRect:pe(),screenRect:be(),monitorRect:fe()},n)}});l.push({title:await A.LocalizeString("Cmd_Settings_Flat"),imageClass:"command-settings-icon",onCommand:async(e,t)=>(Object(L.l)(Object(O.q)(z.commands).OpenUrl(F.GetExtensionFileUrl("options.html"),{newTab:!0,reuseExisting:!0})),ee())}),l.push({title:await A.LocalizeString("Cmd_RunImport_Flat"),imageClass:"command-import-icon",onCommand:async(e,t)=>(Object(L.l)(Object(O.q)(z.commands).ShowImportDialog()),ee())});const r=Object(v.e)();M?"win"!==r&&"mac"!==r||l.push({title:await A.LocalizeString("SA_LimitedMode_LinkRF_Text"),onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).OpenUrl(j.H,{newTab:!0,reuseExisting:!0}),"OpenUrl(RoboForm NotFound)"),ee())}):"win"===r&&l.push({title:await A.LocalizeString("Cmd_OpenDesktopEditor"),onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).OpenDesktopEditor(t),"OpenDesktopEditor"),ee())});l.push("separator");const u=await async function(e){const{SelfHostedServer:t}=await z.policies.Get({SelfHostedServer:!1}),n=[];n.push({title:await A.LocalizeString("Cmd_Help_Manual_Key"),onCommand:async(e,t)=>i(Object(j.s)("manual"))}),n.push({title:await A.LocalizeString("Cmd_Help_FaqAll_Key"),onCommand:async(e,t)=>i(Object(j.s)("faq"))}),n.push({title:await A.LocalizeString("Cmd_Help_HomePage_Key"),onCommand:async(e,t)=>i(j.E)}),n.push("separator"),n.push({title:await A.LocalizeString("Cmd_Help_ForgotPassword_Key"),onCommand:async(e,t)=>i(Object(j.s)("forgot-password"))}),n.push("separator"),n.push({title:await A.LocalizeString("Cmd_Sync_RoboFormAccount_Key"),onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).LoginToOnlineAccount(),"PopupApplication: LoginToOnlineAccount command"),ee())});let a=!1;t||(n.push({title:await A.LocalizeString("Cmd_Help_ContactSupport_Key"),onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).ContactSupport({reportType:"ContactSupport"},t),"PopupApplication:ContactSupport"),ee())}),U&&n.push({title:await A.LocalizeString("Popup_ReportAnIssue_Command_Text"),onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).ContactSupport({reportType:"WebPage"},t),"PopupApplication:ContactSupport:WebPage"),ee())}),a=!0);M||"win"!==Object(v.e)()||(n.push({title:await A.LocalizeString("Cmd_Help_ProblemStepsRecorder_Key"),onCommand:async(e,t)=>Object(O.q)(z.commands).RunProblemStepsRecorder()}),a=!0);a&&n.push("separator");function i(e){Object(L.k)(Object(O.q)(z.commands).OpenUrl(e,{newTab:!0,reuseExisting:!1}),"PopupApplication:Command:OpenUrl: "+e),ee()}return n.push({title:await A.LocalizeString("Cmd_About_Key"),onCommand:async(t,n)=>{const a=Object(h.a)({viewApi:A,service:z.service,commands:Object(O.q)(z.commands),app:Y,onBack:e});return D.ShowView(a)}}),n}(e);l.push({title:await A.LocalizeString("Cmd_Help_Flat"),type:"submenu",submenu:u}),s||o||l.push({title:await A.LocalizeString("Cmd_RenewalRewards_Flat"),imageClass:"command-renewal-rewards-icon",onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).LoginToRenewalRewardsPage(),"PopupApplication: LoginToRenewalRewardsPage command"),ee())});c||l.push({title:await A.LocalizeString("Cmd_Logoff_Flat"),imageClass:"command-logoff-icon",onCommand:async(e,t)=>(Object(L.k)(Object(O.q)(z.commands).Logout(),"PopupApplication: Logout command"),ee())});return l},IsNativeUIAvailable:Z,GetPopupRect:pe,GetPopupScreenRect:be,GetPopupMonitorRect:fe,IsReportAnIssueSupported:function(){return U}};return Y;function $(){E&&(K&&(K.UnInit(),K=null,X=null),A.onNotificationFromBackgroundScript.Remove(re),Object(O.q)(z.data).onDataChanged.Remove(ue),A.storage.RemoveOnChangeListener(de),document.body.removeEventListener("mousemove",me),window.oncontextmenu=null,E=!1)}function Q(){const e=Object(O.q)(z.service).GetGlobalStatus();if(M){if(!e.m_connected_to_server||!e.m_logged_in||!e.m_storage_connected)return!0}else{if(!e.m_connected_to_server)return!1;if(e.m_one_file){if(!e.m_storage_connected)return!0;if(!e.m_logged_in)return!0}}return!1}function Z(){return R}function ee(){window.close()}async function te(e,t,n,a){const i=await A.storage.GetValue("ServerUrl",C.d);if((null==e?void 0:e.companyInvitations)&&e.companyInvitations.length>0&&await async function(e,t,n){await Object(L.i)(async(n,a,i)=>{const o=Object(b.a)({viewApi:A,rfCompany:Object(O.q)(z.enterprise),serverUrl:t,invitations:e,onClose:async()=>n()});await D.ShowView(o)},n)}(e.companyInvitations,i,a),null==e?void 0:e.emergencyAccess){const t=e.emergencyAccess,n=t.filter(e=>1===e.status&&1===e.accessStatus);n.length>0&&await async function(e,t,n){await Object(L.i)(async(n,a,i)=>{const o=Object(p.a)({requests:e,ea:Object(O.q)(z.emergencyAccess),viewApi:A,serverUrl:t,onClose:async()=>n()});await D.ShowView(o)},n)}(n,i,a);const o=t.filter(e=>void 0===e.status||0===e.status);o.length>0&&await async function(e,t,n){await Object(L.i)(async(n,a,i)=>{const o=Object(p.a)({invitations:e,ea:Object(O.q)(z.emergencyAccess),viewApi:A,serverUrl:t,onClose:async()=>n()});await D.ShowView(o)},n)}(o,i,a)}if(null==e?void 0:e.accounts){const t=e.accounts.filter(e=>!e.accepted&&!e.company);t.length>0&&await async function(e,t,n){await Object(L.i)(async(n,a,i)=>{const o=Object(d.a)({folders:e,sharing:Object(O.q)(z.sharing),viewApi:A,serverUrl:t,onClose:async()=>n()});await D.ShowView(o)},n)}(t,i,a)}if(null==e?void 0:e.files){const t=e.files.filter(e=>!e.accepted);t.length>0&&await async function(e,t,n){await Object(L.i)(async(n,a,i)=>{const o=Object(m.a)({files:e,sharing:Object(O.q)(z.sharing),viewApi:A,serverUrl:t,onClose:async()=>n()});await D.ShowView(o)},n)}(t,i,a)}t&&await async function(e,t){await Object(L.i)(async(t,n,a)=>{const i=Object(w.a)(A,z.data,e.m_change_event,e.m_duplicates,e.m_item_icon_url,()=>{Object(L.k)(async function(){await A.CallBackgroundScript("ClearPendingItemDuplicates",null,null),t()}(),"PopupApplication:_ShowItemDuplicatesPage")});await D.ShowView(i)},t)}(t,a),n&&await async function(e){await Object(L.i)(async(e,t,n)=>{const a=Object(u.d)(A,(async function(){const t=Object(u.a)(z.service,A,await A.LocalizeString("Passw_Generic_Header"),async()=>{await A.CallBackgroundScript("MasterPasswordIsEntered",null,null),e()},async()=>{await D.ShowView(a)});await D.ShowView(t)}),(async function(){await A.CallBackgroundScript("MasterPasswordReminderIsSkipped",null,null),e()}),(async function(){await Object(O.q)(z.commands).OpenUrl(j.o,{newTab:!0,reuseExisting:!0}),e()}));await D.ShowView(a)},e)}(a)}async function ne(){const e=Object(a.a)({view:A,extensionInfo:F,viewNavigator:D,options:z.options,settings:z.settings,policies:z.policies,service:z.service,data:z.data,usageInfo:z.usageInfo,commands:Object(O.q)(z.commands),securityWarningsManager:z.securityWarningsManager,sharing:z.sharing,passwordsHistory:z.passwordsHistory,breachMon:X,app:Y,http:I,rng:B});return D.ShowView(e)}async function ae(){if(G){const e=Object(g.a)({commands:Object(O.q)(z.commands),viewApi:A,app:Y});return D.ShowView(e)}if(!M){if(!Object(O.q)(z.service).GetGlobalStatus().m_connected_to_server)return ie()}const e=Q();if(!M)return e?ie():ne();if(!e){J=!0;const e=await ge(),t=await A.CallBackgroundScript("GetPendingItemDuplicates",null,null),n=await A.CallBackgroundScript("ShouldShowMasterPasswordReminder",null,null),a=Object(L.e)(null,null,null);return await te(e,t,n,a),ne()}if(await he())return void await we(null,()=>{Object(L.l)(ne())});if(!Object(O.q)(z.service).GetGlobalStatus().m_connected_to_server)return ie();try{return await Object(O.q)(z.commands).Login({}),ne()}catch(t){if(!Object(S.b)(t))return ie();try{const e=t.authInfo.channel||"email";await Object(O.q)(z.rfo).RequestOtp(e,null);const n=Object(o.a)({otpChannel:e,enrollPolicy:t.authInfo.enrollNewDevicePolicy,rfo:Object(O.q)(z.rfo),commands:Object(O.q)(z.commands),viewApi:A,app:Y,onSuccess:async function(){return ne()},onCancel:async function(){return ie()}});return D.ShowView(n)}catch(n){return ie()}}}async function ie(){var e;if(!M){const e=Object(i.a)();await D.ShowView(e),Object(O.q)(z.data).onDataChanged.Add(oe);try{await A.CallBackgroundScript("ShowNativeLoginDialog",null,null)}catch(t){throw Object(O.q)(z.data).onDataChanged.Remove(oe),t}return}if(Object(O.q)(z.service).GetGlobalStatus().m_connected_to_server){J=!1;return async function(e,t){const n=Object(u.c)({accountId:t,commands:Object(O.q)(z.commands),rfo:Object(O.q)(z.rfo),viewNavigator:D,viewApi:A,serverUrl:e,popupApp:Y,onChangeAccountLink:async function(){var t;await(null===(t=z.commands)||void 0===t?void 0:t.ShowAccountSetupDialog({rfoServer:e})),ee()},onLoggedIn:async function(e){return _e(e,!0,async()=>(J=!0,ne()))}}),a=Object(l.a)({viewApi:A,serverUrl:e,onCreateNewAccount:async function(){return D.ShowView(i)},onLoginWithExistingAccount:async function(){return D.ShowView(o)}}),i=Object(r.a)({commands:Object(O.q)(z.commands),rfo:Object(O.q)(z.rfo),viewNavigator:D,viewApi:A,serverUrl:e,app:Y,http:I,onAccountCreated:async function(){return await le(),ne()},onLoginLink:async function(){return D.ShowView(o)},onBack:async function(){return D.ShowView(a)}}),o=Object(s.a)({commands:Object(O.q)(z.commands),rfo:Object(O.q)(z.rfo),viewNavigator:D,viewApi:A,serverUrl:e,popupApp:Y,onLoggedIn:async function(e){return _e(e,!0,async()=>(J=!0,ne()))},onCreateAccountLink:async function(){return D.ShowView(i)},onBack:async function(){return D.ShowView(a)}});return D.ShowView(n)}(await A.storage.GetValue("ServerUrl",C.d),(await Object(O.q)(z.service).GetRFOnlineUserId()).userId)}await(null===(e=z.commands)||void 0===e?void 0:e.ShowAccountSetupDialog(null)),ee()}function oe(e){let t=!1;for(const n of e){switch(n.event){case 2:case 3:case 1:t=!0}if(t)break}if(t){const e=!Object(O.q)(z.service).GetGlobalStatus().m_connected_to_server,t=Q();e||t||(Object(O.q)(z.data).onDataChanged.Remove(oe),Object(L.k)(ne(),"PopupApplication:_OnNativeLoginDialogDataChanged"))}}async function ce(){return(await A.sessionStorage.Get({"persistent-popup-page":null}))["persistent-popup-page"]}async function se(e){switch(e.m_type){case"otp":{J=!1;const t=e.m_data||{m_otp_channel:"email"},n=Object(o.a)({otpChannel:t.m_otp_channel,enrollPolicy:t.m_enroll_policy,commands:Object(O.q)(z.commands),rfo:Object(O.q)(z.rfo),viewApi:A,app:Y,onSuccess:async function(){return _e(null,!0,async()=>(J=!0,ne()))},onCancel:async function(){return ae()}});return D.ShowView(n)}default:throw Object(S.d)(9,"Unknown page type: "+e.m_type)}}async function le(){await z.options.GetValue("OpenStartPageOnLoginFromExtension",!0)&&await A.CallBackgroundScript("OpenStartPageOnLoginFromPopup",null,null)}function re(e,...t){switch(e){case"ClosePopupToolbar":ee()}}function ue(e){for(const t of e)switch(t.event){case 10:case 11:if(J)return void ee()}}async function de(e){for(const t in e)switch(t){case"UseNativeMenus":M||(R=void 0===e[t].newValue||e[t].newValue)}}function me(e){if(void 0!==e.screenX&&void 0!==e.screenY&&void 0!==e.clientX&&void 0!==e.clientY&&0!==e.screenX&&0!==e.screenY){H=e.screenX-e.clientX,W=e.screenY-e.clientY;{const e=window.screen.availTop;window&&window.screen&&window.screen.height&&e&&window.devicePixelRatio&&(window.devicePixelRatio>1&&e>100&&e<500||e<-100&&e>-500)&&(W-=e)}}}function pe(){return Object(P.n)(document.body.getBoundingClientRect())}function be(){if((null===H||null===W)&&!M&&"mac"===Object(v.e)()&&top){const e=void 0!==top.screenLeft?top.screenLeft:top.screenX,t=void 0!==top.screenTop?top.screenTop:top.screenY;let n=(top.outerWidth-top.innerWidth)/2;0;const a=e+n,i=t+n,o=Object(P.n)(document.body.getBoundingClientRect());return Object(P.I)(o,a,i)}if(null!==H&&null!==W){const e=Object(P.n)(document.body.getBoundingClientRect());return Object(P.I)(e,H,W)}}function fe(){{const e=window.screen.availLeft;if(window&&window.screen&&e&&e>0&&void 0!==window.screen.availWidth){const t=be();if(!t)return;const n=window.screen.width-e-window.screen.availWidth;return Object(P.I)(t,n,0)}}}function ge(){return A.CallBackgroundScript("GetPendingItems",null,null)}function he(){return A.CallBackgroundScript("ShouldForceMasterPasswordChange",null,null)}async function _e(e,t,n){if(!await he()){t&&await le();const e=await ge(),a=Object(L.e)(null,null,null);return await te(e,null,!1,a),n()}await we(e,()=>{Object(L.l)(async function(){t&&await le();const e=await ge(),a=Object(L.e)(null,null,null);return await te(e,null,!1,a),n()}())})}async function we(e,t){const n=Object(_.b)(A,I,()=>{Object(L.l)(async function(){const n=await Object(O.q)(z.service).GetRFOnlineUserId(),a=Object(_.a)(A,z.service,Object(O.q)(z.rfo),z.options,z.policies,Object(O.q)(z.commands),I,n.server,e,t,null);await D.ShowView(a)}())});return D.ShowView(n)}}(await Object(N.a)(e),e,t,0,q,T);return await z.Init(),z}var T=n(78),z=n(16),A=n(45),F=n(52),I=n(77);const B=Object(z.e)(),D=Object(T.b)(B),E=Object(A.a)(B),M=Object(A.b)(B);Object(L.k)((async()=>{await D.Init(),M.Init();const e=await q(D,E,0,Object(F.a)(),Object(I.a)());await e.ShowUI()})(),"Popup:Init")},37:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(11),i=n(14),o=n(2),c=n(3),s=n(8),l=n(0),r=(n(13),n(26));function u(t,n,u,d,p){return function t(n,u,d,p,b,f){const g=d&&d.className,h=p,_=d&&d.onShow,w=d&&d.onHide;let v=null,O=!1,y=null;const j={Hide:N};let S=!1,C=null;return k(),j;function N(e){if(C&&(C.removeEventListener("mouseenter",q),C.removeEventListener("mouseleave",T),C.removeEventListener("mouseenter",z),C.remove(),C=null),S&&(document.removeEventListener("mousedown",x),document.removeEventListener("keydown",P),v&&(v.Hide(0),v=null),h&&(document.removeEventListener("mousemove",A),y&&(y.Cancel(),y=null)),w))try{w(null!=e?e:0)}catch(t){}S=!1}function k(){if(S=!0,Object(i.c)((async()=>{try{const t=await u();if(!t.length)return void N(0);const i=function(t,n){const a=t.every(e=>"separator"===e||!e.image&&!e.imageClass&&!e.imageEl);let i="unselectable";a&&(i=Object(c.B)(i," ","no-icons"));return e("div",{className:i},t.map(t=>function(t,n){if("separator"===t)return e("div",{className:"separator"});const a=t.type||"normal";let i="";t.disabled&&(i=Object(c.B)(i," ","disabled"));t.highlighted&&(i=Object(c.B)(i," ","highlighted"));let s=null;const l=e(m,{className:i,text:t.title,icon:t.image,fillSign:"fillable"===a,iconClass:t.imageClass,iconEl:t.imageEl,submenu:"submenu"===a,onclick:()=>{!function(e){s&&s.Cancel();n(e,l)}(t)},onmouseenter:()=>{!function(e){if("submenu"!==a)return;s=Object(o.d)({action:async t=>{await Object(o.q)(400),t&&t.ThrowIfShouldStop(),n(e,l)}}),Object(o.l)(s.Execute(null))}(t)},onmouseleave:function(){if("submenu"!==a)return;s&&s.Cancel()}});return l}(t,n)))}(t,a);L(i,n),h&&document.addEventListener("mousemove",A),i.addEventListener("mouseenter",q),i.addEventListener("mouseleave",T),i.addEventListener("mouseenter",z)}catch(t){N(0)}})(),()=>{},1e3,()=>function(t){L(e("div",{className:"loading"},e("div",{className:"loading-progress"})),t)}(n),null,null),document.addEventListener("mousedown",x),document.addEventListener("keydown",P),_)try{_(j)}catch(s){}function a(e,n){if(!e.disabled)if("submenu"!==e.type){if(e.hideMenuAfterExecution||N(1),!e.onCommand)return;const t=e.onCommand;f((async function(n,a){try{await t(n,a)}finally{e.hideMenuAfterExecution&&N(1)}}),n)}else{if(!e.submenu)return;v&&(v.Hide(0),v=null);const a={className:g||void 0,onHide:function(e){switch(v=null,e){case 1:return void N(1);case 2:return void(O||N(2));case 3:return void(h&&!O&&N(3))}}},i=n.getBoundingClientRect();v=t(i,()=>Promise.resolve(Object(l.q)(e.submenu)),a,!0,b,f)}}}function L(e,t){if(C&&C.remove(),!S)return;C=e,C.classList.add("popup-menu"),g&&C.classList.add(...g.split(" ")),document.body.appendChild(C);let n=F(C.getBoundingClientRect(),t,h);const i=document.body.getBoundingClientRect(),o=n.width>i.width,c=n.height>i.height;if(o||c){o&&(i.width=n.width+100),c&&(i.height=n.height+100);const e=b(i.width,i.height);n=F(C.getBoundingClientRect(),e,h)}C.style.left=Object(a.a)(n.left),C.style.top=Object(a.a)(n.top)}function x(e){if(S&&!C&&N(0),v)return;const t=e.target;t&&C&&!C.isSameNode(t)&&!C.contains(t)&&N(2)}function P(e){S&&e.code===r.Key.Escape&&(N(0),e.preventDefault(),e.stopPropagation())}function q(){O=!0}function T(){O=!1}function z(){O=!0}function A(e){if(!S||!C)return;if(!h)return;if(v)return;const t=C.getBoundingClientRect();return Object(s.r)(t)||Object(s.l)(t,e.clientX,e.clientY)||Object(s.l)(n,e.clientX,e.clientY)?void(y&&(y.Cancel(),y=null)):void(y||(y=Object(o.d)({action:async function(e){await Object(o.q)(400),e&&e.ThrowIfShouldStop(),N(3)}}),Object(o.l)(y.Execute(null))))}function F(e,t,n){const a=window.innerWidth,i=window.innerHeight,o=e.width,c=e.height;let s;if(n){let e=t.right;e+o>=a&&(e=t.left-o),e<0&&(e=t.left>(a-o)/2?t.right-25-o:t.left+25);let n=t.top-4;n+c>=i&&(n=t.bottom-c+4),n<0&&(n=t.top>(i-c)/2?t.bottom-c+4:t.top-4),s=new DOMRect(e,n,o,c)}else{let e=t.right-t.width/3;e+o>=a&&(e=t.left-o+t.width/3);let n=t.bottom-t.height/3;n+c>=i&&(c<n?n-=c:n=i-c-5),s=new DOMRect(e,n,o,c)}return s.width<=a&&(s.x<0?s.x=0:s.right>a&&(s.x-=s.right-a)),s.height<=i&&(s.y<0?s.y=0:s.bottom>i&&(s.y-=s.bottom-i)),s}}(t,n,u,!1,d,p)}function d(e){let t=null;const n=e;return{onShow:function(e){if(t=e,n){p(n,!0);let e=n.parentElement;for(;null!==e;)e.addEventListener("scroll",a),e=e.parentElement}},onHide:function(){if(n){p(n,!1);let e=n.parentElement;for(;null!==e;)e.removeEventListener("scroll",a),e=e.parentElement}t=null}};function a(){t&&t.Hide(4)}}function m(t){var n,a,i;let o,s,l,r="icon icon-left";return t.checked&&(r=Object(c.B)(r," ","check")),t.iconClass&&(r=Object(c.B)(r," ",t.iconClass)),o=t.submenu?e("div",{className:Object(c.B)("item submenu-item"," ",t.className||""),onclick:t.onclick,onmouseenter:t.onmouseenter,onmouseleave:t.onmouseleave},s=null!==(n=t.iconEl)&&void 0!==n?n:e("div",{className:r,backgroundImage:t.icon||""}),l=e("div",{className:"text"},t.text),e("div",{className:"submenu-flexy-space"}),e("div",{className:"submenu-icon"})):t.fillSign?e("div",{className:Object(c.B)("item"," ",t.className||""),onclick:t.onclick,onmouseenter:t.onmouseenter,onmouseleave:t.onmouseleave},s=null!==(a=t.iconEl)&&void 0!==a?a:e("div",{className:r||"",backgroundImage:t.icon||""}),l=e("div",{className:"text"},t.text),e("div",{className:"submenu-flexy-space"}),e("div",{className:"icon icon-right icon-fill"})):e("div",{className:Object(c.B)("item"," ",t.className||""),onclick:t.onclick,onmouseenter:t.onmouseenter,onmouseleave:t.onmouseleave},s=null!==(i=t.iconEl)&&void 0!==i?i:e("div",{className:r||"",backgroundImage:t.icon||""}),l=e("div",{className:"text"},t.text)),o.UpdateIcon=function(t,n,a){let i="icon icon-left";n&&(i=Object(c.B)(i," ",n));const l=null!=a?a:e("div",{className:i,backgroundImage:t||""});o.replaceChild(l,s),s=l},o.UpdateText=e=>{l.innerText=e},o}function p(e,t){t?e.classList.add("highlighted"):e.classList.remove("highlighted")}}).call(this,n(31).JSXCreateElement)},59:function(e,t,n){"use strict";n.p},60:function(e,t,n){"use strict";n.p},92:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(6),i=n(5),o=n(14),c=n(2),s=n(0);n(13);function l(t){const{itemInfo:n,viewApi:l,rfDataStorage:r,rfCommands:u,onSuccess:d,onBack:m}=t;let p=null,b=null,f=null,g=null,h=null;return{Create:async function(){const t=Object(i.h)(n.path),a=Object(i.e)(n.path,!1),o=await l.LocalizeString("DeleteItemPage_Confirmation_Text",[a]),c=await l.LocalizeString("Btn_No"),s=await l.LocalizeString("Btn_Yes");return e("div",{className:"delete-item-page unselectable"},h=e("div",{className:"action-progress-overlay-circle size48 hidden"}),e("div",{className:"header-section"},e("div",{className:"header-back-button back-icon",onclick:v}),e("div",{className:"header-text-section"},e("div",{className:"title-text"},e("div",{className:"text-ellipsis"},t)))),p=e("div",{className:"content"},e("div",{className:"warning-section"},e("div",{className:"normal-text text-break-word"},o)),b=e("div",{className:"error-text"}),e("div",{className:"page-flexy-space"}),e("div",{className:"bottom-section"},e("div",{className:"button-padding"},g=e("input",{type:"button",className:"normal-button regular-button",value:c,onclick:w})),f=e("input",{type:"button",className:"normal-button important-button",value:s,onclick:_}))))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function _(){Object(o.c)(async function(){Object(s.q)(b).innerText="";try{u?await Object(a.l)(r,u,n.path,null):await r.DeleteFile(n.path,null)}catch(e){return void(Object(s.q)(b).innerText=Object(a.r)(e))}await d()}(),j,1e3,O,y,S)}function w(){Object(c.k)(m(),"DeleteItemPage: _OnNoButtonClick")}function v(){Object(c.k)(m(),"DeleteItemPage: _OnBackButtonClick")}function O(){Object(s.q)(h).classList.remove("hidden")}function y(){Object(s.q)(h).classList.add("hidden")}function j(){N(f),N(g),Object(s.q)(p).classList.add("disabled-state"),window.addEventListener("mousedown",C,!0)}function S(){k(f),k(g),Object(s.q)(p).classList.remove("disabled-state"),window.removeEventListener("mousedown",C,!0)}function C(e){e.preventDefault(),e.stopPropagation()}function N(e){Object(s.q)(e).setAttribute("disabled","disabled")}function k(e){Object(s.q)(e).removeAttribute("disabled")}}}).call(this,n(31).JSXCreateElement)}},[[277,0,1]]]);