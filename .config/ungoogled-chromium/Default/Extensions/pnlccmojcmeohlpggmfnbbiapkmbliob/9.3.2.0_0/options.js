// Copyright (C) 1999-2022 Siber Systems Inc. All Rights Reserved.
(window.rf_vlu7ce9uien=window.rf_vlu7ce9uien||[]).push([[5],{102:function(e,t,n){"use strict";function a(e,t){const n=t;let a=null;return{Create:async function(){return a=await e(n),a},OnAfterShow:function(){a&&n&&n.OnAfterShow()},OnBeforeHide:function(){a&&n&&n.OnBeforeHide()},Focus:function(){a&&n&&n.Focus()},Dispose:function(){a&&(null==n||n.Dispose())}}}function o(e){return{Create:e,OnAfterShow:()=>{},OnBeforeHide:()=>{},Focus:()=>{},Dispose:()=>{}}}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}))},129:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return w}));n(274);var a=n(200),o=n(89),i=n(80),s=n(20),l=n(6),c=n(7),r=n(11),u=n(2),d=n(12),m=n(0),_=n(1);function f(t,n,f,w,b,h,O,g,v,y,j,S,C,x){const k=t,A=n,N=f,L=w,T=b,q=h,I=O,E=g,F=v,P=y,M=j,D=S,V=x;let B=null,R=null;const G={onDone:null,AskChangeConfirmation:async function(t,n){try{await Object(u.i)(async(n,a,o)=>{const i=function(t,n,a,o){const i=t,s=n,l=a,c=o;return{Create:async function(){return e("div",{className:"message-box"},e("div",{className:"content"},e("div",{className:"text"},s)),e("div",{className:"footer"},e("input",{type:"button",value:await i.LocalizeString("Cmd_Ok_Flat"),className:"normal-button important-button",onclick:l}),e("input",{type:"button",value:await i.LocalizeString("Cmd_Cancel_Flat"),className:"white",onclick:c})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}}}(k,t,n,()=>a(_.y));await X(i,null)},n)}finally{Z()}},onNewSettingValueStored:async function(t,n){W||(W=e(s.g,null),Object(m.q)(B).appendChild(Object(m.q)(W)));const a=await k.LocalizeString("Options_Settings_Saved_Notification2");Object(m.q)(W).Show(a,5,0)},ChangeMP:function(){Object(u.l)(async function(){if(await I.GetValue("DisableChangeMasterPassword",!1)){const e=await k.LocalizeString("Policy_MasterPasswordChangeDisabled");return void await J(e)}if(A){const e=await N.GetRFOnlineUserId(),t=Object(o.a)(k,N,Object(m.q)(D),T,I,M,V,e.server,null,Z,Z);await X(t,null)}else await M.OpenChangeMasterPasswordDialog()}())},OpenNativeOptionsWindow:M.ShowOptionsDialog,GetRFOnlineUserId:N.GetRFOnlineUserId,ManageAccount:function(){Object(u.l)(M.LoginToOnlineAccount())},ShowBackupAndRestoreDialog:null,Login:function(){Object(u.l)(k.CallBackgroundScript("ShowNativeLoginDialog",null,null))},GetAccountLicenseAutopayInfo:null,UpgradeEverywhereLicenseToFamily:async function(e){const t=await Object(l.q)(T,P,!A);return M.OpenUpgradeEverywhereLicenseToFamilyPage(t,e)},RenewEverywhereLicenseIntoFamily:async function(e){const t=await Object(l.q)(T,P,!A);return M.OpenRenewEverywhereLicenseIntoFamilyPage(t,e)},RenewLicense:async function(e){const t=await Object(l.q)(T,P,!A);return M.OpenRenewLicensePage(t,e)},BuyLicense:async function(e){const t=await Object(l.q)(T,P,!A);return M.OpenBuyLicensePage(t,e)},EnableAutoRenewal:async function(e,t){return M.EnableLicenseAutoRenewal(e,t)},UpdateBillingInfo:null,OpenNativeImportDialog:function(){Object(u.l)(M.ShowImportDialog())},GetAvailableAuthenticationMethods:async function(e){try{return await M.GetAvailableAuthenticationMethods(e)}catch(t){if(Object(c.c)(t,9)||Object(c.c)(t,7))return null;throw t}},AskMasterPassword:async function(e,t){try{return await Object(u.i)(async(t,n,a)=>{const o=Object(i.b)(N,k,e,async e=>{t(e)},null);await X(o,()=>n(_.y))},t)}finally{Z()}},StorePasswordInSystemProtectedStorage:M.StorePasswordInSystemProtectedStorage,DeletePasswordFromSystemProtectedStorage:M.DeletePasswordFromSystemProtectedStorage,ShowInstallDesktopAppPage:async function(e){return M.OpenUrl(l.k,{newTab:!0,reuseExisting:!0})}},z=Object(a.a)(null,Object(r.e)(),Object(r.d)(),!0,!A,!0,k,N,L,T,q,I,E,F,y,C,G);let W=null,U=null,H=null,K=null,Y=null;T.AddOnChangeListener((async function(e){"LocalizationFile"in e&&(await Object(l.W)(T,k,A),await async function(){z.OnBeforeHide(),z.Dispose();const e=await z.Create();null==R||R.replaceWith(e),R=e,z.OnAfterShow(),z.Focus()}())}));return{Create:async function(){return B=e("div",{className:"options-page-view"},R=await z.Create()),Object(m.q)(B)},OnAfterShow:function(){Object(m.q)(B).addEventListener("mousedown",$);try{Object(m.q)(z).OnAfterShow()}catch(e){Object(u.k)(J(Object(l.r)(e)),"OptionsPage: OnShow error")}},OnBeforeHide:function(){Object(m.q)(B).removeEventListener("mousedown",$),Object(m.q)(z).OnBeforeHide()},Focus:function(){K?K.Focus():z.Focus()},Dispose:function(){Object(m.q)(z).Dispose()}};function $(e){!function(){const e=Object(d.b)();(null===U||e-U>10)&&(U=e,Object(u.l)(M.ResetInactivityTimer()))}()}async function J(e){const t=p(k,e,Z);await X(t,null)}async function X(t,n){K=t,H=e("div",{className:"overlay"},e("div",{className:"modal-box"},n?e("div",{className:"close-button",onclick:n}):null,await t.Create())),Y=e=>{const t=e.target;!t||Object(m.q)(H).isSameNode(t)||Object(m.q)(H).contains(t)||(e.preventDefault(),e.stopPropagation())},Object(m.q)(B).addEventListener("mousedown",Y,!0),Object(m.q)(B).addEventListener("click",Y,!0),Object(m.q)(B).appendChild(Object(m.q)(H)),K.OnAfterShow(),K.Focus()}function Z(){null==K||K.OnBeforeHide(),null==K||K.Dispose(),null==H||H.remove(),Y&&(Object(m.q)(B).removeEventListener("mousedown",Y,!0),Object(m.q)(B).removeEventListener("click",Y,!0),Y=null)}}async function w(t,n){const a=p(t,n,()=>{a.OnBeforeHide(),a.Dispose(),o.remove()}),o=e("div",{className:"options-page-view"},e("div",{className:"overlay"},e("div",{className:"message-box"},await a.Create())));document.body.appendChild(o)}function p(t,n,a){const o=t,i=n,s=a;return{Create:async function(){return e("div",{className:"message-box"},e("div",{className:"content"},e("div",{className:"icon error-icon"}),e("div",{className:"text error-text"},i)),e("div",{className:"footer"},e("input",{type:"button",value:await o.LocalizeString("Cmd_Ok_Flat"),className:"normal-button important-button",onclick:s})))},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}}}}).call(this,n(31).JSXCreateElement)},130:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return y}));var a=n(46),o=n(5),i=n(34),s=n(21),l=n(7),c=n(11),r=n(33),u=n(14),d=n(75),m=n(9),_=n(4),f=n(15),w=n(2),p=n(0),b=n(1),h=(n(13),n(26));function O(t,n,O,y,j,S){return Object(w.d)({action:async e=>{try{for(;;){let t=S;S=null,null===t&&(t=await C(e));const n=await x(t,e);if("back"!==n){await k(n,e);break}}}catch(t){Object(b.d)(t,b.y)}}});async function C(o){const i=Object(a.c)(t,Object(a.b)((e,t)=>Object(a.a)("import-dialog","",A(t)),(t,a)=>function(t){const n=t.localization,a=t.localization.LocalizeString;return{Create:async function(){const o=e("div",{className:"choose-importer"},e("div",{className:"close-button",onclick:t.OnClose}),e("div",{className:"dialog-title"},await a("Import_Dialog_Title1")),await async function(t,n){return e("div",{className:"importers-section"},e("div",{className:"importers-list"},e("div",{className:"importer-item",onclick:()=>n(0)},e("div",{className:"icon icon-chrome"}),e("div",{className:"title"},await g(0,t))),e("div",{className:"importer-item",onclick:()=>n(1)},e("div",{className:"icon icon-firefox"}),e("div",{className:"title"},await g(1,t))),e("div",{className:"importer-item",onclick:()=>n(3)},e("div",{className:"icon icon-opera"}),e("div",{className:"title"},await g(3,t))),e("div",{className:"importer-item",onclick:()=>n(2)},e("div",{className:"icon icon-edge"}),e("div",{className:"title"},await g(2,t)))),e("div",{className:"separator"}),e("div",{className:"importers-list apps-list"},e("div",{className:"importer-item",onclick:()=>n(4)},e("div",{className:"icon icon-lastpass"}),e("div",{className:"title"},await g(4,t))),e("div",{className:"importer-item",onclick:()=>n(5)},e("div",{className:"icon icon-dashlane"}),e("div",{className:"title"},await g(5,t))),e("div",{className:"importer-item",onclick:()=>n(8)},e("div",{className:"icon icon-bitwarden"}),e("div",{className:"title"},await g(8,t))),e("div",{className:"importer-item",onclick:()=>n(7)},e("div",{className:"icon icon-1password"}),e("div",{className:"title"},await g(7,t))),e("div",{className:"importer-item",onclick:()=>n(9)},e("div",{className:"icon icon-keeper"}),e("div",{className:"title"},await g(9,t))),e("div",{className:"importer-item",onclick:()=>n(10)},e("div",{className:"icon icon-nordpass"}),e("div",{className:"title"},await g(10,t))),e("div",{className:"importer-item",onclick:()=>n(11)},e("div",{className:"icon icon-truekey"}),e("div",{className:"title"},await g(11,t))),e("div",{className:"importer-item",onclick:()=>n(12)},e("div",{className:"icon icon-enpass"}),e("div",{className:"title"},await g(12,t))),e("div",{className:"importer-item",onclick:()=>n(6)},e("div",{className:"icon icon-csv"}),e("div",{className:"title"},await g(6,t)))))}(n,t.OnChooseImporter));t.className&&o.classList.add(...t.className.split(" "));return o},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}}}({className:"import-page",localization:n,OnChooseImporter:e=>t(e),OnClose:()=>a(b.j)})));return await i.Execute(o)}async function x(S,C){const x=Object(a.c)(t,Object(a.b)((e,t)=>Object(a.a)("import-dialog","",A(t)),(t,a)=>function(t){const n=t.importerId,a=t.localization,i=t.localization.LocalizeString,O=function(t,n,a){const i=a.LocalizeString;let c=null,r=null,d=null,m=null,_=null,O=null,g=null,v=null,y=[];const j=function(){const t=e("div",{className:"folder-section"},c=e("div",{className:"folder-select",onclick:E},e("div",{className:"folder-title"},Object(u.e)(i("Roboform_Folder"),"")),r=e("div",{className:"selected-folder"},"Home"),e("div",{className:"folder-dropdown-button"})),d=e("div",{className:"tree-dropdown",tabIndex:"-1"},m=e("div",{className:"folder-tree"}),e("div",{className:"show-folder-creation-button",onclick:x},Object(u.e)(i("SaveDlg_NewFolder_Text"),""))),_=e("div",{className:"folder-creation-section"},e("div",{className:"folder-creation"},e("div",{className:"subdirectory-icon"}),O=e("input",{type:"text",className:"new-folder-name-input",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellcheck:!1,onkeypress:L}),e("div",{className:"create-folder-button",onclick:A}),e("div",{className:"cancel-folder-creation-button",onclick:N})),g=e("div",{className:"error-message"})));return Object(w.l)(Object(u.p)(Object(p.q)(O),i("FolderTree_NewItem"))),t}();Object(w.l)((async()=>{await S(),t.onDataChanged.Add(C)})()),document.addEventListener("mousedown",(function(e){if(!P())return;let t=e.target;for(;null!==t;){if(t===d)return;if(t===c)return;t=t.parentElement}F()})),document.addEventListener("mousedown",(function(e){if(!j.classList.contains("folder-creation-section-shown"))return;let t=e.target;for(;null!==t;){if(t===_)return;t=t.parentElement}k()}));return{GetElement:()=>j,GetSelectedFolderPath:()=>null===v?"":v.GetSelectedNodePath(),Enable:function(){j.classList.remove("disabled")},Disable:function(){F(),k(),j.classList.add("disabled")}};async function S(){y=await async function(e){const n=[];return await Object(s.i)(Object(p.q)(t),e=>{8===e.type&&n.push(e)},{path:"",parts:1,deep:!0},e),n}(null),M(),V("")}function C(e){let n=!1,a=!1;const i=[];for(const t of e)switch(t.event){case 1:a=!0;break;case 2:case 3:a=!0;break;case 5:if(8===t.type){y.some(e=>e.path===t.path)||(i.push(Object(p.q)(t.path)),n=!0)}break;case 7:if(8===t.type){const e=y.length;y=y.filter((function(e){return!(e.path===(t.path||"")||Object(o.s)(t.path||"",e.path))})),y.length!==e&&(n=!0)}break;case 8:if(8===t.type){y.push({path:Object(p.q)(Object(p.q)(t.to).path),type:8});const e=y.findIndex(e=>e.path===t.path);e>=0&&y.splice(e,1),n=!0}break;case 10:case 11:return y=[],void M()}(n||a)&&Object(u.c)(async function(){if(a)return S();const e=[];for(const a of i)e.push((async function(e){const n=await t.GetInfo(a,0,e);y.push(n)}));e.length>0&&await Object(w.s)({actions:e,progress:null});const n=Object(p.q)(v).GetSelectedNodePath();M(),V(n)}(),()=>{},2e3,null,null,null)}function x(){Object(w.k)(async function(){F(),j.classList.add("folder-creation-section-shown"),Object(p.q)(O).focus(),Object(p.q)(O).select()}(),"FolderSelectWithDropdownAndCreateNew._OnShowFolderCreationButtonClick")}function k(){j.classList.remove("folder-creation-section-shown")}function A(){Object(w.k)(async function(){await T()&&k()}(),"FolderSelectWithDropdownAndCreateNew._OnCreateFolderButtonClick")}function N(){Object(w.k)(async function(){k(),await I()}(),"FolderSelectWithDropdownAndCreateNew._OnCancelFolderCreationButtonClick")}function L(e){e.key===h.Key.Enter&&(Object(w.k)(async function(){await T()&&k()}(),"ImportView: _OnNewFolderNameInputKeyPress"),e.stopPropagation())}async function T(){const e=Object(p.q)(O).value,a=await async function(e){Object(p.q)(v).GetSelectedNodePath();const t=Object(o.u)(e);if(!t)return await q(await i("NameInvalidCharacter_Error2")),void Object(p.q)(O).focus();if(t.length>251)return await q(await i("WrongNameLenght_Error",["255"])),void Object(p.q)(O).focus();return await I(),t}(e);if(!a)return null;const s=Object(p.q)(v).GetSelectedNodePath(),c=s+"/"+a;for(const t of y)if(t.path===c)return V(c),c;if(function(e){if(!e)return!1;for(const t of y)if(t.path===e)return!!t.readOnly;return!1}(s)){const e=await i("ReadOnly_Error");return await q(e),null}const r=function(e){if(!e)return!0;for(const t of y)if(t.path===e)return!t.sharedGroup||!t.received;return!0}(s),{DisableNonGroupData:u}=await n.Get({DisableNonGroupData:!1});if(u&&r){const e=await i("Policy_ProhibitedFolder_NonGroupData_Message");return await q(e),null}const d=function(e){if(!e)return{path:"",type:8};for(const t of y)if(t.path===e)return t;return null}(s),m={path:c,type:8,granted:(null==d?void 0:d.granted)||!1,received:(null==d?void 0:d.received)||!1,sharedFolder:(null==d?void 0:d.sharedFolder)||!1,sharedGroup:(null==d?void 0:d.sharedGroup)||!1};y.push(m);try{await t.CreateFolder(c,null)}catch(_){const e=y.indexOf(m);e>0&&y.splice(e,1);const t=Object(o.e)(c,!0);let n=await i("Cmd_NewFolder_Error",[t]);return(Object(b.d)(_)||Object(l.c)(_))&&(n+=_.description),await q(n),null}return M(),V(c),c}async function q(e){Object(p.q)(g).innerText=e,Object(u.l)(Object(p.q)(g),"block")}async function I(){Object(p.q)(g).innerText="",Object(u.d)(Object(p.q)(g))}function E(){P()?F():function(){Object(p.q)(j).classList.add("tree-dropdown-shown");const e=Object(p.q)(v).GetSelectedElement(),t=Object(p.q)(m).getBoundingClientRect();Object(p.q)(m).scrollTop=e.offsetTop-t.height/2}()}function F(){Object(p.q)(j).classList.remove("tree-dropdown-shown")}function P(){return Object(p.q)(j).classList.contains("tree-dropdown-shown")}function M(){v=function(){let e=null;let t="";const n={GetRootElement:function(){null===e&&a();return Object(p.q)(Object(p.q)(e).m_element)},AddFolder:function(t){const n=t.path;null===e&&a();if(!n)return;const i=function(e){if(e.sharedGroup){if(e.granted)return["icon-overlay","folder-overlay-manager"];if(e.readOnly)return["icon-overlay","folder-overlay-limited"];if(e.received)return["icon-overlay","folder-overlay-regular"]}else{if(e.granted)return["icon-overlay","folder-overlay-granted"];if(e.readOnly)return["icon-overlay","folder-overlay-login-only"];if(e.received)return["icon-overlay","folder-overlay-received"]}return[]}(t);let s=Object(p.q)(e),l="";const c=n.split("/");for(const e of c){if(!e)continue;const t=l+"/"+e;e in s.m_children||(s.m_children[e]=o(t,e,i),1===Object(p.j)(s.m_children)&&(s.m_element.classList.remove("tree-node-leaf"),s.m_expanded?s.m_element.classList.add("tree-node-expand-open"):s.m_element.classList.add("tree-node-expand-closed")),null===s.m_children_container&&(s.m_children_container=document.createElement("ul"),s.m_children_container.classList.add("tree-node-container"),s.m_element.appendChild(s.m_children_container)),s.m_children_container.appendChild(s.m_children[e].m_element)),s=s.m_children[e],l=t}},SelectNode:function(e){const n=i(e);if(!n)return!1;const a=i(t);a&&a.m_header.classList.remove("tree-node-selected");return n.m_header.classList.add("tree-node-selected"),l(e),t=e,!0},GetSelectedElement:function(){const n=i(t);if(!n)return Object(p.q)(e).m_element;return n.m_element},GetSelectedNodePath:function(){return t},onNodeSelected:Object(f.b)(),onNodeExpandedCollapsed:Object(f.b)()};return n;function a(){e=o("","Home",[]),s("")}function o(e,t,a){const o=document.createElement("div");o.classList.add("tree-node-expand"),o.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();const a=i(e);a&&(a.m_expanded?function(e){const t=i(e);if(!t)return;t.m_element.classList.remove("tree-node-expand-open"),t.m_element.classList.add("tree-node-expand-closed"),t.m_expanded=!1,n.onNodeExpandedCollapsed.CallAllSync(e,!1)}(e):s(e))}),!1);const l=document.createElement("div");if(l.classList.add("tree-node-content"),a.length)for(const n of a)l.classList.add(n);l.textContent=t,l.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),n.onNodeSelected.CallAllSync(e)}),!1);const c=document.createElement("div");c.classList.add("tree-node-header"),c.appendChild(o),c.appendChild(l);const r=document.createElement("li");return r.classList.add("tree-node","tree-node-leaf"),""===e&&r.classList.add("root"),r.appendChild(c),{m_element:r,m_header:c,m_expanded:!1,m_children_container:null,m_children:{}}}function i(t){const n=t.split("/");let a=Object(p.q)(e);for(let e=0;e<n.length;e++){const t=n[e];if(t){if(!(t in a.m_children))return null;a=a.m_children[t]}}return a}function s(e){const t=i(e);t&&(t.m_element.classList.add("tree-node-expand-open"),t.m_element.classList.remove("tree-node-expand-closed"),t.m_expanded=!0,n.onNodeExpandedCollapsed.CallAllSync(e,!0))}function l(t){if(!t)return void s("");let n=Object(p.q)(e),a="";const o=t.split("/");for(let e=0;e<o.length;e++){const t=o[e];if(t){if(!(t in n.m_children))return;n=n.m_children[t],a=a+"/"+t,s(a)}}}}(),v.onNodeSelected.Add(D);for(const t of y)v.AddFolder(t);const e=Object(p.q)(m);for(;e.firstChild;){const t=Object(p.q)(e.firstChild);e.removeChild(t)}e.appendChild(v.GetRootElement())}function D(e){V(e),F()}function V(e){Object(p.q)(v).SelectNode(e)||(e="",Object(p.q)(v).SelectNode(e)),Object(p.q)(r).textContent=e?Object(o.e)(e,!0):"Home"}}(t.data_storage,t.policies,t.localization);let y,j,S,C,x,k,A;return{Create:async function(){const o=await async function(e,t){const n=t.LocalizeString,a=Object(c.e)();let o="";switch(e){case 6:o=null;break;case 0:o=await n("Import_Chrome_Instructions");break;case 1:o=await n("Import_Firefox_Instructions");break;case 2:o=await n("Import_Edge_Instructions");break;case 3:o=await n("Import_Opera_Instructions");break;case 4:o=await n("Import_LastPass_Instructions");break;case 5:o=await n("Import_Dashlane_Instructions");break;case 8:o=await n("Import_Bitwarden_Instructions");break;case 10:o=await n("Import_NordPass_Instructions");break;case 11:o=await n("Import_TrueKey_Instructions");break;case 7:o="mac"===a?await n("Import_1Password_Instructions_Mac"):await n("Import_1Password_Instructions_Win");break;case 9:o="mac"===a?await n("Import_Keeper_Instructions_Mac"):await n("Import_Keeper_Instructions_Win");break;case 12:o="mac"===a?await n("Import_Enpass_Instructions_Mac"):await n("Import_Enpass_Instructions_Win")}if(null===o)return null;return o.split("\n").filter(e=>""!==e)}(n,a),s=e("div",{className:"show-instructions-and-import"},e("div",{className:"close-button",onclick:t.OnClose}),e("div",{className:"dialog-title"},await i("Import_Dialog_Title2",[await g(n,a)])),e("div",{className:"logo "+v(n)}),o?e("div",{className:"instructions"},o.map((t,n)=>{const a=(n+1).toString()+")";return e("div",null,e("b",null,a),t)}),e("div",null,await i("Import_Last_Instruction"))):e("div",{className:"empty-instructions"}),e("div",{className:"folders-section"},O.GetElement()),C=e("div",{className:"error-section"},e("div",{className:"title"}," ",await i("Import_ReportError_Text")+":"," "),x=e("div",{className:"description"})),k=e("div",{className:"progress-section"},A=Object(r.e)({percents:0})),e("div",{className:"buttons-bar"},y=e("div",{className:"button",onclick:t.OnBack},await i("Import_BackButton_Text")),e("div",{className:"flex-space"}),j=e("div",{className:"button",onclick:t.OnClose},await i("Cmd_Cancel_Flat")),S=e("div",{className:"button button-default",onclick:N},await i("Import_ImportFromFileButton_Text"))));t.className&&s.classList.add(...t.className.split(" "));return s},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}};function N(){F(),Object(w.k)(async function(){const e=await Object(u.h)([".csv"]);if(!e)return;Object(u.c)(async function(e){const n=Object(w.e)(null,null,null);n.onProgressNotification.Add(L);try{const a=e.name.toLowerCase();if(".csv"!==Object(_.p)(a))throw Object(b.e)(b.r,"Wrong file type");const o=await Object(d.a)(e),i=await Object(m.i)(o),s=O.GetSelectedFolderPath();await t.OnImport(i,s,n)}catch(o){a=Object(b.a)(o),E(),Object(p.q)(x).textContent=a,Object(u.l)(Object(p.q)(C),"flex")}var a}(e),T,0,I,E,q)}(),"ImportDialogView:ShowImportInstructionsView: _OnImportFromFileClick")}function L(e){e.percents&&Object(p.q)(A).SetProgressPercents(e.percents)}function T(){Object(p.q)(y).classList.add("button-disabled"),Object(p.q)(j).classList.add("button-disabled"),Object(p.q)(S).classList.add("button-disabled"),O.Disable()}function q(){Object(p.q)(y).classList.remove("button-disabled"),Object(p.q)(j).classList.remove("button-disabled"),Object(p.q)(S).classList.remove("button-disabled"),O.Enable()}function I(){F(),Object(p.q)(A).SetProgressPercents(0),Object(u.l)(Object(p.q)(k),"block")}function E(){Object(u.d)(Object(p.q)(k))}function F(){Object(u.d)(Object(p.q)(C))}}({className:"import-page",importerId:S,data_storage:O,policies:y,localization:n,OnImport:async(e,a,o)=>{const s=await async function(e,t,a){let o=null;switch(S){case 4:o=await Object(i.a)(e,i.k,O,t,y,n,j,a);break;case 5:o=await Object(i.a)(e,i.f,O,t,y,n,j,a);break;case 8:o=await Object(i.a)(e,i.c,O,t,y,n,j,a);break;case 7:o=await Object(i.a)(e,i.b,O,t,y,n,j,a);break;case 9:o=await Object(i.a)(e,i.j,O,t,y,n,j,a);break;case 10:o=await Object(i.a)(e,i.l,O,t,y,n,j,a);break;case 11:o=await Object(i.a)(e,i.m,O,t,y,n,j,a);break;case 12:o=await Object(i.a)(e,i.h,O,t,y,n,j,a);break;case 0:o=await Object(i.a)(e,i.d,O,t,y,n,j,a);break;case 1:o=await Object(i.a)(e,i.i,O,t,y,n,j,a);break;case 2:o=await Object(i.a)(e,i.g,O,t,y,n,j,a);break;case 3:case 6:o=await Object(i.a)(e,i.e,O,t,y,n,j,a);break;default:throw Object(b.e)(b.r,"Unknown importer")}if(null===o)throw Object(b.e)(b.r,"Import report is not set");return o}(e,a,o);t(s)},OnBack:()=>t("back"),OnClose:()=>a(b.j)})));return await x.Execute(C)}async function k(o,i){const s=Object(a.c)(t,Object(a.b)((e,t)=>Object(a.a)("import-dialog","",A(t)),t=>function(t){const n=t.localization.LocalizeString;return{Create:async function(){const a=e("div",{className:"show-import-report"},e("div",{className:"icon-success"}),e("div",{className:"report-title"},await n("Import_Succeeded_Title")),await async function(t){const a=e("div",{className:"report"});if(0!==t.bookmarksExist){const e=1===t.bookmarksExist?await n("RoboformType_Bookmark"):await n("RoboformType_Bookmarks"),i=await n("Import_ReportExistingGeneric_Text",[t.bookmarksExist.toString(),e]);a.appendChild(o(i))}if(0!==t.bookmarksImported){const e=1===t.bookmarksImported?await n("RoboformType_Bookmark"):await n("RoboformType_Bookmarks"),i=await n("Import_ReportAddedGeneric_Text",[t.bookmarksImported.toString(),e]);a.appendChild(o(i))}if(0!==t.loginsExist){const e=1===t.loginsExist?await n("RoboformType_Login"):await n("RoboformType_Logins"),i=await n("Import_ReportExistingGeneric_Text",[t.loginsExist.toString(),e]);a.appendChild(o(i))}if(0!==t.loginsImported){const e=1===t.loginsImported?await n("RoboformType_Login"):await n("RoboformType_Logins"),i=await n("Import_ReportAddedGeneric_Text",[t.loginsImported.toString(),e]);a.appendChild(o(i))}if(0!==t.safenotesExist){const e=1===t.safenotesExist?await n("RoboformType_Safenote"):await n("RoboformType_Safenotes"),i=await n("Import_ReportExistingGeneric_Text",[t.safenotesExist.toString(),e]);a.appendChild(o(i))}if(0!==t.safenotesImported){const e=1===t.safenotesImported?await n("RoboformType_Safenote"):await n("RoboformType_Safenotes"),i=await n("Import_ReportAddedGeneric_Text",[t.safenotesImported.toString(),e]);a.appendChild(o(i))}return a;function o(t){return e("div",{className:"report-item"},e("div",{className:"icon"}),e("div",{className:"text"},t))}}(t.report),e("div",{className:"buttons-bar"},e("div",{className:"button button-default button-wide",onclick:t.OnDone},await n("Cmd_Done_Flat"))));t.className&&a.classList.add(...t.className.split(" "));return a},OnAfterShow:function(){},OnBeforeHide:function(){},Focus:function(){},Dispose:function(){}}}({className:"import-page",localization:n,report:o,OnDone:()=>t()})));await s.Execute(i)}function A(e){return{onCancel:()=>e(b.j),onEscape:()=>e(b.j),onClickOutside:null}}}function g(e,t){const n=t.LocalizeString;switch(e){case 0:return n("Import_Chrome_Browser_Text");case 1:return n("Import_Firefox_Browser_Text");case 2:return n("Import_Edge_Browser_Text");case 3:return n("Import_Opera_Browser_Text");case 4:return Promise.resolve("LastPass");case 5:return Promise.resolve("Dashlane");case 6:return Promise.resolve("CSV");case 7:return Promise.resolve("1Password");case 8:return Promise.resolve("Bitwarden");case 9:return Promise.resolve("Keeper");case 10:return Promise.resolve("NordPass");case 11:return Promise.resolve("True Key");case 12:return Promise.resolve("Enpass")}return Promise.resolve("")}function v(e){switch(e){case 0:return"logo-chrome";case 1:return"logo-firefox";case 2:return"logo-edge";case 3:return"logo-opera";case 4:return"logo-lastpass";case 5:return"logo-dashlane";case 6:return"logo-csv";case 7:return"logo-1password";case 8:return"logo-bitwarden";case 9:return"logo-keeper";case 10:return"logo-nordpass";case 11:return"logo-truekey";case 12:return"logo-enpass"}return""}function y(){return j}let j=!1}).call(this,n(31).JSXCreateElement)},200:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(102),o=n(6),i=n(130),s=n(46),l=n(19),c=n(30),r=n(64),u=n(33),d=n(2),m=n(1),_=n(15),f=n(0),w=n(12),p=n(4),b=n(3),h=(n(13),n(26));function O(t,n,O,y,j,S,C,x,k,A,N,L,T,q,I,E,F){let P=null,M=null,D=!1,V=null;const B=new Map,R=new Map,G=new Map,z=new Set,W=new Set;let U=null,H=null,K=null;const Y=C.LocalizeString;return{Create:async function(){P=e("div",{className:"settings-view"}),await async function(){let t,a;Object(f.q)(P).appendChild(e("div",{className:"sheets-header"},t=e("div",{className:"sheets-selector"}))),F.onDone?(Object(f.q)(P).appendChild(a=e("div",{className:"sheets-container"},e("div",{className:"settings-header"},M=e("div",{className:"settings-title"},await Y("Options_Settings_Title")),e("div",{className:"action-button",onclick:()=>Object(d.k)(Object(f.q)(F.onDone)(),"SettingsView:OnDone")},await Y("Cmd_Done_Flat"))))),t.appendChild(e("div",{className:"sheets-title"},await Y("Options_Settings_Title"))),t.classList.add("sheets-title-shown")):Object(f.q)(P).appendChild(a=e("div",{className:"sheets-container"}));const s=[];let r=null,v=[],I=[],U=null,H=null;const K=await C.LocalizeString("Cmd_Retry_Flat");Pe(72,function(){let e=!1,t=null;const n={Load:async n=>e?Object(f.q)(t):(t=x.GetGlobalStatus().m_logged_in,k.onDataChanged.Add(a),e=!0,t),Unload:()=>{e&&(k.onDataChanged.Remove(a),e=!1)},Store:async()=>{},IsReadOnly:()=>!0,onChange:Object(_.b)()};return n;function a(e){for(const a of e)switch(a.event){case 3:{const e=t;t=!0,t!==e&&n.onChange.CallAllSync(Object(f.q)(e),!0,Object(f.q)(t),!0)}break;case 10:{const e=t;t=!1,t!==e&&n.onChange.CallAllSync(Object(f.q)(e),!0,Object(f.q)(t),!0)}}}}()),Pe(55,Ne("AccountEnterprise",!1)),await ie(0,await Y("Options_General_Title")),S&&(je(0,await Y("Options_Language_Title"),await Y("Options_Language_Tip"),await ke(),Ne("LocalizationFile",j?"en-english":"")),re(0,ue));je(1,await Y("Options_TimeZone_Title"),null,function(){const e=[];for(const n of g)e.push([n,t(n)]);return new Map(e);function t(e){if(0===e)return"GMT";let t,n,a;return e>=0?(t="+",n=Object(f.E)(e/60).toString(),a=(e%60).toString()):(t="-",n=(-1*Object(f.E)(e/60)).toString(),a=(e%60*-1).toString()),1===n.length&&(n="0"+n),1===a.length&&(a="0"+a),`GMT${t}${n.toString()}:${a}`}}(),Ne("TimeZone",Object(w.d)())),fe(1),je(4,await Y("Options_RoboFormOpensWith_Title2"),await Y("Options_RoboFormOpensWith_Tip2"),new Map([[0,await Y("Options_RoboFormOpensWith_LastSelected_Text")],[1,await Y("Options_RoboFormOpensWith_PopularLogins_Text")],[2,await Y("Options_RoboFormOpensWith_RecentlyUsedLogins_Text")],[3,await Y("Options_RoboFormOpensWith_AllPopularItems_Text")],[4,await Y("Options_RoboFormOpensWith_AllRecentlyUsedItems_Text")],[5,await Y("Options_RoboFormOpensWith_PinnedItems_Text")]]),Ne("RoboFormOpensWith",1)),y&&!j&&Ce(5,await Y("Options_OpenSPOnLoginFromExtension_Title"),null,Ne("OpenStartPageOnLoginFromExtension",!0));y&&Ce(16,await Y("OpenStartpageOnEmptyTabs_Text2"),await Y("OpenStartpageOnEmptyTabs_Tip"),Ne("OpenStartPageOnEmptyTabs",!1));Ce(6,await Y("Options_ShowBookmarksAndLoginsTogether_Text"),await Y("Options_ShowBookmarksAndLoginsTogether_Tip2"),Ne("ShowBookmarksAndLoginsTogether",!1)),y&&"win"===n&&Ce(17,await Y("ShowContextMenuCommands_Text2"),await Y("ShowContextMenuCommands_Tip"),Ne("ShowContextMenuCommands",!0));y&&"win"===n&&j&&(Ce(15,await Y("ShowLowerToolbarForPopups_Text"),await Y("ShowLowerToolbarForPopups_Tip"),Ne("ShowLowerToolbarForPopups",!0)),Ce(14,await Y("ShowLowerToolbar_Text2"),await Y("ShowLowerToolbar_Tip"),Ne("ShowLowerToolbar",!1)));j&&F.Login?Ae(73,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(73,await Y("Options_LoginToViewMoreOptions_Text"));ze([0,6,14,15,16,17,1,4,5]),we(73,72,!0),y&&j&&(await ie(1,await Y("Options_Browsers_Title")),"chrome"===O&&(Ae(8,await Y("Options_Adapter_Chrome_Text"),null,await Y("Options_Adapter_Install_Text"),Z),fe(8)),"edge"===O&&(Ae(9,await Y("Options_Adapter_Edge_Text"),null,await Y("Options_Adapter_Install_Text"),Q),fe(9)),"firefox"===O&&(Ae(10,await Y("Options_Adapter_Firefox_Text2"),null,await Y("Options_Adapter_Install_Text"),ee),fe(10)),"opera"===O&&(Ae(11,await Y("Options_Adapter_Opera_Text"),null,await Y("Options_Adapter_Install_Text"),te),fe(11)),Ae(12,await Y("Options_Adapter_ChromiumBased_Text"),null,await Y("Options_Adapter_Install_Text"),ne),fe(12),Ae(13,await Y("Options_Adapter_FirefoxBased_Text"),null,await Y("Options_Adapter_Install_Text"),ae),fe(13));await ie(2,await Y("Options_Account_Title")),function(t){if(!H||null===U)throw Object(m.e)(m.r,"cannot add Account Email View before adding sheet");const n=e("div",{className:"link rf-account-id",onclick:i}),a=e("div",{className:"action-button",onclick:i},"Manage Account"),o={m_element:null,m_view:{Create:async()=>{const t=e("div",{className:"settings-row"},e("div",{className:"setting-content"},e("div",{className:"setting-title"},"Account:",n),a));return o.m_visible||Te(t),o.m_element=t,o.m_loaded=!0,t},OnAfterShow:()=>{Object(d.l)((async()=>{n.textContent=await async function(){return(await F.GetRFOnlineUserId()).userId}()})())},OnBeforeHide:()=>{},Focus:()=>{},Dispose:()=>{},SetEnabled:async e=>{n.disabled=!e,a.disabled=!e}},m_sheet_id:U,m_store_confirmation_handler:null,m_after_store_action:null,m_visible:!0,m_hidden_by_login_state:!1,m_loaded:!1};R.set(t,o),r?r.push(o):v.push(o);H.m_visible||(qe(H.m_selector_button),H.m_visible=!0);return;function i(){F.ManageAccount()}}(19),Object(i.b)()&&y&&Ae(24,"",null,await Y("Options_ImportsButton_Text2"),()=>{j?F.OpenNativeImportDialog():Object(d.k)(Object(i.a)(Object(f.q)(P),C,k,L,E,null).Execute(null),"Settings. Import")});0;j&&F.Login?Ae(74,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(74,await Y("Options_LoginToViewMoreOptions_Text"));if(ze([19,24,27]),we(74,72,!0),await ie(3,await Y("Options_Security_Title")),Me(29,function(){let e=!1,t=null;const n={Load:async n=>e?Object(f.q)(t):(t=await A.GetValue("AccountPasswordIsStoredExternally",!1),A.AddOnChangeListener(a),e=!0,t),Unload:()=>{e&&(A.RemoveOnChangeListener(a),e=!1)},Store:async()=>{},IsReadOnly:()=>!0,onChange:Object(_.b)()};return n;function a(e){for(const a in e)switch(a){case"AccountPasswordIsStoredExternally":{const o=t;t=void 0!==e[a].newValue&&e[a].newValue,t!==o&&n.onChange.CallAllSync(Object(f.q)(o),!0,Object(f.q)(t),!0)}}}}()),Ae(28,await Y("Options_SetPasswordButton_Text4"),null,await Y("Options_SetPasswordLink_Text"),F.ChangeMP),we(28,29,!0),y){const t=function(){let e=void 0,t=null;return{Load:async n=>void 0!==e?e:t?(e=await t.Execute(n),null!=e?e:null):(t=Object(d.d)({action:F.GetAvailableAuthenticationMethods}),e=await t.Execute(n),t=null,null!=e?e:null),Unload:()=>{null==t||t.Cancel()},Store:async(e,t)=>{},IsReadOnly:()=>!0,onChange:Object(_.b)()}}();Me(30,t),function(t,n,a,o){let i=null,s=null,l=null,c=null,r=null,u=null;const w=Object(_.b)();let p=!1,h=!0,O=!1,g=null;const v=new Map,y=new Map;let S=!1;const C={CreateSettingElem:async()=>(i=e("div",{className:"settings-row radio-group-type",title:O?await Y("Options_ManagedByPolicy_Text"):""},s=e("div",{className:"setting-content"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},n+":"),e("div",{className:"managed-by-policy-icon"})),l=e("div",{className:"setting"}),c=e("div",{className:"warning hidden"},await Y("Passw_EnterNotifySet_Text2",["30"])),r=j?e("div",{className:"auth-methods-old-rf-warning warning hidden"},e("div",null,await Y("Options_AuthMethod_OldNativeRF_Warning")),e("div",{className:"action-button",onclick:A},await Y("Options_AuthMethod_OpenNativeOptions_ButtonText"))):null)),De(Object(f.q)(i),h),Ve(Object(f.q)(i),O),Object(f.q)(i)),CreateValueElem:async t=>{var n;g=new Map;for(const e of a.keys())g.set(e,{m_read_only:!1,m_selected:!1});for(const[e,a]of t)g.set(e,Object(f.h)(a));const o=[];for(const[i,s]of a){const a=t.get(i),l=(null==a?void 0:a.m_selected)||!1,c=(null==a?void 0:a.m_read_only)||!1;let r,u="";l&&(u=Object(b.B)(u," ","option-checked")),a||(u=Object(b.B)(u," ","hidden"));const d=e("label",{className:u,title:O?await Y("Options_ManagedByPolicy_Text"):null!==(n=s.m_hint)&&void 0!==n?n:""},r=e("input",{type:"radio",name:"AuthMethod",checked:l,disabled:c||!h,onchange:()=>{const e=new Map;Object(f.q)(g).forEach((t,n)=>{e.set(n,{m_read_only:t.m_read_only,m_selected:n===i})}),g=e,w.CallAllSync(Object(f.q)(g)),o.forEach(e=>e.classList.remove("option-checked")),d.classList.add("option-checked")}}),e("span",{className:"radio-button"}),!j&&s.m_suggest_native_install?e("span",{className:"radio-text"},await Y("Options_AuthMethod_Biometrics_InstallDesktopApp_Text",[s.m_text]),e("a",{href:"#",onclick:x},await Y("Options_AuthMethod_Biometrics_InstallDesktopApp_Link"))):e("span",{className:"radio-text"},s.m_text));o.push(d),v.set(i,r),y.set(i,d)}return u=e("div",{className:"radio-group"},[...o]),p=!0,k(),Object(f.q)(u)},ReplaceValueElem:e=>{s&&l&&(s.replaceChild(e,l),l=e)},SetValue:async e=>{if(!p)throw Object(m.e)(m.r,"Cannot change settings view element value before it's creation "+t);g=new Map;for(const t of a.keys())g.set(t,{m_read_only:!1,m_selected:!1});for(const[t,n]of e){g.set(t,Object(f.h)(n));const e=Object(f.q)(v.get(t));e.checked=n.m_selected;const a=Object(f.q)(y.get(t));n.m_selected?a.classList.add("option-checked"):a.classList.remove("option-checked"),e.disabled=n.m_read_only}k()},SetEnabled:async(e,t)=>{var n,o;if(h=e,O=t,p){for(const[t,n]of v){const a=Object(f.q)(g).get(t);n.disabled=!e||!0===(null==a?void 0:a.m_read_only)}for(const[e,t]of y)t.title=O?await Y("Options_ManagedByPolicy_Text"):null!==(o=null===(n=a.get(e))||void 0===n?void 0:n.m_hint)&&void 0!==o?o:""}i&&(De(i,e),Ve(i,t),await Be(i,t))},onValueChange:w};j&&ge(30,ve(null),async()=>{null==r||r.classList.remove("hidden")},async()=>{null==r||r.classList.add("hidden")});function x(){Object(d.l)(oe(F.ShowInstallDesktopAppPage))}function k(){!function(){const e=Ie(Object(f.q)(g));return j?0!==e&&(6!==e||!o.IsReadOnly()):6===e&&!S}()?Object(f.q)(c).classList.add("hidden"):Object(f.q)(c).classList.remove("hidden")}function A(){Object(d.l)(oe(()=>F.OpenNativeOptionsWindow(7)))}ge(55,ve(!0),async()=>{S=!0,p&&k()},async()=>{S=!1,p&&k()}),Ge(t,n,C,o)}(31,await Y("Options_AuthMethod_Title"),new Map([[0,{m_text:await Y("Options_AuthMethod_MasterPasswordOnly"),m_hint:j?await Y("Options_AuthMethod_MasterPasswordOnly_Tip"):await Y("Options_AuthMethod_MasterPasswordOnly_Tip2"),m_suggest_native_install:!1}],[1,{m_text:await Y("Options_AuthMethod_AskOnNewBrowserSession"),m_hint:await Y("Options_AuthMethod_AskOnNewBrowserSession_Tip"),m_suggest_native_install:!1}],[2,{m_text:await Y("Options_AuthMethod_WindowsHello2"),m_hint:await Y("Options_AuthMethod_WindowsHello_Tip"),m_suggest_native_install:!0}],[3,{m_text:await Y("Options_AuthMethod_Fingerprint"),m_hint:await Y("Options_AuthMethod_Fingerprint_Tip"),m_suggest_native_install:!1}],[4,{m_text:await Y("Options_AuthMethod_UseTouchID"),m_hint:null,m_suggest_native_install:!0}],[5,{m_text:await Y("Options_AuthMethod_UseWatch"),m_hint:null,m_suggest_native_install:!0}],[6,{m_text:await Y("Options_StoreMPInSystemProtectedStorage_Text2"),m_hint:await Y("Options_StoreMPInSystemProtectedStorage_Tip2"),m_suggest_native_install:!1}]]),function(e){let t=null,a=null,i=null,s=null,c=null,r=!1,u=null,d=!1,w=!1,p=!1,b=!1,h=!1,O=!1;const g={Load:async n=>{if(h)return Object(f.q)(t);if(i=await A.GetValue("AuthenticationMethod",null),s=i,r=await A.GetValue("AccountEnterprise",!1),u=await A.GetValue("AccountCreatedTime",null),c=await L.GetValue("StoreMPInSystemProtectedStorage",null),j){const e=await A.Get({StoreMPInSystemProtectedStorage:!1,WindowsHelloAuthEnabled:!1,FingerprintWinBioAuthEnabled:!1,WatchAuthEnabled:!1});d=e.StoreMPInSystemProtectedStorage,w=e.FingerprintWinBioAuthEnabled,p=e.WindowsHelloAuthEnabled,b=e.WatchAuthEnabled,s=Object(o.w)(d,w,p,b,c)}else null===s&&(s=Object(l.f)(!1,r,u));return a=await e.Load(n),t=v(s,null!==c),O=null!==c,A.AddOnChangeListener(y),L.AddOnChangeListener(S),h=!0,t},Unload:()=>{h&&(A.RemoveOnChangeListener(y),L.RemoveOnChangeListener(S),h=!1)},Store:async(e,n)=>{if(!h)throw Object(m.e)(m.r,"Cannot store storage before loading");let a;switch(Ie(e)){default:case 0:a=0;break;case 1:a=2;break;case 2:a=4;break;case 4:a=5;break;case 3:a=3;break;case 5:a=6;break;case 6:a=1}await N.SetValue("AuthenticationMethod",a),j&&await Object(o.Q)(N,a),s=a,t=v(a,null!==c)},IsReadOnly:()=>O,onChange:Object(_.b)()};return g;function v(e,t){let o=(null==a?void 0:a.masterPassword)||!1,i=(null==a?void 0:a.fingerprint)||!1,s=(null==a?void 0:a.windowHello)||!1,l=(null==a?void 0:a.touchID)||!1,c=(null==a?void 0:a.appleWatch)||!1,r=(null==a?void 0:a.systemProtectedStorage)||!1,u=(null==a?void 0:a.cacheBetweenBrowserSessions)||!1;null!==a?(o=a.masterPassword||!1,i=a.fingerprint||!1,s=a.windowHello||!1,l=a.touchID||!1,c=a.appleWatch||!1,r=a.systemProtectedStorage||!1,u=a.cacheBetweenBrowserSessions||!1):(o=!1,i=!1,s=!1,l=!1,c=!1,r=!1,u=!j);const d=new Map;return d.set(0,{m_selected:0===e,m_read_only:t||!o}),"win"===n&&(d.set(2,{m_selected:4===e,m_read_only:t||j&&!s}),j&&d.set(3,{m_selected:3===e,m_read_only:t||!i})),"mac"===n&&(d.set(4,{m_selected:3===e||5===e,m_read_only:t||j&&!l}),(c||6===e)&&d.set(5,{m_selected:6===e,m_read_only:t||j&&!c})),j||d.set(1,{m_selected:2===e,m_read_only:t||!u}),d.set(6,{m_selected:1===e,m_read_only:t||!r}),d}function y(e){var n,a,m,_,h,y,S;let C=!1;for(const t in e)switch(t){case"AuthenticationMethod":i=null!==(n=e[t].newValue)&&void 0!==n?n:null,j||(C=!0);break;case"AccountEnterprise":r=null!==(a=e[t].newValue)&&void 0!==a&&a,C=!0;break;case"AccountCreatedTime":u=null!==(m=e[t].newValue)&&void 0!==m?m:null,C=!0;break;case"StoreMPInSystemProtectedStorage":d=null!==(_=e[t].newValue)&&void 0!==_&&_,C=!0;break;case"WindowsHelloAuthEnabled":p=null!==(h=e[t].newValue)&&void 0!==h&&h,C=!0;break;case"FingerprintWinBioAuthEnabled":w=null!==(y=e[t].newValue)&&void 0!==y&&y,C=!0;break;case"WatchAuthEnabled":b=null!==(S=e[t].newValue)&&void 0!==S&&S,C=!0}if(C){s=j?Object(o.w)(d,w,p,b,c):null===i?Object(l.f)(j,r,u):i;const e=t;t=v(Object(f.q)(s),null!==c),g.onChange.CallAllSync(Object(f.q)(e),O,Object(f.q)(t),O)}}function S(e){var n;let a=!1;for(const t in e)switch(t){case"StoreMPInSystemProtectedStorage":c=null!==(n=e[t].newValue)&&void 0!==n?n:null,a=!0}if(a){const e=t;t=v(Object(f.q)(s),null!==c);const n=O;O=null!==c,g.onChange.CallAllSync(Object(f.q)(e),n,Object(f.q)(t),O)}}}(t)),re(31,de),j||we(31,30,null)}Fe(33,"MFA"),fe(33),Se(34,await Y("Options_AutoForgetTime_Text"),await Y("Options_AutoForgetTime_Tip2"),0,99999,1,Ne("AutoLogoffTimeMins","ios"===n?1440:120)),be(34,31,[1,6]),Fe(35,"Enrollment Period"),fe(35),Fe(36,"Authorized Devices"),fe(36),Fe(37,"Recently Used Devices"),fe(37),Ce(38,await Y("Options_Domains_FillingFromLoginChecksDomain_Text2"),await Y("Options_Domains_FillingFromLoginChecksDomain_Tip"),Ne("FillingFromPasscardChecksDomain",!0)),Ce(39,await Y("Options_WarnAboutFillingSensitiveInfo_Text2"),await Y("Options_WarnAboutFillingSensitiveInfo_Tip"),se(Ne("MsgBoxSensitiveFieldsFilled",!1))),Me(40,Ne("AccountEnterprise",!1)),Ce(41,await Y("Options_ShowCompromisedPasswordsIndicator"),await Y("Options_ShowCompromisedPasswordsIndicator_Tip"),se(Ne("DontShowCompromisedDataIcons",!1))),we(41,40,!0),Fe(42,"Encryption Algorithm Iterations"),fe(42),j&&F.Login?Ae(75,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(75,await Y("Options_LoginToViewMoreOptions_Text"));if(ze([28,31,33,34,35,36,37,38,39,41,42]),we(75,72,!0),y){if(await ie(4,await Y("Options_AutoFill_Title")),xe(43,await Y("Options_AutoFill_Text"),"AutoFill mode",new Map([[0,{m_text:await Y("Options_AutoFill_DontOffer_Text"),m_text_descr:null,m_hint:null}],[1,{m_text:await Y("Options_AutoFill_Offer_Text"),m_text_descr:null,m_hint:await Y("Options_AutoFill_Offer_Tip")}],[2,{m_text:await Y("Options_AutoFill_WithoutAsking_Text1"),m_text_descr:await Y("Options_AutoFill_WithoutAsking_Text2"),m_hint:await Y("Options_AutoFill_WithoutAsking_Tip")}]]),await Y("Options_AutoFill_Tip"),function(){let e=null,t=!0,n=!0,a=!1,o=!1,i=!1,s=!1;const l={Load:async l=>{if(i)return Object(f.q)(e);const d=await A.Get({ShowInplaceAutoFillUI:!0,ConfirmAutoFillEnable:!0});return t=d.ShowInplaceAutoFillUI,n=d.ConfirmAutoFillEnable,a=null!==await L.GetValue("ShowInplaceAutoFillUI",null),o=null!==await L.GetValue("ConfirmAutoFillEnable",null),e=c(t,a,n,o),s=a&&o,A.AddOnChangeListener(r),L.AddOnChangeListener(u),i=!0,e},Unload:()=>{i&&(A.RemoveOnChangeListener(r),L.RemoveOnChangeListener(u),i=!1)},Store:async(s,l)=>{var r,u;if(!i)throw Object(m.e)(m.r,"Cannot store storage before loading");let d=!0,_=!0;!0===(null===(r=s.get(0))||void 0===r?void 0:r.m_selected)?(d=!1,_=!0):!0===(null===(u=s.get(1))||void 0===u?void 0:u.m_selected)?(d=!0,_=!0):(d=!0,_=!1),await N.Set({ShowInplaceAutoFillUI:d,ConfirmAutoFillEnable:_}),t=d,n=_,e=c(t,a,n,o)},IsReadOnly:()=>s,onChange:Object(_.b)()};return l;function c(e,t,n,a){const o=new Map([[0,{m_selected:!1,m_read_only:t}],[1,{m_selected:!1,m_read_only:!e&&t||a}],[2,{m_selected:!1,m_read_only:!e&&t||a}]]);return e?n?Object(f.q)(o.get(1)).m_selected=!0:Object(f.q)(o.get(2)).m_selected=!0:Object(f.q)(o.get(0)).m_selected=!0,o}function r(i){let r=!1;for(const e in i)switch(e){case"ShowInplaceAutoFillUI":t=void 0===i[e].newValue||i[e].newValue,r=!0;break;case"ConfirmAutoFillEnable":n=void 0===i[e].newValue||i[e].newValue,r=!0}if(r){const i=e;e=c(t,a,n,o),l.onChange.CallAllSync(Object(f.q)(i),s,Object(f.q)(e),s)}}function u(i){let r=!1;for(const e in i)switch(e){case"ShowInplaceAutoFillUI":a=void 0!==i[e].newValue,r=!0;break;case"ConfirmAutoFillEnable":o=void 0!==i[e].newValue,r=!0}if(r){const i=e;e=c(t,a,n,o);const r=s;s=a&&o,l.onChange.CallAllSync(Object(f.q)(i),r,Object(f.q)(e),s)}}}()),Ce(44,await Y("Options_AutoFill_FromContacts_Text"),await Y("Options_AutoFill_FromContacts_Tip2"),Ne("AutoFillFromContacts",!1)),be(44,43,0),j&&"safari"!==O){const e="win"===n?await Y("Options_OfferAutoFill_WinDialogs_Text2"):await Y("Options_OfferAutoFill_BasicAuthDialogs_Text"),t="win"===n?await Y("Options_OfferAutoFill_WinDialogs_Tip2"):await Y("Options_OfferAutoFill_BasicAuthDialogs_Tip");Ce(49,e,t,Ne("AutoFillWinDialogsEnable",!0))}"win"===n&&(Ce(45,await Y("Options_AutoFill_OfferInOldBrowsers_Text"),await Y("Options_AutoFill_OfferInOldBrowsers_Tip2"),Ne("AutoFillEnable",!1)),r=[],xe(46,"","AutoFill from Identity or Passcard",new Map([[3,{m_text:await Y("Options_AutoFillBoth_Text2"),m_text_descr:null,m_hint:await Y("Options_AutoFillBoth_Tip2")}],[1,{m_text:await Y("Options_AutoFillLogins_Text"),m_text_descr:null,m_hint:await Y("Options_AutoFillLogins_Tip")}],[2,{m_text:await Y("Options_AutoFillIdentities_Text"),m_text_descr:null,m_hint:await Y("Options_AutoFillIdentities_Tip")}]]),null,function(e){const t={Load:async t=>n(await e.Load(t)),Unload:e.Unload,Store:async(t,n)=>{for(const[a,o]of t)if(o.m_selected)return e.Store(a,n)},IsReadOnly:e.IsReadOnly,onChange:Object(_.b)()};return e.onChange.Add((e,a,o,i)=>{t.onChange.CallAllSync(n(e),a,n(o),i)}),t;function n(e){const t=new Map;return t.set(e,{m_selected:!0,m_read_only:!1}),t}}(Ne("AutoFillFromIdentityOrPasscard",3))),_e(46,!1),pe(46,45,!1),Ce(47,await Y("Options_AutoFillIfPass_Text2"),await Y("Options_AutoFillIfPass_Tip2"),Ne("AutoFillOnlyIfPasswords",!0)),_e(47,!1),he(47,new Map([[45,ve(!1)],[46,ye(2)]])),Se(48,await Y("Options_AutoFillThreshold_Text2"),await Y("Options_AutoFillThreshold_Tip"),0,100,1,Ne("AutoFillThreshold",4)),_e(48,!1),he(48,new Map([[45,ve(!1)],[46,ye(1)]])),Oe(46,e=>le(e)),Oe(47,e=>le(e)),Oe(48,e=>le(e)),function(){if(!H||null===U)throw Object(m.e)(m.r,"cannot add group before adding sheet");const t=Object(f.q)(r),n={m_element:null,m_view:{Create:async()=>{const a=[];for(const e of t){const t=await e.m_view.Create();a.push(t)}const o=e("div",{className:"settings-group"},a);return n.m_visible||Te(o),n.m_element=o,n.m_loaded=!0,o},OnAfterShow:()=>{t.forEach(e=>e.m_view.OnAfterShow())},OnBeforeHide:()=>{t.forEach(e=>e.m_view.OnBeforeHide())},Focus:()=>{},Dispose:()=>{t.forEach(e=>e.m_view.Dispose())},SetEnabled:async e=>{await Promise.all(t.map(t=>t.m_view.SetEnabled(e)))}},m_sheet_id:U,m_store_confirmation_handler:null,m_after_store_action:null,m_visible:!0,m_hidden_by_login_state:!1,m_loaded:!1};v.push(n),H.m_visible||(qe(H.m_selector_button),H.m_visible=!0);r=null}()),j&&F.Login?Ae(76,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(76,await Y("Options_LoginToViewMoreOptions_Text")),ze([43,44,45,46,47,48,49]),we(76,72,!0)}if(y){if(await ie(5,await Y("Options_AutoSave_Title")),xe(50,await Y("Options_AutoSave_Text"),"AutoSave mode",new Map([[0,{m_text:await Y("Options_AutoSave_WebForms_No_Text"),m_text_descr:null,m_hint:await Y("Options_AutoSave_WebForms_No_Tip")}],[1,{m_text:await Y("Options_AutoSave_WebForms_WithConfirmation_Text1"),m_text_descr:await Y("Options_AutoSave_WebForms_WithConfirmation_Text2"),m_hint:await Y("Options_AutoSave_WebForms_WithConfirmation_Tip")}],[2,{m_text:await Y("Options_AutoSave_WebForms_WitoutAsking_Text"),m_text_descr:null,m_hint:await Y("Options_AutoSave_WebForms_WitoutAsking_Tip")}]]),await Y("Options_AutoSave_Tip"),function(){let e=null,t=!0,n=!1,a=!1,o=!1,i=!1,s=!1;const l={Load:async l=>{if(i)return Object(f.q)(e);const d=await A.Get({AutoSaveEnable:!0,EnableAutomaticAutoSave:!1}),m=await L.Get("AutoSaveEnable"),_=await L.Get("EnableAutomaticAutoSave");return t=d.AutoSaveEnable,n=d.EnableAutomaticAutoSave,a=void 0!==m.AutoSaveEnable,o=void 0!==_.EnableAutomaticAutoSave,e=c(t,a,n,o),s=a&&(o||!t),A.AddOnChangeListener(r),L.AddOnChangeListener(u),i=!0,e},Unload:()=>{i&&(A.RemoveOnChangeListener(r),L.RemoveOnChangeListener(u),i=!1)},Store:async(s,l)=>{var r,u;if(!i)throw Object(m.e)(m.r,"Cannot store storage before loading");let d=!0,_=!1;(null===(r=s.get(0))||void 0===r?void 0:r.m_selected)?(d=!1,_=!1):(null===(u=s.get(1))||void 0===u?void 0:u.m_selected)?(d=!0,_=!1):(d=!0,_=!0),await N.Set({AutoSaveEnable:d,EnableAutomaticAutoSave:_}),t=d,n=_,e=c(t,a,n,o)},IsReadOnly:()=>s,onChange:Object(_.b)()};return l;function c(e,t,n,a){const o=new Map([[0,{m_selected:!1,m_read_only:t}],[1,{m_selected:!1,m_read_only:!e&&t||a}],[2,{m_selected:!1,m_read_only:!e&&t||a}]]);return e?n?Object(f.q)(o.get(2)).m_selected=!0:Object(f.q)(o.get(1)).m_selected=!0:Object(f.q)(o.get(0)).m_selected=!0,o}function r(i){let r=!1;for(const e in i)switch(e){case"AutoSaveEnable":t=void 0===i[e].newValue||i[e].newValue,r=!0;break;case"EnableAutomaticAutoSave":n=void 0!==i[e].newValue&&i[e].newValue,r=!0}if(r){const i=e;e=c(t,a,n,o),l.onChange.CallAllSync(Object(f.q)(i),s,Object(f.q)(e),s)}}function u(i){let r=!1;for(const e in i)switch(e){case"AutoSaveEnable":a=void 0!==i[e].newValue,r=!0;break;case"EnableAutomaticAutoSave":o=void 0!==i[e].newValue,r=!0}if(r){const i=s;s=a&&(o||!t);const r=e;e=c(t,a,n,o),l.onChange.CallAllSync(Object(f.q)(r),i,Object(f.q)(e),s)}}}()),j&&"safari"!==O){const e="win"===n?await Y("Options_OfferAutoSave_WinDialogs_Text"):await Y("Options_OfferAutoSave_BasicAuthDialogs_Text"),t="win"===n?await Y("Options_OfferAutoSave_WinDialogs_Tip2"):await Y("Options_OfferAutoSave_BasicAuthDialogs_Tip");Ce(51,e,t,Ne("AutoSaveWinDialogsEnable",!0))}Ce(52,await Y("Options_AutoSave_AltClickEnable_Text2"),null,Ne("AutoSaveAltClickEnable","mac"!==n)),Ce(53,await Y("Options_AutoSave_ShiftEnterEnable_Text2"),null,Ne("AutoSaveShiftEnterEnable","mac"!==n)),j&&F.Login?Ae(77,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(77,await Y("Options_LoginToViewMoreOptions_Text")),ze([50,51,52,53]),we(77,72,!0)}0;y&&"win"===n&&(await ie(7,await Y("Options_Keyboard_Title")),Ce(62,await Y("Options_DisableShortcuts_Text"),await Y("Options_DisableShortcuts_Tip"),se(Ne("DisableShortcuts",!1))),function(t,n,a,i){let s=null,l=null,c=null;const r=Object(_.b)();let d=!1,w=!0,p=!1,b=null,h=null;const O=[];return void Ge(t,n,{CreateSettingElem:async()=>{s=e("div",{className:"settings-row shortcuts-list-type",title:p?await Y("Options_ManagedByPolicy_Text"):""},l=e("div",{className:"setting-content"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},n),e("div",{className:"managed-by-policy-icon"})),a?e("div",{className:"setting-hint"},a):null,c=e("div",{className:"setting"})));De(Object(f["q"])(s),w);Ve(Object(f["q"])(s),p);return Object(f["q"])(s)},CreateValueElem:async e=>{b=Object(f["h"])(e);h=await g();d=true;return Object(f["q"])(h)},ReplaceValueElem:e=>{if(l&&c){l.replaceChild(e,c);c=e}},SetValue:async e=>{if(!d){throw Object(m["e"])(m["r"],`Cannot change settings view element value before it's creation ${t}`)}b=Object(f["h"])(e);const n=await g();Object(f["q"])(c).replaceChild(n,Object(f["q"])(h));h=n},SetEnabled:async(e,t)=>{w=e;p=t;if(d){for(const t of O){t.Enable(e)}}if(s){De(s,e);Ve(s,t);await Be(s,t)}},onValueChange:r},i);async function g(){const t=new Map;Object(f.q)(b).m_state.forEach(e=>{t.set(e.m_id,e)});const n=[];for(const e of o.X)t.has(e.m_id)&&n.push(await v(e,Object(f.q)(t.get(e.m_id)).m_enabled,!w));const a=Object(f.q)(b).m_aux_keys.toString(2).replace(/0/g,"").length;return e("div",{className:"shortcuts-list auxkey-count-"+a.toString()},n)}async function v(t,n,a){let o;const i=e("div",{className:"shortcut-item",onclick:e=>{const t=e.target;t!==o&&t.parentElement!==o&&o.click()}},e("div",{className:"shortcut-keycode"},await async function(e){let t="";1&Object(f.q)(b).m_aux_keys&&(t+=await C.LocalizeString("Options_Shortcut_Ctrl_Text"));2&Object(f.q)(b).m_aux_keys&&(t+=(""!==t?" + ":"")+await C.LocalizeString("Options_Shortcut_Shift_Text"));4&Object(f.q)(b).m_aux_keys&&(t+=(""!==t?" + ":"")+await C.LocalizeString("Options_Shortcut_Alt_Text"));let n=await C.LocalizeString(e.m_key_code_display_string_id);e.m_additional_digits_parameter&&(n=n.split("").join("-"));return t+=(""!==t?" + ":"")+n,t}(t)),e("div",{className:"shortcut-hint"},await Y(t.m_shortcut_display_hint_string_id)),e("div",{className:"shortcut-toggle"},o=e(u.b,{checked:n,disabled:a,textYes:Y("Options_Yes"),textNo:Y("Options_No"),onchange:()=>{!function(e,t){if(null!==b&&w)for(const n of b.m_state)if(n.m_id===e&&n.m_enabled!==t){n.m_enabled=t,r.CallAllSync(b);break}}(t.m_id,o.GetChecked())}})));return O.push(o),i}}(63,await Y("Options_ShortcutsList_Text"),await Y("Options_ShortcutsList_Tip"),function(){let e=null,t=[],n=4,a=!1,o=!1;const i={Load:async i=>{if(a)return Object(f.q)(e);const c=await A.Get({KeyboardShortcutsState:[],ShortcutAuxKey:4});return o=null!==await L.GetValue("KeyboardShortcutsState",null),t=c.KeyboardShortcutsState,n=c.ShortcutAuxKey,e={m_state:t,m_aux_keys:n},A.AddOnChangeListener(s),L.AddOnChangeListener(l),a=!0,e},Unload:()=>{a&&(A.RemoveOnChangeListener(s),L.RemoveOnChangeListener(l),a=!1)},Store:async(o,i)=>{if(!a)throw Object(m.e)(m.r,"Cannot store storage before loading");await N.Set({KeyboardShortcutsState:o.m_state,ShortcutAuxKey:o.m_aux_keys}),t=o.m_state,n=o.m_aux_keys,e={m_state:t,m_aux_keys:n}},IsReadOnly:()=>o,onChange:Object(_.b)()};return i;function s(a){let o=!1;for(const e in a)switch(e){case"KeyboardShortcutsState":t=void 0===a[e].newValue?[]:a[e].newValue,o=!0;break;case"ShortcutAuxKey":n=void 0===a[e].newValue?4:a[e].newValue,o=!0}if(o){const a=e;e={m_state:t,m_aux_keys:n},i.onChange.CallAllSync(Object(f.q)(a),!1,Object(f.q)(e),!1)}}function l(t){let n=!1,a=!1;for(const e in t)switch(e){case"KeyboardShortcutsState":a=void 0!==t[e].newValue,n=!0}if(n){const t=o;o=a;const n=e;i.onChange.CallAllSync(Object(f.q)(n),t,Object(f.q)(e),o)}}}()),pe(63,62,!1),function(t,n){let a=null,o=null,i=null;const s=Object(_.b)();let l=!1,c=!0,r=!1,w=null,p=null,b=null,h=null,O=null;const g=new Map;return void Ge(t,"",{CreateSettingElem:async()=>{a=e("div",{className:"settings-row shortcut-auxkey-type",title:r?await Y("Options_ManagedByPolicy_Text"):""},o=e("div",{className:"setting-content"},i=e("div",{className:"setting"})));De(Object(f["q"])(a),c);Ve(Object(f["q"])(a),r);return Object(f["q"])(a)},CreateValueElem:async t=>{w=t;p=e("div",{className:"shortcut-auxkey-content"},b=await v(),h=e("div",{className:"error hidden"},O=e("div",{className:"text"})));l=true;return Object(f["q"])(p)},ReplaceValueElem:e=>{if(o&&i){o.replaceChild(e,i);i=e}},SetValue:async e=>{if(!l){throw Object(m["e"])(m["r"],`Cannot change settings view element value before it's creation ${t}`)}w=e;const n=await v();Object(f["q"])(p).replaceChild(n,Object(f["q"])(b));b=n;j()},SetEnabled:async(e,t)=>{c=e;r=t;if(l){g.forEach(t=>{t.Enable(e)});if(e){j()}}if(a){De(a,e);Ve(a,t);await Be(a,t)}},onValueChange:s},n);async function v(){return e("div",{className:"shortcut-auxkey-list"},y(1,await Y("Options_Shortcut_Ctrl_Text"),0!=(1&Object(f.q)(w)),!c),y(2,await Y("Options_Shortcut_Shift_Text"),0!=(2&Object(f.q)(w)),!c),y(4,await Y("Options_Shortcut_Alt_Text"),0!=(4&Object(f.q)(w)),!c))}function y(t,n,a,o){let i;const l=e("div",{className:"shortcut-auxkey-item"+(a?" checked":"")},e("div",{className:"shortcut-auxkey-title"},n),i=e(u.b,{checked:a,disabled:o,textYes:Y("Options_Yes"),textNo:Y("Options_No"),onchange:()=>{i.GetChecked()?l.classList.add("checked"):l.classList.remove("checked"),function(){if(null!==w&&c){let t=0;for(const[e,n]of g.entries())n.GetChecked()&&(t+=e);if(j(),w!==t){if(0==(1&t)&&0==(4&t))return e=C.LocalizeString("Options_IncorrectValue_AuxKey"),void Object(d.l)((async()=>{Object(f.q)(O).textContent=await e,qe(Object(f.q)(h))})());w=t,s.CallAllSync(w)}}var e}()}}));return g.set(t,i),l}function j(){Te(Object(f.q)(h))}}(64,Ne("ShortcutAuxKey",4)),pe(64,62,!1),Ce(65,await Y("Options_RightAltForShortcuts_Text"),await Y("Options_RightAltForShortcuts_Tip"),Ne("RightAltForShortcuts",!1)),he(65,new Map([[62,ve(!1)],[64,(X=4,e=>0==(e&X))]])),j&&F.Login?Ae(79,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(79,await Y("Options_LoginToViewMoreOptions_Text")),ze([62,63,64,65]),we(79,72,!0));var X;y&&(await ie(8,await Y("Options_Domains_Title")),function(t,n,a,o){let i=null,s=null,l=null,c=null;const r=Object(_.b)();let u,w=!1,O=!0,g=!1,v=null,y=null,j=null,S=null,x=[],k=[],A=null;function N(){x=[],k=[];for(const e of v)e&&L(e,o.IsReadOnly()||!O);u=e("div",{className:"domains-line",onclick:T},e("div",{className:"new-line-icon"}));const t=e("div",{className:"domains-list"},x,u);return!o.IsReadOnly()&&O||Te(Object(f.q)(u)),t}function L(t,n){let a,o=t;const i=e("div",{className:"domains-line"},a=e("input",{type:"text",value:t,disabled:n,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,onkeydown:function(e){switch(e.key){case h.Key.Enter:l();break;case h.Key.Escape:a.value=o,a.blur(),Te(Object(f.q)(j))}},onblur:function(){l()},oninput:()=>{A&&(clearTimeout(A),A=null),A=setTimeout(()=>{A=null,s()},500)},onpaste:()=>{setTimeout(s,0)}}));return x.push(i),k.push(a),{m_element:i,m_input:a};function s(){const e=a.value;if(e===o)return;const t=c(e);t&&t.length>0?Object(d.l)(async function(e){const t=e.reduce((e,t)=>Object(b.B)(e,"; ",t),"");Object(f.q)(S).textContent=await C.LocalizeString("Options_Domains_Equivalences_BadDomains_Error",[t]),qe(Object(f.q)(j))}(t)):Te(Object(f.q)(j))}function l(){const e=a.value;if(e){if(o!==e){const t=c(e);t&&t.length>0?a.value=o:(q(),o=e),Te(Object(f.q)(j))}}else Object(f.q)(y).removeChild(i),x.splice(x.indexOf(i),1),k.splice(k.indexOf(a),1),o!==e&&(q(),o=e)}function c(e){const t=e.split("=").map(e=>e.trim());let n=null;for(const a of t)a&&(Object(p.y)(a)||(n?n.push(a):n=[a]));return n}}function T(){const e=L("",!1);Object(f.q)(y).insertBefore(e.m_element,u),e.m_input.focus()}function q(){const e=[];for(const t of k){const n=t.value;n&&e.push(n)}v=e,r.CallAllSync(Object(f.h)(v))}Ge(t,n,{CreateSettingElem:async()=>(i=e("div",{className:"settings-row domain-equivalences-type",title:g?await Y("Options_ManagedByPolicy_Text"):""},s=e("div",{className:"setting-content"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},n),e("div",{className:"managed-by-policy-icon"})),l=e("div",{className:"setting"})),a?e("div",{className:"setting-hint"},a):null),De(Object(f.q)(i),O),Ve(Object(f.q)(i),g),Object(f.q)(i)),CreateValueElem:async t=>(v=Object(f.h)(t),c=e("div",{className:"domains-equiv"},y=N(),j=e("div",{className:"error hidden"},S=e("div",{className:"text"}))),w=!0,Object(f.q)(c)),ReplaceValueElem:e=>{s&&l&&(s.replaceChild(e,l),l=e)},SetValue:async e=>{if(!w)throw Object(m.e)(m.r,"Cannot change settings view element value before it's creation "+t);v=Object(f.h)(e);const n=N();Object(f.q)(c).replaceChild(n,Object(f.q)(y)),y=n},SetEnabled:async(e,t)=>{if(O=e,g=t,w){e?qe(Object(f.q)(u)):Te(Object(f.q)(u));for(const t of k)t.disabled=!e}i&&(De(i,e),Ve(i,t),await Be(i,t))},onValueChange:r},o)}(66,await Y("Options_Domains_Equivalences_Frame"),await Y("Options_Domains_Equivalences_Custom_Tip"),Ne("DomainEquivalencesLines",[])),j&&F.Login?Ae(80,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(80,await Y("Options_LoginToViewMoreOptions_Text")),ze([66]),we(80,72,!0));y&&(j||T)&&(await ie(9,await Y("Options_Advanced_Title")),T&&("safari"!==O&&q&&(Ce(67,await Y("Options_EnableNativeIntegration_Text"),null,Le("EnableNativeIntegration",!0)),re(67,me),function(e,t){const n=R.get(e);if(!n)throw Object(m.e)(m.r,"Cannot set confirmation handler before setting view creation "+e);n.m_after_store_action=t}(67,ce)),je(69,"RoboForm server",null,new Map([[c.d,Object(p.r)(c.d)],[c.e,Object(p.r)(c.e)],[c.b,Object(p.r)(c.b)],[c.c,Object(p.r)(c.c)],[c.f,Object(p.r)(c.f)]]),Le("ServerUrl",c.d)),_e(69,!1),je(70,"Start Page server",null,new Map([[o.N,Object(p.r)(o.N)],[o.M,Object(p.r)(o.M)]]),Le("StartPageUrl",o.N)),_e(70,!1)),j&&(Ce(18,await Y("UseDesktopEditorForViewAndEdit_Text"),await Y("UseDesktopEditorForViewAndEdit_Tip"),Ne("UseDesktopEditor",!1)),"safari"!==O&&Ce(68,await Y("Options_UseNativeMenus_Text"),await Y("Options_UseNativeMenus_Tip"),function(){let e=!1,t=null,n=null,a=null,o=!1;const i={Load:async i=>e?Object(f.q)(a):(t=await A.GetValue("UseNativeMenus",null),null!==t?a=t:(n=await A.GetValue("AccountCreatedTime",null),a=Object(l.g)(n)),o=null!==await L.GetValue("UseNativeMenus",null),A.AddOnChangeListener(s),L.AddOnChangeListener(c),e=!0,a),Unload:()=>{e&&(A.RemoveOnChangeListener(s),L.RemoveOnChangeListener(c),e=!1)},Store:async t=>{if(!e)throw Object(m.e)(m.r,"Cannot store storage before loading");if(o)throw Object(m.e)(m.r,"Cannot change read-only setting");await N.SetValue("UseNativeMenus",t),a=t},IsReadOnly:()=>o,onChange:Object(_.b)()};return i;function s(e){var s,c;let r=!1;for(const a in e)switch(a){case"UseNativeMenus":t=null!==(s=e[a].newValue)&&void 0!==s?s:null,r=!0;break;case"AccountCreatedTime":n=null!==(c=e[a].newValue)&&void 0!==c?c:null,r=!0}if(r){const e=a;a=null!==t?t:Object(l.g)(n),e!==a&&i.onChange.CallAllSync(Object(f.q)(e),o,Object(f.q)(a),o)}}function c(e){if("UseNativeMenus"in e){const t=o;o=null!==e.UseNativeMenus.newValue,t!==o&&i.onChange.CallAllSync(Object(f.q)(a),t,Object(f.q)(a),o)}}}())),y&&T&&"safari"!==O&&Ce(7,await Y("Options_Security_TurnOffBuiltInPwdMgr_Text"),await Y("Options_Security_TurnOffBuiltInPwdMgr_Desciption_Text"),Le("TurnOffBrowserPasswordManager",!0)),j&&Ae(71,await Y("Options_OpenOptionsInInstalledRoboForm"),null,"Open",()=>Object(d.l)(F.OpenNativeOptionsWindow(0))),j&&F.Login?Ae(81,await Y("Options_LoginToViewMoreOptions_Text"),null,await Y("Cmd_Login_Flat"),F.Login):Ee(81,await Y("Options_LoginToViewMoreOptions_Text")),ze([18,68]),we(81,72,!0));for(const e of s){const t=await e.Create();a.appendChild(t)}return;async function ie(n,a){let o="";switch(n){case 0:o="sheet-selector-general";break;case 1:o="sheet-selector-browsers";break;case 2:o="sheet-selector-account";break;case 3:o="sheet-selector-security";break;case 4:o="sheet-selector-autofill";break;case 5:o="sheet-selector-autosave";break;case 6:o="sheet-selector-billing";break;case 7:o="sheet-selector-keyboard";break;case 8:o="sheet-selector-domains";break;case 9:o="sheet-selector-advanced"}const i=e("div",{className:"sheet-selector-button unselectable "+o,onclick:()=>function(e){$(e)}(n)},e("div",{className:"sheet-selector-button-icon"}),e("div",{className:"sheet-selector-button-text",title:a},a));t.appendChild(i),v=[],I=[];const l=v,c=I;U=n;let r=null;const u={Create:async()=>{const t=e("div",{className:"sheet"});for(const e of l){const n=await e.m_view.Create();t.appendChild(n)}return m.m_view_element=t,t},OnAfterShow:()=>{if(l.forEach(e=>{e.m_visible&&e.m_view.OnAfterShow()}),c.length>0){const e=[];for(const t of c)e.push(e=>t.m_setting.Load(e));r=Object(d.d)({action:t=>Object(d.s)({actions:e,progress:t})}),Object(d.l)(r.Execute(null))}},OnBeforeHide:()=>{l.forEach(e=>{e.m_loaded&&e.m_visible&&e.m_view.OnBeforeHide()})},Focus:()=>{},Dispose:()=>{null==r||r.Cancel(),l.forEach(e=>e.m_view.Dispose())}},m={m_selector_button:i,m_view_element:null,m_data_view:u,m_settings_views_info:l,m_visible:!0};s.push(u),H=m,B.set(n,H)}function je(t,n,a,o,i){let s=null,l=null,c=null,r=null;const u=Object(_.b)();let d=!1,w=!0,p=!1;Ge(t,n,{CreateSettingElem:async()=>(s=e("div",{className:"settings-row select-type",title:p?await Y("Options_ManagedByPolicy_Text"):""},l=e("div",{className:"setting-content"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},function(){if(!n)return"";return n+":"}()),e("div",{className:"managed-by-policy-icon"})),a?e("div",{className:"setting-hint"},a):null,c=e("div",{className:"setting"}))),De(Object(f.q)(s),w),Ve(Object(f.q)(s),p),Object(f.q)(s)),CreateValueElem:async t=>{const n=[],a=new Map;for(const[i,s]of o){const o=e("option",{value:s,selected:i===t},s);n.push(o),a.set(s,i)}return r=e("select",{disabled:!w,onchange:()=>{const e=Object(f.q)(r).selectedOptions[0].value,t=Object(f.q)(a.get(e));u.CallAllSync(t)}},[...n]),d=!0,Object(f.q)(r)},ReplaceValueElem:e=>{l&&c&&(l.replaceChild(e,c),c=e)},SetValue:async e=>{if(!d)throw Object(m.e)(m.r,"Cannot change settings view element value before it's creation "+t);const n=[...o.keys()].indexOf(e);Object(f.q)(r).selectedIndex=n},SetEnabled:async(e,t)=>{w=e,p=t,d&&(Object(f.q)(r).disabled=!e),s&&(De(s,e),Ve(s,t),await Be(s,t))},onValueChange:u},i)}function Se(t,n,a,o,i,s,l){let c=null,r=null,d=null,w=null;const p=Object(_.b)();let b=!1,h=!0,O=!1,g=null;Ge(t,n,{CreateSettingElem:async()=>(c=e("div",{className:"settings-row edit-with-spin-type",title:O?await Y("Options_ManagedByPolicy_Text"):""},r=e("div",{className:"setting-content"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},n),e("div",{className:"managed-by-policy-icon"})),a?e("div",{className:"setting-hint"},a):null,d=e("div",{className:"setting"}))),De(Object(f.q)(c),h),Ve(Object(f.q)(c),O),Object(f.q)(c)),CreateValueElem:async t=>(w=e(u.c,{min:o,max:i,step:s,value:t,disabled:!h,title:O?await Y("Options_ManagedByPolicy_Text"):"",onchange:e=>{g&&(clearTimeout(g),g=null),null!==e&&(g=setTimeout(()=>{g=null,p.CallAllSync(e)},1e3))}}),b=!0,Object(f.q)(w)),ReplaceValueElem:e=>{r&&d&&(r.replaceChild(e,d),d=e)},SetValue:async e=>{if(!b)throw Object(m.e)(m.r,"Cannot change settings view element value before it's creation "+t);Object(f.q)(w).SetValue(e)},SetEnabled:async(e,t)=>{h=e,O=t,b&&Object(f.q)(w).Enable(e),c&&(De(c,e),Ve(c,t),await Be(c,t),null==w||w.SetTooltip(t?await Y("Options_ManagedByPolicy_Text"):""))},onValueChange:p},l)}function Ce(t,n,a,o){let i=null,s=null,l=null,c=null;const r=Object(_.b)();let d=!1,w=!0,p=!1;Ge(t,n,{CreateSettingElem:async()=>(i=e("div",{className:"settings-row checkbox-type",title:p?await Y("Options_ManagedByPolicy_Text"):""},s=e("div",{className:"setting-content"},e("div",{className:"setting-title-block"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},n),e("div",{className:"managed-by-policy-icon"})),a?e("div",{className:"setting-hint"},a):null),l=e("div",{className:"setting"}))),De(Object(f.q)(i),w),Ve(Object(f.q)(i),p),Object(f.q)(i)),CreateValueElem:async t=>(c=e(u.b,{checked:t,disabled:!w,textYes:Y("Options_Yes"),textNo:Y("Options_No"),onchange:()=>{const e=Object(f.q)(c).GetChecked();e?null==i||i.classList.add("checkbox-checked"):null==i||i.classList.remove("checkbox-checked"),r.CallAllSync(e)}}),d=!0,t?null==i||i.classList.add("checkbox-checked"):null==i||i.classList.remove("checkbox-checked"),Object(f.q)(c)),ReplaceValueElem:e=>{s&&l&&(s.replaceChild(e,l),l=e)},SetValue:async e=>{if(!d)throw Object(m.e)(m.r,"Cannot change settings view element value before it's creation "+t);Object(f.q)(c).SetChecked(e),e?null==i||i.classList.add("checkbox-checked"):null==i||i.classList.remove("checkbox-checked")},SetEnabled:async(e,t)=>{w=e,p=t,d&&Object(f.q)(c).Enable(e),i&&(De(i,e),Ve(i,t),await Be(i,t))},onValueChange:r},o)}function xe(t,n,a,o,i,s){let l=null,c=null,r=null,u=null;const d=Object(_.b)();let w=!1,p=!0,b=!1,h=null;const O=new Map,g=new Map;Ge(t,n,{CreateSettingElem:async()=>(l=e("div",{className:"settings-row radio-group-type",title:b?await Y("Options_ManagedByPolicy_Text"):""},c=e("div",{className:"setting-content"},e("div",{className:"setting-title"},e("div",{className:"setting-title-text"},function(){if(!n)return"";return n+":"}()),e("div",{className:"managed-by-policy-icon"})),i?e("div",{className:"setting-hint"},i):null,r=e("div",{className:"setting"}))),De(Object(f.q)(l),p),Ve(Object(f.q)(l),b),Object(f.q)(l)),CreateValueElem:async t=>{h=new Map;for(const e of o.keys())h.set(e,{m_read_only:!1,m_selected:!1});for(const[e,a]of t)h.set(e,Object(f.h)(a));const n=[];for(const[i,s]of o){const o=t.get(i),l=(null==o?void 0:o.m_selected)||!1,c=(null==o?void 0:o.m_read_only)||!1;let r;const u=s.m_text,m=s.m_text_descr,_=s.m_hint,w=e("label",{className:l?"option-checked":"",title:b?await Y("Options_ManagedByPolicy_Text"):null!=_?_:""},r=e("input",{type:"radio",name:a,checked:l,disabled:c||!p,onchange:()=>{Object(f.q)(h).forEach((e,t)=>{e.m_selected=t===i}),d.CallAllSync(Object(f.q)(h)),n.forEach(e=>e.classList.remove("option-checked")),w.classList.add("option-checked")}}),e("span",{className:"radio-button"}),e("span",{className:"radio-text"},u,m?e("span",null,m):null));n.push(w),O.set(i,r),g.set(i,w)}return u=e("div",{className:"radio-group"},[...n]),w=!0,Object(f.q)(u)},ReplaceValueElem:e=>{c&&r&&(c.replaceChild(e,r),r=e)},SetValue:async e=>{if(!w)throw Object(m.e)(m.r,"Cannot change settings view element value before it's creation "+t);h=new Map;for(const t of o.keys())h.set(t,{m_read_only:!1,m_selected:!1});for(const[t,n]of e){h.set(t,Object(f.h)(n));const e=Object(f.q)(O.get(t));e.checked=n.m_selected;const a=Object(f.q)(g.get(t));n.m_selected?a.classList.add("option-checked"):a.classList.remove("option-checked"),e.disabled=n.m_read_only}},SetEnabled:async(e,t)=>{var n;if(p=e,b=t,w){for(const[t,n]of O){const a=Object(f.q)(h).get(t);n.disabled=!e||!0===(null==a?void 0:a.m_read_only)}for(const[e,a]of g)if(t)a.title=await Y("Options_ManagedByPolicy_Text");else{const t=o.get(e);a.title=null!==(n=null==t?void 0:t.m_hint)&&void 0!==n?n:""}}l&&(De(l,e),Ve(l,t),await Be(l,t))},onValueChange:d},s)}function Ae(t,n,a,o,i){let s,l=!1,c=!0;Re(t,n,a,{Create:()=>(s=e("div",{className:"action-button",onclick:i,disabled:!c},o),l=!0,s),SetEnabled:e=>{c=e,l&&(Object(f.q)(s).disabled=!e)}})}function Ee(t,n){let a;Re(t,n,null,{Create:()=>(a=e("div",null),a),SetEnabled:e=>{}})}function Fe(t,n){let a;Re(t,n,null,{Create:()=>(a=e("div",{className:"setting"},"Placeholder"),a),SetEnabled:e=>{}})}function Pe(e,t){let n=!1,a=null;const o={Load:async o=>{try{a=await t.Load(o)}catch(i){return}await We(e,a,o),z.add(t),n=!0}};t.onChange.Add((t,o,i,s)=>{if(!n)return;a=i;const l=Object(d.e)(null,null,null);Object(d.l)(We(e,a,l))});const i={m_setting:o,m_loaded:!1};W.add(i)}function Me(e,t){if(!H||null===U)throw Object(m.e)(m.r,"cannot add hidden element before adding sheet");let n=!1,a=null;const o={Load:async o=>{try{a=await t.Load(o)}catch(i){return}await We(e,a,o),z.add(t),n=!0}};t.onChange.Add((t,o,i,s)=>{if(!n)return;a=i;const l=Object(d.e)(null,null,null);Object(d.l)(We(e,a,l))});const i={m_setting:o,m_loaded:!1};I.push(i)}function De(e,t){t?e.classList.remove("setting-disabled"):e.classList.add("setting-disabled")}function Ve(e,t){t?e.classList.add("managed-by-policy"):e.classList.remove("managed-by-policy")}async function Be(e,t){e.title=t?await Y("Options_ManagedByPolicy_Text"):""}function Re(t,n,a,o){if(!H||null===U)throw Object(m.e)(m.r,`cannot add element ${n} before adding sheet`);const i={m_element:null,m_view:{Create:async()=>{const t=e("div",{className:"settings-row"},e("div",{className:"setting-content"},""!==n&&e("div",{className:"setting-title"},n),o.Create()),a?e("div",{className:"setting-hint"},a):null);return i.m_visible||Te(t),i.m_element=t,i.m_loaded=!0,t},OnAfterShow:()=>{},OnBeforeHide:()=>{},Focus:()=>{},Dispose:()=>{},SetEnabled:async e=>{o.SetEnabled(e)}},m_sheet_id:U,m_store_confirmation_handler:null,m_after_store_action:null,m_visible:!0,m_hidden_by_login_state:!1,m_loaded:!1};R.set(t,i),r?r.push(i):v.push(i),H.m_visible||(qe(H.m_selector_button),H.m_visible=!0)}function Ge(t,n,a,i){if(!H||null===U)throw Object(m.e)(m.r,`cannot add element ${n} before adding sheet`);let s=null,l=null,c=!1,u=!0;const _={Create:async()=>{const e=await a.CreateSettingElem();return w.m_visible||Te(e),w.m_element=e,w.m_loaded=!0,e},OnAfterShow:()=>{c||function r(){!function(t,n){const a=e("div",{className:"setting"});t.ReplaceValueElem(a);const o=setTimeout(()=>{const t=e("div",{className:"setting-loading-progress"});a.appendChild(t)},500);Object(d.k)(async function(){const e=Object(d.e)(null,null,null);try{await n(e)}finally{clearTimeout(o)}}(),"SettingsView: _ShowProgressAndStartInitialSettingViewLoading")}(a,async m=>{let _;try{_=await i.Load(m)}catch(p){return void function(t,n,a){const i=e("div",{className:"setting"},e("div",{className:"error-text"},Object(o.r)(n)),e("input",{type:"button",value:K,onclick:a}));t.ReplaceValueElem(i)}(a,p,()=>{r()})}s=_,a.onValueChange.Add(e=>{null!==e&&e!==s&&Object(d.k)(async function(){l=e;const o=Object(f.q)(R.get(t)),c=await async function(e,t,n,a,o,i){if(e.m_store_confirmation_handler)try{await e.m_store_confirmation_handler(n,a,i)}catch(p){return!1}try{return await oe(async()=>t.Store(a,i)),F.onNewSettingValueStored&&await F.onNewSettingValueStored(o,await J()),!0}catch(p){return!1}}(o,i,Object(f.q)(s),e,n,m);l=null,c?(s=e,await We(t,s,m),o.m_after_store_action&&await o.m_after_store_action()):await a.SetValue(Object(f.q)(s))}(),"SettingsView: update on settings view value change "+t)});const w=e("div",{className:"setting"},await a.CreateValueElem(_));a.ReplaceValueElem(w),await a.SetEnabled(u&&!i.IsReadOnly(),i.IsReadOnly()),await We(t,s,m),c=!0})}()},OnBeforeHide:()=>{},Focus:()=>{},Dispose:()=>{},SetEnabled:async e=>{u=e,await a.SetEnabled(e&&!i.IsReadOnly(),i.IsReadOnly())}};i.onChange.Add((e,n,o,i)=>{s!==o&&l!==o&&(s=o,Object(d.l)(async function(){await a.SetEnabled(u&&!i,i);const e=Object(d.e)(null,null,null);await a.SetValue(s),await We(t,s,e)}()))});const w={m_element:null,m_view:_,m_sheet_id:U,m_store_confirmation_handler:null,m_after_store_action:null,m_visible:!0,m_hidden_by_login_state:!1,m_loaded:!1};R.set(t,w),r?r.push(w):v.push(w),H.m_visible||(qe(H.m_selector_button),H.m_visible=!0)}function ze(e){for(const a of e)ge(72,ve(!1),t(a),n(a));function t(e){return async t=>{const n=R.get(e);if(!n)return;const a=n.m_visible&&!n.m_hidden_by_login_state;n.m_hidden_by_login_state=!0,a&&(n.m_element&&Te(n.m_element),D&&V===n.m_sheet_id&&n.m_view.OnBeforeHide())}}function n(e){return async t=>{const n=R.get(e);if(!n)return;const a=n.m_visible&&!n.m_hidden_by_login_state;n.m_hidden_by_login_state=!1,a||n.m_visible&&(n.m_element&&qe(n.m_element),D&&V===n.m_sheet_id&&n.m_view.OnAfterShow())}}}async function We(e,t,n){const a=G.get(e);if(a)for(const o of a){o.m_condition(t)&&await o.m_action(n)}}}();const a=null!==t?t:B.size>0?B.keys().next().value:null;null!==a&&$(a);const s=Object(d.e)(null,null,null);for(const e of W)e.m_loaded||await e.m_setting.Load(s);return Object(f.q)(P)},OnAfterShow:function(){D=!0,"msie"!==O&&document.addEventListener("keydown",X);if(null!==V){Object(f.q)(B.get(V)).m_data_view.OnAfterShow()}},OnBeforeHide:async function(){D=!1,"msie"!==O&&document.removeEventListener("keydown",X);if(null!==V){Object(f.q)(B.get(V)).m_data_view.OnBeforeHide()}},Focus:function(){if(null!==V){Object(f.q)(B.get(V)).m_data_view.Focus()}},Dispose:function(){z.forEach(e=>e.Unload()),B.forEach(e=>e.m_data_view.Dispose()),V=null,H=null,K&&(clearTimeout(K),K=null)},SelectSheet:$,GetSelectedSheetName:J,GetSelectedSheetId:function(){return V}};function $(e){var t,n;if(V===e)return;const a=B.get(e);if(!a)throw Object(m.e)(m.r,"No sheet with id "+e);if(null!==V){const e=Object(f.q)(B.get(V));e.m_selector_button.classList.remove("selected"),null===(t=e.m_view_element)||void 0===t||t.classList.remove("selected"),D&&e.m_data_view.OnBeforeHide()}a.m_selector_button.classList.add("selected"),null===(n=a.m_view_element)||void 0===n||n.classList.add("selected"),D&&a.m_data_view.OnAfterShow(),V=e,null!==M&&Object(d.l)((async()=>{Object(f.q)(M).textContent=await J()})())}function J(){switch(V){case 0:return C.LocalizeString("Options_General_Title");case 1:return C.LocalizeString("Options_Browsers_Title");case 2:return C.LocalizeString("Options_Account_Title");case 3:return C.LocalizeString("Options_Security_Title");case 4:return C.LocalizeString("Options_AutoFill_Title");case 5:return C.LocalizeString("Options_AutoSave_Title");case 7:return C.LocalizeString("Options_Keyboard_Title");case 8:return C.LocalizeString("Options_Domains_Title");case 9:return C.LocalizeString("Options_Advanced_Title");default:return Promise.resolve("")}}function X(e){e.altKey&&"="===e.key&&(_e(69,!0),_e(70,!0),$(9))}function Z(){}function Q(){}function ee(){}function te(){}function ne(){}function ae(){}async function oe(t){K&&clearTimeout(K),K=setTimeout(()=>{K=null,function(){if(H)return;const t=e("div",{className:"overlay"},e("div",{className:"progress-indicator"}));Object(f.q)(P).appendChild(t),H=t}()},500);try{const e=Object(d.e)(null,null,null);await t(e),ie(),K&&(clearTimeout(K),K=null)}catch(n){throw K&&(clearTimeout(K),K=null),ie(),Object(m.d)(n,m.y)||await async function(t){const n=Object(s.c)(Object(f.q)(P),Object(s.b)((e,t)=>Object(s.a)("modal-dialog","",{onCancel:()=>t(m.j),onEscape:()=>t(m.j),onClickOutside:null}),n=>Object(a.b)(async()=>e("div",{className:"modal-dialog-content"},e("div",{className:"text"},t),e("div",{className:"footer"},e("input",{type:"button",value:await Y("Cmd_Ok_Flat"),onclick:n}))))));await n.Execute(null)}(Object(o.r)(n)),n}}function ie(){H&&(Object(f.q)(P).removeChild(H),H=null)}function se(e){const t={Load:async t=>!await e.Load(t),Unload:e.Unload,Store:(t,n)=>e.Store(!t,n),IsReadOnly:e.IsReadOnly,onChange:Object(_.b)()};return e.onChange.Add((e,n,a,o)=>{t.onChange.CallAllSync(!e,n,!a,o)}),t}async function le(e){if(!0===U)return;const t=await A.Get({AutoFillFromIdentityOrPasscard:3,AutoFillOnlyIfPasswords:!0,AutoFillThreshold:4}),n=t.AutoFillFromIdentityOrPasscard,a=t.AutoFillOnlyIfPasswords,o=t.AutoFillThreshold;U=3!==n||!0!==a||4!==o,_e(46,U),_e(47,U),_e(48,U)}async function ce(){await Object(f.q)(T).Remove("persistent-popup-page"),Object(f.q)(q).ReloadExtension()}function re(e,t){const n=R.get(e);if(!n)throw Object(m.e)(m.r,"Cannot set confirmation handler before setting view creation "+e);n.m_store_confirmation_handler=t}async function ue(e,t,n){const a=await ke(),o=await C.LocalizeString("InterfaceLanguage_Warning",[Object(f.q)(a.get(e)),Object(f.q)(a.get(t))]);return F.AskChangeConfirmation(o,n)}async function de(e,t,n){const a=Object(f.q)(Ie(t));if(!j&&(2===a||4===a))throw await oe((async function(e){return F.ShowInstallDesktopAppPage(e)})),m.y;if(3===a||2===a||4===a||5===a||6===a){let e;switch(a){case 2:e=await Y("Options_AuthMethod_WindowsHello");break;case 3:e=await Y("Options_AuthMethod_Fingerprint");break;case 4:e=`"${await Y("Options_AuthMethod_UseTouchID")}"`;break;case 5:e=`"${await Y("Options_AuthMethod_UseWatch")}"`;break;case 6:e=`"${await Y("Options_StoreMPInSystemProtectedStorage_Text2")}"`}const t=await Y("Options_AuthMethod_EnterMasterPassword_Prompt",[e]),o=await F.AskMasterPassword(t,n);await oe(e=>F.StorePasswordInSystemProtectedStorage(Object(f.q)(o),e))}else await oe(F.DeletePasswordFromSystemProtectedStorage)}async function me(e,t,n){const a=await C.LocalizeString("Options_NativeIntegrationChange_Warning");return F.AskChangeConfirmation(a,n)}function _e(e,t){const n=R.get(e);if(!n)return;const a=n.m_visible&&!n.m_hidden_by_login_state,o=t&&!n.m_hidden_by_login_state;if(n.m_visible=t,a!==o)if(o){n.m_element&&qe(n.m_element);const e=Object(f.q)(B.get(n.m_sheet_id));e.m_visible||(qe(e.m_selector_button),e.m_visible=!0),D&&n.m_loaded&&V===n.m_sheet_id&&n.m_view.OnAfterShow()}else{n.m_element&&Te(n.m_element);const e=Object(f.q)(B.get(n.m_sheet_id));if(e.m_visible){e.m_settings_views_info.every(e=>!e.m_visible)&&(Te(e.m_selector_button),e.m_visible=!1)}D&&n.m_loaded&&V===n.m_sheet_id&&n.m_view.OnBeforeHide()}}function fe(e){_e(e,!1)}function we(e,t,n){ge(t,ve(n),Ce(e),xe(e))}function pe(e,t,n){ge(t,ve(n),je(e),Se(e))}function be(e,t,n){ge(t,ye(n),je(e),Se(e))}function he(e,t){const n=new Map;for(const o of t.keys())ge(o,a(o),je(e),Se(e));function a(e){return a=>{n.set(e,a);for(const[e,o]of t){const t=n.get(e);if(void 0!==t&&o(t))return!0}return!1}}}function Oe(e,t){let n=G.get(e);n||G.set(e,n=[]),n.push({m_condition:()=>!0,m_action:t})}function ge(e,t,n,a){let o=G.get(e);o||G.set(e,o=[]),o.push({m_condition:t,m_action:n}),o.push({m_condition:e=>!t(e),m_action:a})}function ve(e){return t=>t===e}function ye(e){return t=>{var n,a;if(Array.isArray(e)){for(const a of e)if(!0===(null===(n=t.get(a))||void 0===n?void 0:n.m_selected))return!0;return!1}return!0===(null===(a=t.get(e))||void 0===a?void 0:a.m_selected)}}function je(e){return async t=>{const n=R.get(e);n&&await n.m_view.SetEnabled(!1)}}function Se(e){return async t=>{const n=R.get(e);n&&await n.m_view.SetEnabled(!0)}}function Ce(e){return async t=>{_e(e,!1)}}function xe(e){return async t=>{_e(e,!0)}}async function ke(){return new Map(j?v:[["",await Y("Options_Language_DefaultOption",[await Ae()])],...v])}async function Ae(){var e,t,n;const a=null!==(e=await(null==I?void 0:I.GetBrowserLanguageTag()))&&void 0!==e?e:"",o=Object(r.b)(a);return null!==(n=null===(t=v.find(e=>Object(r.c)(e[0])===o))||void 0===t?void 0:t[1])&&void 0!==n?n:""}function Ne(e,t){let n=!1,a=null,o=!1;const i={Load:async i=>(n||(a=await A.GetValue(e,t),o=null!==await L.GetValue(e,null),A.AddOnChangeListener(s),L.AddOnChangeListener(l),n=!0),Object(f.q)(a)),Unload:()=>{n&&(A.RemoveOnChangeListener(s),L.RemoveOnChangeListener(l),n=!1)},Store:async(t,i)=>{if(!n)throw Object(m.e)(m.r,"Cannot store storage before loading");if(o)throw Object(m.e)(m.r,"Cannot change read-only setting");await N.SetValue(e,t),a=t},IsReadOnly:()=>o,onChange:Object(_.b)()};return i;function s(n){if(e in n){const s=Object(f.q)(a);a=void 0===n[e].newValue?t:n[e].newValue,i.onChange.CallAllSync(s,o,Object(f.q)(a),o)}}function l(t){if(e in t){const n=o;o=null!==t[e].newValue,n!==o&&i.onChange.CallAllSync(Object(f.q)(a),n,Object(f.q)(a),o)}}}function Le(e,t){let n=!1,a=null;const o={Load:async o=>(n||(a=await Object(f.q)(T).GetValue(e,t),Object(f.q)(T).AddOnChangeListener(i),n=!0),Object(f.q)(a)),Unload:()=>{n&&(Object(f.q)(T).RemoveOnChangeListener(i),n=!1)},Store:async(t,o)=>{if(!n)throw Object(m.e)(m.r,"Cannot store storage before loading");await Object(f.q)(T).SetValue(e,t),a=t},IsReadOnly:()=>!1,onChange:Object(_.b)()};return o;function i(n){if(e in n){const i=Object(f.q)(a);a=void 0===n[e].newValue?t:n[e].newValue,o.onChange.CallAllSync(i,!1,Object(f.q)(a),!1)}}}function Te(e){Object(f.q)(e).classList.add("hidden")}function qe(e){Object(f.q)(e).classList.remove("hidden")}function Ie(e){for(const[t,n]of e)if(n.m_selected)return t;return null}}const g=[-720,-660,-600,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,510,540,570,600,660,720,780,840],v=[["en-english","English"],["id-Indonesian","Bahasa Indonesia (Indonesian)"],["cz-Czech","esky (Czech)"],["dk-Danish","Dansk (Danish)"],["de-German","Deutsch (German)"],["at-German","Deutsch - sterreich (Austrian German)"],["es-Spanish","Espaol (Spanish)"],["fr-French","Franais (French)"],["hr-Croatian","Hrvatski (Croatian)"],["it-Italian","Italiano (Italian)"],["lt-Lithuanian","Lietuvi (Lithuanian)"],["hu-Hungarian","Magyar (Hungarian)"],["nl-Dutch","Nederlands (Dutch)"],["no-Norwegian","Norsk (Norwegian)"],["pl-Polish","Polski (Polish)"],["br-Brasilian","Portugus Brasileiro (Portuguese-BR)"],["pt-Portuguese","Portugus Portugal (Portuguese-PT)"],["sk-Slovak","Slovenina (Slovak)"],["sb-Serbian","Srpski (Serbian-Latin)"],["fi-Finnish","Suomi (Finnish)"],["se-Swedish","Svenska (Swedish)"],["tr-Turkish","Trke (Turkish)"],["el-Greek"," (Greek)"],["ru-Russian"," (Russian)"],["sc-Serbian"," (Serbian-Cyrillic)"],["ua-Ukrainian"," (Ukrainian)"],["hy-Armenian"," (Armenian)"],["he-Hebrew"," (Hebrew)"],["ar-Arabic"," (Arabic)"],["fa-Persian"," (Persian)"],["hi-Hindi"," (Hindi)"],["kr-Korean"," (Korean)"],["jp-Japanese"," (Japanese)"],["zh-Chinese"," (Traditional Chinese)"],["cn-Chinese"," (Simplified Chinese)"]]}).call(this,n(31).JSXCreateElement)},273:function(e,t,n){"use strict";n.r(t);var a=n(129),o=n(62),i=n(6),s=n(53),l=n(16),c=n(78),r=n(45),u=n(52),d=n(2),m=n(0);n(13);Object(d.k)(async function(){const e=Object(u.a)(),t=Object(c.a)(null);try{await t.Init();const n=await Object(s.a)(t),i=await Object(o.a)(t,n.options),c=Object(l.e)(),u=Object(r.b)(c);u.Init();const d=i.IsStandalone()?Object(m.q)(n.rfo):null;window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.replace("light-theme","dark-theme");const _=Object(a.a)(t,i.IsStandalone(),n.service,n.data,n.options,n.settings,n.policies,t.storage,u,Object(r.e)(c),Object(m.q)(n.commands),d,n.usageInfo,e),f=await _.Create();document.body.appendChild(f),_.OnAfterShow(),_.Focus()}catch(n){await Object(a.b)(t,Object(i.r)(n))}}(),"Options:Initialize")},274:function(e,t,n){"use strict";n.p},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return _})),n.d(t,"m",(function(){return w})),n.d(t,"l",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return j}));var a=n(5),o=n(7);var i=n(2),s=n(9),l=n(4),c=n(0),r=n(1);n(13);async function u(e,t,n,o,s,u,d,m){o=o||"",await $(0,"Import started...",m),await S(o,n,s,u,m),await $(5,"Policies checked...",m);const _=await async function(e,t){await $(5,"Start reading CSV file...",t);const n=[],a=J(e);let o=0;for(;;){t&&o%32==0&&await t.YieldToUI(50);try{n.push(await a.ReadLine()),o++}catch(i){if(Object(r.d)(i,r.q))break;throw i}}return await $(100,"CSV file reading completed.",t),n}(e,Object(i.g)(m,5,50)),f=await t(_,u),w=f.pathDelimiter||U;await $(40,"Start to import logins",m);const p=f.logins||[],b=await async function(e,t,n,o,i,s,u){let d=0,m=0;if(0===e.length)return{m_exists:d,m_imported:m};const _=Object(a.o)(n);for(const w of e){u&&await u.YieldToUI(50);let e=n;""!==w.m_subfolder&&(w.m_subfolder=await H(w.m_subfolder,o,i),e=Object(l.d)(n||U,w.m_subfolder)),_&&(e=await z(t,e,await i.LocalizeString("Options_Import_FolderSuffix_Text"),u)),w.m_url=w.m_url.trimLeft();const p=await K(w,1,i);let b=e+U+p+Object(a.f)(1);try{b=await q(b,w,t,u)}catch(f){if(!Object(r.d)(f,r.l))throw f;d++;continue}const h=Object(a.d)(1);h.m_goto_url=w.m_url,h.m_match_url=""!==w.m_match_url?w.m_match_url:w.m_url;for(const t of w.m_fields)h.m_fields.push(Object(c.h)(t));h.m_note=w.m_note,await t.PutDataItem(b,h,u),await s.SetUsageInfo(b,0,!0,u),m++}return{m_exists:d,m_imported:m}}(p,n,o,w,u,d,Object(i.g)(m,50,60));await $(60,"Start to import bookmarks",m);const h=f.bookmarks||[],O=await D(h,n,o,w,u,d,Object(i.g)(m,60,80));await $(80,"Start to import safenotes",m);const g=f.safenotes||[],v=await async function(e,t,n,o,i,s,c){let u=0,d=0;if(0===e.length)return{m_exists:u,m_imported:d};const m=Object(a.o)(n);for(const f of e){c&&await c.YieldToUI(50);let e=n;""!==f.m_subfolder&&(f.m_subfolder=await H(f.m_subfolder,o,i),e=Object(l.d)(n||U,f.m_subfolder)),m&&(e=await z(t,e,await i.LocalizeString("Options_Import_FolderSuffix_Text"),c));const w=await K(f,7,i);let p=e+U+w+Object(a.f)(7);try{p=await R(p,f,t,c)}catch(_){if(!Object(r.d)(_,r.l))throw _;u++;continue}const b=Object(a.d)(7);b.m_note=f.m_text,await t.PutDataItem(p,b,c),await s.SetUsageInfo(p,0,!0,c),d++}return{m_exists:u,m_imported:d}}(g,n,o,w,u,d,Object(i.g)(m,80,100));return await $(100,"Import complete",m),{bookmarksImported:O.m_imported,bookmarksExist:O.m_exists,loginsImported:b.m_imported,loginsExist:b.m_exists,safenotesImported:v.m_imported,safenotesExist:v.m_exists}}async function d(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");return{logins:f(new Map([[1,{names:["url"],index:-1}],[2,{names:["username"],index:-1}],[3,{names:["password"],index:-1}]]),[1],e,await t.LocalizeString("Import_FromFirefox_Note"))}}async function m(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");return{logins:f(new Map([[0,{names:["name"],index:-1}],[1,{names:["url"],index:-1}],[2,{names:["username"],index:-1}],[3,{names:["password"],index:-1}]]),[0,1],e,await t.LocalizeString("Import_FromChrome_Note"))}}async function _(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");return{logins:f(new Map([[0,{names:["name"],index:-1}],[1,{names:["url"],index:-1}],[2,{names:["username"],index:-1}],[3,{names:["password"],index:-1}]]),[0,1],e,await t.LocalizeString("Import_FromEdge_Note"))}}function f(e,t,n,a){A(n[0].map(e=>e.toLowerCase()),e),x(e,t),Y(n,!0),n.shift();const o=[],i=new Map;for(const s of n){const t=X(s,k(1,e)),n=X(s,k(2,e));if(""===t&&""===n)continue;L(n,X(s,k(3,e)),t,X(s,k(0,e)),"",a,X(s,k(20,e)),i,o)}return o}async function w(e,t){if(e.length<=1)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=e[0].map(e=>e.toLowerCase()),a=new Map([[0,{index:-1,names:["name"]}],[1,{index:-1,names:["url"]}],[2,{index:-1,names:["login"]}],[3,{index:-1,names:["password"]}],[4,{index:-1,names:["memo"]}],[19,{index:-1,names:["document_content"]}],[17,{index:-1,names:["favorite"]}],[16,{index:-1,names:["kind"]}],[18,{index:-1,names:["title"]}],[12,{index:-1,names:["telephone"]}],[6,{index:-1,names:["email"]}],[13,{index:-1,names:["firstname"]}],[14,{index:-1,names:["lastname"]}]]);A(n,a),x(a,[16,1,2,3]),Y(e,!0);const o=[],i=new Map,s=[],l=new Set,c=[],u=await t.LocalizeString("Import_FromTrueKey_Note");e.shift();for(const r of e){const e=X(r,k(16,a)),t=X(r,k(1,a)),n=X(r,k(2,a)),d=X(r,k(3,a)),m=X(r,k("login"===e?0:18,a));let _=X(r,k("login"===e?4:19,a));"identity"===e&&(_=T(_,X(r,k(6,a))),_=T(_,X(r,k(13,a))),_=T(_,X(r,k(14,a))),_=T(_,X(r,k(12,a))));let f="";"true"===X(r,k(17,a)).toLowerCase()&&(f="TrueKey Favourites"),""===t&&""===_||(_=T(_,u),t?n&&d?L(n,d,t,m,f,_,"",i,o):N(t,m,f,_,l,s):c.push({m_title:m,m_subfolder:f,m_text:_}))}return{logins:o,bookmarks:s,safenotes:c}}async function p(e,t){Y(e,!1);const n=[],a=new Map,o=[],i=new Set,s=[],l=await t.LocalizeString("Import_CustomFields_Note"),c=await t.LocalizeString("Import_FromEnpass_Note");for(const u of e){if(u.length<2)continue;let e=u.length-2;if(e%2!=0)continue;e/=2;const t=X(u,0);let d=X(u,u.length-1),m="",_="",f="",w=!1;for(let n=0;n<e;n++){const e=X(u,2*n+1),t=X(u,2*n+2),a=e.toLowerCase();if("username"===a){if(""!==_)throw Object(r.e)(r.r,"Duplicate username (login) field in Enpass CSV file");_=t}else if("password"===a||"*password"===a){if(""!==f)throw Object(r.e)(r.r,"Duplicate password field in Enpass CSV file");f=t}else if("url"===a||"website"===a){if(""!==m)throw Object(r.e)(r.r,"Duplicate url field in Enpass CSV file");m=t}else w||(d=T(d,l),w=!0),d+=e,d+="\t\t\t",d+=t,d+="\n"}""===m&&""===d||(d=T(d,c),m?_&&f?L(_,f,m,t,"",d,"",a,n):N(m,t,"",d,i,o):s.push({m_title:t,m_subfolder:"",m_text:d}))}return{logins:n,bookmarks:o,safenotes:s}}async function b(e,t){if(e.length<=1)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=e[0].map(e=>e.toLowerCase()),a=new Map([[0,{names:["name"],index:-1}],[1,{names:["url"],index:-1}],[2,{names:["username"],index:-1}],[3,{names:["password"],index:-1}],[4,{names:["note"],index:-1}],[5,{names:["folder"],index:-1}]]);A(n,a),x(a,[0,1]),Y(e,!0);const o=[],i=new Map,s=[],l=new Set,c=[],u=await t.LocalizeString("Import_FromNordPass_Note");e.shift();for(const r of e){const e=X(r,k(1,a));let n=X(r,k(4,a));if(""===e&&""===n)continue;const d=X(r,k(3,a)),m=X(r,k(2,a)),_=X(r,k(0,a));let f=X(r,k(5,a));""!==f&&(f=await K({m_title:f},8,t)),n=T(n,u),e?m&&d?L(m,d,e,_,f,n,"",i,o):N(e,_,f,n,l,s):c.push({m_title:_,m_subfolder:f,m_text:n})}return{logins:o,bookmarks:s,safenotes:c}}async function h(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");Y(e,!1);const n=[],a=new Map,o=[],i=new Set,s=[],l=await t.LocalizeString("Import_FromKeeper_Note"),c=await t.LocalizeString("Import_CustomFields_Note");for(const r of e){if(r.length<7)continue;let e=r.length-7;if(e%2!=0)continue;e/=2;const d=X(r,4),m=X(r,2),_=X(r,3),f=X(r,1);let w=X(r,5),p=X(r,0);""!==p&&(p=await u(p,t)),e>0&&(w+="\n\n",w+=c,w+="\n");for(let t=0;t<e;t++){const e=7+2*t,n=X(r,e),a=X(r,e+1);w+=n,w+="\t\t\t",w+=a,w+="\n"}(d||w)&&(w=T(w,l),d?m&&_?L(m,_,d,f,p,w,"",a,n):N(d,f,p,w,i,o):s.push({m_title:f,m_subfolder:p,m_text:w}))}return{logins:n,bookmarks:o,safenotes:s};async function u(e,t){const n=e.split(W),a=[];for(let o=0;o<n.length;o++)""!==n[o]&&a.push(await K({m_title:n[o]},8,t));return a.join(U)}}async function O(e,t){if(e.length<2)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=e[0].map(e=>e.toLowerCase()),a=new Map([[1,{names:["url","urls"],index:-1}],[2,{names:["login","username","email","session[username_or_email]"],index:-1}],[3,{names:["password","master-password","session[password]","pass"],index:-1}],[0,{names:["title"],index:-1}],[4,{names:["note","notesplain","notes"],index:-1}],[15,{names:["secret key","account-key"],index:-1}]]);A(n,a),x(a,[0,1]),Y(e,!0);const o=[],i=new Map,s=[],l=new Set,c=[],u=await t.LocalizeString("Import_From1Password_Note");e.shift();for(const r of e){const e=X(r,k(1,a));let t=X(r,k(4,a));if(!e&&!t)continue;const n=X(r,k(2,a)),d=X(r,k(3,a)),m=X(r,k(0,a)),_=X(r,k(15,a));t=T(t,u),_&&(t=T(t,"Secret Key: "+_)),e?n&&d?L(n,d,e,m,"",t,"",i,o):N(e,m,"",t,l,s):c.push({m_title:m,m_subfolder:"",m_text:t})}return{logins:o,bookmarks:s,safenotes:c}}async function g(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=[],a=new Map,o=[],i=new Set,s=new Map([[1,{names:["url"],index:-1}],[4,{names:["note"],index:-1}],[5,{names:["category"],index:-1}],[0,{names:["title"],index:-1}],[3,{names:["password"],index:-1}],[2,{names:["username"],index:-1}],[20,{names:["otpSecret"],index:-1}]]);A(e[0].map(e=>e.toLowerCase()),s);const l=await t.LocalizeString("Import_FromDashlane_Note");try{x(s,[0,1,4,5]),Y(e,!0),e.shift();for(const c of e){const e=X(c,k(1,s));if(""===e)continue;const r=X(c,k(2,s)),u=X(c,k(3,s)),d=X(c,k(0,s));let m=X(c,k(4,s)),_=X(c,k(5,s));""!==_&&(_=await K({m_title:_},8,t));const f=X(c,k(20,s));m=T(m,l),r&&u?L(r,u,e,d,_,m,f,a,n):N(e,d,_,m,i,o)}}catch(u){Y(e,!1);for(let s=0;s<e.length;s++){const r=e[s];if(r.length<5)continue;const u=r[0];if(c(u)){const e=r.length;let t=X(r,e-1);if(t.indexOf(".")<0)continue;t="http://"+t;N(t,X(r,e-4),"DL_Logins",l,i,o)}else{const e=r[1];if(e.indexOf(".")>=0){const o=r.length,i=u,s="http://"+e;let l=X(r,2),c=X(r,3);const d=X(r,o-2);let m=X(r,o-1),_=3;""===l&&""!==c&&(l=c,c="",_=4),""!==m&&(m+="\n"),o>5&&(m+=await t.LocalizeString("Import_AdditionalInformation_Note"));for(let e=_;e<=r.length-_;e++){const t=r[e];""!==t&&(m+=t,m+="\n")}m=T(m,await t.LocalizeString("Import_FromDashlane_Note")),L(l,d,s,i,"DL_Logins",m,"",a,n)}}}}return{logins:n,bookmarks:o};function c(e){const t=e.length;if(38!==t)return!1;if(1&t)return!1;for(let n=0;n<t;n++){const t=e[n];if(t>="0"&&t<="9");else if(t>="A"&&t<="F");else if(0===n&&"{"===t);else if(37===n&&"}"===t);else if(9!==n&&14!==n&&19!==n&&24!==n||"-"!==t)return!1}return!0}}async function v(e,t){if(e.length<1)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=new Map([[1,{names:["url","appname"],index:-1}],[2,{names:["username"],index:-1}],[3,{names:["password"],index:-1}],[0,{names:["name"],index:-1}],[4,{names:["extra"],index:-1}],[20,{names:["totp"],index:-1}],[5,{names:["grouping"],index:-1}]]),a=function(e,t){let n=0;for(;;){if(e.length<n+1)throw Object(r.e)(r.r,"Wrong formated CSV file.");A(e[n].map(e=>e.toLowerCase()),t);try{x(t,[0,1]);break}catch(a){if(n>1)throw a}n++}return n}(e,n),o=e[a].map(e=>e.toLowerCase()),i=[],l=new Map,c=[],u=new Set,d=[],m=await t.LocalizeString("Import_FromLastPass_Note");for(let r=a+1;r<e.length;r++){const t=e[r];if(t.length!==o.length)continue;const a=X(t,k(1,n)),_=X(t,k(2,n)),f=X(t,k(3,n)),w=X(t,k(0,n));let p=X(t,k(4,n));const b=X(t,k(5,n));let h=X(t,k(20,n));if(h){const e=(h.length+7&-8)-h.length,t=h+new Array(e+1).join("=");0===Object(s.a)(t).length&&(h="")}p=T(p,m),"http://sn"===a.toLowerCase()?d.push({m_title:w,m_subfolder:b,m_text:p}):""===f&&""===h?N(a,w,b,p,u,c):L(_,f,a,w,b,p,h,l,i)}return{pathDelimiter:W,logins:i,bookmarks:c,safenotes:d}}async function y(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=new Map([[16,{names:["type"],index:-1}],[5,{names:["folder"],index:-1}],[4,{names:["notes"],index:-1}],[0,{names:["name"],index:-1}],[1,{names:["login_uri"],index:-1}],[2,{names:["login_username"],index:-1}],[3,{names:["login_password"],index:-1}],[20,{names:["login_totp"],index:-1}]]);A(e[0].map(e=>e.toLowerCase()),n),x(n,[0,1]),Y(e,!0),e.shift();const o=[],i=new Map,s=[],l=await t.LocalizeString("Import_FromBitwarden_Note");for(const c of e){const e=X(c,k(0,n)),r=X(c,k(16,n));let u=X(c,k(4,n)),d=X(c,k(5,n));""!==d&&(d=await K({m_title:d},8,t));const m=X(c,k(1,n)),_=X(c,k(2,n)),f=X(c,k(3,n)),w=X(c,k(20,n));if(u=T(u,l),"note"===r)s.push({m_title:e,m_subfolder:d,m_text:u});else{const t={m_url:m,m_match_url:m,m_title:e,m_subfolder:d,m_note:u,m_fields:[{m_name:a.D,m_value:_,m_type:1},{m_name:a.A,m_value:f,m_type:2}]};w&&t.m_fields.push({m_name:a.C,m_value:w,m_type:1}),M(t,o,i)}}return{logins:o,safenotes:s}}async function j(e,t){if(0===e.length)throw Object(r.e)(r.r,"Wrong formated CSV file.");const n=new Map([[0,{names:["title","name"],index:-1}],[1,{names:["url","account","acc","login_uri"],index:-1}],[2,{names:["login","login name","username","user name","login_username"],index:-1}],[3,{names:["password","pwd","login_password"],index:-1}],[4,{names:["note","comments","notes"],index:-1}],[5,{names:["folder"],index:-1}],[20,{names:["login_totp"],index:-1}],[23,{names:["matchurl"],index:-1}],[21,{names:["rf_fields"],index:-1}],[22,{names:["rffieldsv2"],index:-1}]]);A(e[0].map(e=>e.toLowerCase()),n),x(n,[1]),Y(e,!0);const o=n.get(21),i=n.get(22);if(o&&-1!==o.index||i&&-1!==i.index)return async function(e,t){x(e,[0,1,2,3,5,4]);let n=-1;const a=e.get(21),o=e.get(22);if(a&&-1!==a.index);else{if(!o||-1===o.index)throw Object(r.e)(r.r,"Unexpected header format: missing or unsupported RF Fields column.");n=2}const i=[],l=[],c=[];let u=6;const d=e.get(23);d&&-1!==d.index&&u++;for(let _=1;_<t.length;++_){const a=t[_];if(a.length<u)continue;let o=X(a,k(1,e));o=o.trimStart();const d=X(a,k(0,e)),f=X(a,k(4,e));let w=X(a,k(5,e));w.startsWith(U)&&(w=w.substring(1));const p=X(a,k(23,e));if(a.length>u&&""!==a[u]){const e=[];for(let o=u;o<a.length;o++){const t={m_type:0};switch(n){case 2:{const n=J(await Object(s.i)(a[o]));let i=[];try{i=await n.ReadLine()}catch(m){if(!Object(r.d)(m,r.q))throw m}if(5!==i.length)continue;if(""!==i[3]&&(t.m_type=Z(i[3]),0===t.m_type))continue;if(t.m_name=i[0],""===t.m_name)continue;t.m_caption=i[1],t.m_id=i[2],t.m_value=i[4],t.m_order_index=C(e,t.m_name)}}e.push(t)}const t={m_url:o,m_match_url:p,m_title:d,m_subfolder:w,m_note:f,m_fields:e};i.push(t)}else""===o?""===f||c.push({m_title:d,m_subfolder:w,m_text:f}):l.push({m_url:o,m_title:d,m_subfolder:w,m_note:f})}return{logins:i,bookmarks:l,safenotes:c}}(n,e);const l=[],c=new Map,u=[],d=new Set,m=await t.LocalizeString("Import_FromCSVFile_Note");e.shift();for(const s of e){const e=X(s,k(1,n)),t=X(s,k(2,n)),o=X(s,k(3,n)),i=X(s,k(0,n));let r=X(s,k(4,n));const _=X(s,k(5,n));if(""!==e)if(r=T(r,m),""===o)N(e,i,_,r,d,u);else{M({m_url:e,m_match_url:e,m_title:i,m_subfolder:_,m_note:r,m_fields:[{m_name:a.D,m_value:t,m_type:1},{m_name:a.A,m_value:o,m_type:2}]},l,c)}}return{logins:l,bookmarks:u}}async function S(e,t,n,a,o){const i=await t.GetInfo(e,1,o);if(i.readOnly)throw Object(r.e)(r.r,await a.LocalizeString("Import_SelectedFolderIsReadOnly_Error"));if((await n.Get({DisableNonGroupData:!1})).DisableNonGroupData&&!i.sharedGroup)throw Object(r.e)(r.r,await a.LocalizeString("Policy_ProhibitedFolder_NonGroupData_Message"))}function C(e,t){let n=0;for(const a of e){const e=a.m_name||"";e&&(e.toLowerCase()===t.toLowerCase()&&n++)}return n}function x(e,t){for(const n of t){const t=e.get(n);if(!t||-1===t.index)throw Object(r.e)(r.r,"Couldn't detect column \""+n.toString()+'".')}}function k(e,t){const n=t.get(e);return n?n.index:-1}function A(e,t){for(const[n,a]of e.entries())for(const e of t.values()){if(-1!==e.index)continue;if(e.names.find(e=>e===a)){e.index=n;break}}}function N(e,t,n,a,o,i){o.has(e)||(o.add(e),i.push({m_url:e,m_title:t,m_subfolder:n,m_note:a}))}function L(e,t,n,o,i,s,l,c,r){const u={m_url:n,m_match_url:n,m_title:o,m_subfolder:i,m_note:s,m_fields:[{m_name:a.D,m_value:e,m_type:1},{m_name:a.A,m_value:t,m_type:2}]};l&&u.m_fields.push({m_name:a.C,m_value:l,m_type:1}),M(u,r,c)}function T(e,t){return""===e?t:""===t?e:(e+="\n",e+=t)}async function q(e,t,n,i){const s=Object(l.D)(e),c=Object(a.f)(1);let u=s+c;for(let a=2;;a++){try{if(I(t,await n.GetDataItem(u,4,null,i)))throw Object(r.e)(r.l,"Already exists")}catch(d){if(!Object(o.c)(d,4)){if(!Object(r.d)(d,r.z))throw d;return u}}u=s+"[%d]".replace("%d",a.toString())+c}}function I(e,t){let n="";try{n=Object(l.n)(e.m_url.toLowerCase())}catch(u){}let o="";try{o=Object(l.n)(t.m_goto_url.toLowerCase())}catch(u){}if(n!==o)return!1;if(e.m_fields.length!==t.m_fields.length)return!1;const i=F(e,a.D)||"",s=P(t,a.D)||"",c=F(e,a.A)||"",r=P(t,a.A)||"";return i===s&&c===r}function E(e,t){if((F(e,a.D)||"")!==(F(t,a.D)||""))return!1;if((F(e,a.A)||"")!==(F(t,a.A)||""))return!1;if(e.m_subfolder.toLowerCase()!==t.m_subfolder.toLowerCase())return!1;let n="";try{n=Object(l.n)(e.m_url.toLowerCase())}catch(i){}let o="";try{o=Object(l.n)(t.m_url.toLowerCase())}catch(i){}return n===o}function F(e,t){let n=void 0,o=void 0,i=void 0,s=-1;const l=e.m_fields||[];for(let r=0;r<l.length;r++){const e=l[r];t===e.m_name&&(n=Object(c.q)(e.m_value)),e.m_name===a.D?o=Object(c.q)(e.m_value):e.m_name!==a.A&&2!==e.m_type||(i=Object(c.q)(e.m_value),s=r)}return void 0===o&&s>0&&l[s-1]&&(o=Object(c.q)(l[s-1].m_value)),t===a.D?o:t===a.A?i:n}function P(e,t){let n=void 0,o=void 0,i=void 0,s=-1;const l=e.m_fields||[];for(let r=0;r<l.length;r++){const e=l[r];t===e.m_name&&(n=Object(c.q)(e.m_value)),e.m_name===a.D?o=Object(c.q)(e.m_value):e.m_name!==a.A&&2!==e.m_type||(i=Object(c.q)(e.m_value),s=r)}return void 0===o&&s>0&&l[s-1]&&(o=Object(c.q)(l[s-1].m_value)),t===a.D?o:t===a.A?i:n}function M(e,t,n){let a="";try{a=Object(l.n)(e.m_url.toLowerCase())}catch(s){return}const o=n.get(a);if(!o||0===o.length)return n.set(a,[e]),void t.push(e);let i=!1;for(let l=0;l<o.length;l++){if(E(e,o[l])){i=!0;break}}i||(o.push(e),n.set(a,o),t.push(e))}async function D(e,t,n,o,i,s,c){let u=0,d=0;if(0===e.length)return{m_exists:u,m_imported:d};const m=Object(a.o)(n);for(const f of e){c&&await c.YieldToUI(50);let e=n;""!==f.m_subfolder&&(f.m_subfolder=await H(f.m_subfolder,o,i),e=Object(l.d)(n||U,f.m_subfolder)),m&&(e=await z(t,e,await i.LocalizeString("Options_Import_FolderSuffix_Text"),c)),f.m_url=f.m_url.trimLeft();const w=await K(f,2,i);let p=e+U+w+Object(a.f)(2);try{p=await V(p,f,t,c)}catch(_){if(!Object(r.d)(_,r.l))throw _;u++;continue}const b=Object(a.d)(2);b.m_goto_url=f.m_url,b.m_note=f.m_note,await t.PutDataItem(p,b,c),await s.SetUsageInfo(p,0,!0,c),d++}return{m_imported:d,m_exists:u}}async function V(e,t,n,i){const s=Object(l.D)(e),c=Object(a.f)(2);let u=s+c;for(let a=2;;a++){try{if(B(t,await n.GetDataItem(u,4,null,i)))throw Object(r.e)(r.l,"Already exists")}catch(d){if(!Object(o.c)(d,4)){if(!Object(r.d)(d,r.z))throw d;return u}}u=s+"[%d]".replace("%d",a.toString())+c}}function B(e,t){return e.m_url.toLowerCase()===t.m_goto_url.toLowerCase()}async function R(e,t,n,i){const s=Object(l.D)(e),c=Object(a.f)(7);let u=s+c;for(let a=2;;a++){try{if(G(t,await n.GetDataItem(u,4,null,i)))throw Object(r.e)(r.l,"Already exists")}catch(d){if(!Object(o.c)(d,4)){if(!Object(r.d)(d,r.z))throw d;return u}}u=s+"[%d]".replace("%d",a.toString())+c}}function G(e,t){return!e.m_text&&!t.m_note||e.m_text===t.m_note}async function z(e,t,n,a){let o=null;try{if(o=await e.GetInfo(t,1,a),!o.sharedFolder)return t;const s=500;let l="";for(let c=0;c<=s;c++){const u="";l=0===c?t+" ("+n+")":t+" ("+n+" - "+u.toString()+")";try{if(o=await e.GetInfo(l,1,a),!o.sharedFolder)break;if(c>=s)throw Object(r.e)(r.r,"Cannot choose name for folder.\nPlease, change destination folder for import.")}catch(i){if(Object(r.d)(i,r.z))break;throw i}}return l}catch(i){if(!Object(r.d)(i,r.z))throw i;return t}}const W="\\",U="/";async function H(e,t,n){if(!e)return"";const a=e.split(t);for(let o=0;o<a.length;o++)a[o]=await K({m_title:a[o]},8,n);return a.join(U)}async function K(e,t,n){let o="";if(""!==e.m_title){let i=Object(a.u)(Object(a.F)(e.m_title,"_"),200)||"";i||(i=await n.LocalizeString(Object(a.i)(t,!1))),o=i}else o=await n.LocalizeString(Object(a.i)(t,!1));return o}function Y(e,t){const n=t?1:0,a=e.length;for(let o=n;o<a;o++)for(let t=0;t<e[o].length;t++){let n=e[o][t];n=Object(c.w)(n),'"'===n[0]&&'"'===n[n.length-1]&&(e[o][t]=n.substring(1,n.length-2))}}async function $(e,t,n){n&&await n.Progress({percents:e,message:t})}function J(e){const t=[10,13],n=[44,59];let a=0;const o=function(e){const t=e;let n=0,a=null;return{GetByte:function(){if(null!==a){const e=a;return a=null,n++,e}if(n>=t.length)throw Object(r.e)(r.q,"Premature end of data");const e=t[n];return n++,e},UnGetByte:function(e){if(null!==a)throw Object(r.e)(r.r,"Cannot unget byte");a=e,n--},GetCurrentPosition:function(){return n},SetCurrentPosition:function(e){n=e,a=null},IsEof:function(){return n>=t.length}}}(e=function(e){if(e.length<3)return e;239===e[0]&&187===e[1]&&191===e[2]&&(e=e.subarray(3));return e}(e));return{ReadLine:async function(){return await c(),i()}};async function i(){const e=[];let t=-1;for(;;)try{const i=l(o);if(13!==t||0!==i.data.length){const t=await Object(s.j)(i.data);e.push(t)}try{t=o.GetByte()}catch(n){if(Object(r.d)(n,r.q))return e;throw n}if(i.endOfStream)return e;if(10===t||13===t){if(0===e.length)continue;return 13===t&&(t=o.GetByte(),10!==t&&o.UnGetByte(t)),e}if(t!==a)throw Object(r.e)(r.r,"Unexpected character in line:"+i.position.toString())}catch(n){if(!Object(r.d)(n,r.q)||0===e.length)throw n;return 0!==e.length&&e.push(""),e}}function l(e){const n=e.GetByte();return e.UnGetByte(n),34===n?function(e){try{e.GetByte()}catch(n){if(Object(r.d)(n,r.q)){const t=e.GetCurrentPosition();throw Object(r.e)(r.r,"CSV syntax error: missing quote char in line"+t.toString())}throw n}let t=[];for(;;){let n=-1;const a=Q(e,[34]);if(t=[...t,...a.data],n=a.ungetByte,34===n&&(n=e.GetByte(),34!==n))return e.UnGetByte(n),a.data=Uint8Array.from(t),a;t.push(n)}}(e):function(e){const n=[...t,a],o=Q(e,n);return e.UnGetByte(o.ungetByte),o}(e)}async function c(){if(!a){for(let e=0;e<n.length;e++){a=n[e],o.SetCurrentPosition(0);for(let e=0;e<2;e++){if((await i()).length>1)return void o.SetCurrentPosition(0)}}if(!a)throw Object(r.e)(r.r,"Could not detect CVS values separator")}}}function X(e,t){return t<0||t>=e.length?"":e[t]}function Z(e){switch(e){case"txt":return 1;case"pwd":return 2;case"chk":return 3;case"rck":return 4;case"rad":return 5;case"are":return 6;case"sel":return 7;default:return 0}}function Q(e,t){const n=[];let a=-1;for(;;)try{a=e.GetByte();if(t.indexOf(a)>=0)break;n.push(a)}catch(o){if(Object(r.d)(o,r.q))return{data:Uint8Array.from(n),ungetByte:a,endOfStream:!0,position:e.GetCurrentPosition()};throw o}return{data:Uint8Array.from(n),ungetByte:a,endOfStream:!1,position:e.GetCurrentPosition()}}},46:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(102),o=n(14),i=n(1),s=n(2),l=(n(13),n(26));function c(e,t){const n=Object(s.f)({action:async(a,o,s)=>{s.onTaskCancel.Add(()=>{u(i.j)});const l=t((function(t){a(t),l.OnBeforeHide(),l.Dispose(),e.removeChild(c),r.delete(n)}),u,s),c=await l.Create();return e.appendChild(c),c.focus(),l.OnAfterShow(),void l.Focus();function u(t){try{o(t)}finally{l.OnBeforeHide(),l.Dispose(),e.removeChild(c),r.delete(n)}}}});return r.add(n),n}const r=new Set;function u(e,t){return(n,o,i)=>Object(a.a)(e(n,o,i),t(n,o,i))}function d(t,n,a){return async i=>{const s=e("div",{className:"modal-dialog-screen",tabIndex:"-1"},e("div",{className:"dialog-view "+t},e("div",{className:"header"},await Object(o.b)(n)),e("div",{className:"close-button",onclick:()=>{a.onCancel&&a.onCancel()}}),await i.Create()));return s.addEventListener("click",e=>{s===e.target&&a.onClickOutside&&a.onClickOutside()}),s.addEventListener("keydown",e=>{switch(e.key){case l.Key.Escape:return a.onEscape&&a.onEscape(),e.preventDefault(),void e.stopPropagation();case l.Key.Enter:{const e=s.querySelector(".default-button");!e||e.disabled||e.classList.contains("disabled-button")||e.click()}return!1}}),s}}}).call(this,n(31).JSXCreateElement)}},[[273,0,1]]]);