(()=>{var A={162:function(A,e,t){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){"use strict";function e(A,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\ufeff",A],{type:A.type}):A}function n(A,e,t){var n=new XMLHttpRequest;n.open("GET",A),n.responseType="blob",n.onload=function(){c(n.response,e,t)},n.onerror=function(){console.error("could not download file")},n.send()}function o(A){var e=new XMLHttpRequest;e.open("HEAD",A,!1);try{e.send()}catch(A){}return 200<=e.status&&299>=e.status}function i(A){try{A.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t.g&&t.g.global===t.g?t.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(A,e,t){var a=s.URL||s.webkitURL,c=document.createElement("a");e=e||A.name||"download",c.download=e,c.rel="noopener","string"==typeof A?(c.href=A,c.origin===location.origin?i(c):o(c.href)?n(A,e,t):i(c,c.target="_blank")):(c.href=a.createObjectURL(A),setTimeout((function(){a.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(A,t,s){if(t=t||A.name||"download","string"!=typeof A)navigator.msSaveOrOpenBlob(e(A,s),t);else if(o(A))n(A,t,s);else{var a=document.createElement("a");a.href=A,a.target="_blank",setTimeout((function(){i(a)}))}}:function(A,e,t,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof A)return n(A,e,t);var i="application/octet-stream"===A.type,c=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||i&&c||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var A=l.result;A=g?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=A:location=A,o=null},l.readAsDataURL(A)}else{var r=s.URL||s.webkitURL,d=r.createObjectURL(A);o?o.location=d:location.href=d,o=null,setTimeout((function(){r.revokeObjectURL(d)}),4e4)}});s.saveAs=c.saveAs=c,A.exports=c})?n.apply(e,o):n)||(A.exports=i)}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return A[n].call(i.exports,i,i.exports,t),i.exports}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(A){if("object"==typeof window)return window}}(),(()=>{"use strict";const A=A=>{var e;return(null===(e=chrome.i18n)||void 0===e?void 0:e.getMessage(A))||"Could not load the translations, please reload the page."},e=(A,e,t,n)=>{const o=document.querySelector(A);!n&&o&&e(o);const i=new MutationObserver((t=>{const o=t.flatMap((A=>[...A.addedNodes])).find((e=>(null==e?void 0:e.matches)&&e.matches(A)||(null==e?void 0:e.querySelector)&&e.querySelector(A)));o&&(e(o),!1===n&&i.disconnect())}));i.observe(t||document.body,{childList:!0,subtree:!0})},n=(A,...e)=>{/log=1/.test(window.location.search)&&console.log("Omegle AS Extension: "+A,...e)},o=A=>new Date(A).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),i=()=>/mobile|kindle|silk\/|symbian|nokia|android|nintendobrowser/i.test(navigator.userAgent),s=()=>!!$(".newchatbtnwrapper, #chatbtn, #textbtn").length||/disconnected|Error connecting to server/.test($(".statuslog").text()),a={darkTheme:!1,enabled:!0,welcomeMessageEnabled:!1,welcomeMessage:[],welcomeTimeout:2,spamTimeout:9,customFilter:[],customRegex:"",autoReconnect:!0,autoReconnectSpam:!0,autoBlockSpam:!0,soundNotification:!1,autoAgreeToTerms:!1,skipReconnectAfterTime:!0,chatTimeToSkipReconnect:60,disconnectChatAfterTime:!1,chatTimeToDisconnect:30,enableDefaultFiltering:!0,enableDefaultTimeChecking:!0,showMessageTimes:!0,showNotifications:!1};function c(){return new Promise((A=>{chrome.storage.sync.get("omegle_as_settings",(e=>{if(Object.prototype.hasOwnProperty.call(e,"omegle_as_settings")&&e.omegle_as_settings){const t=e.omegle_as_settings;t.welcomeTimeout<1&&(t.welcomeTimeout=1),"string"==typeof t.welcomeMessage&&(t.welcomeMessage=[t.welcomeMessage]),A(Object.assign(Object.assign({},a),e.omegle_as_settings))}else A(a)}))}))}var g,l=t(162);!function(A){A[A.YOU=0]="YOU",A[A.STRANGER=1]="STRANGER"}(g||(g={}));const r=new class{constructor(A){this._interval=null,this._secondsRun=0,this._callbacks=[],this._callbacks=A,this.tick=this.tick.bind(this)}get secondsRun(){return this._secondsRun}tick(){this._secondsRun++,this._callbacks.forEach((A=>A(this._secondsRun)))}isRunning(){return!!this._interval}startTimer(){this.stopTimer(),this._interval=setInterval(this.tick,1e3)}stopTimer(){this._interval&&(clearInterval(this._interval),this._interval=null,this._secondsRun=0)}}([A=>c().then((({welcomeMessage:e,welcomeMessageEnabled:t,welcomeTimeout:n})=>{if(t&&n===A&&e.length){const A=e[Math.floor(Math.random()*e.length)];setTimeout((()=>{if(r.isRunning())if($(".sendbtn").length)$("textarea.chatmsg").text(A),$(".sendbtn").trigger("click");else if($(".chatmsgcell input").length){$("input.chatmsg").val(A);const e=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13});$(".chatmsgcell input")[0].dispatchEvent(e)}}),Math.floor(251*Math.random())+50)}})),A=>{const e=Math.floor(A/3600),t=Math.floor((A-3600*e)/60),n=A-3600*e-60*t,o=`${e<10?`0${e}`:e}:${t<10?`0${t}`:t}:${n<10?`0${n}`:n}`;$("#chatTimer").text(o),s()&&(Q(),setTimeout((()=>{E(!1)}),500))},A=>c().then((({enabled:e,spamTimeout:t,soundNotification:o})=>{if(e&&t&&A===t){if(C(!1),o){new Audio("data:audio/ogg;base64,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").play()}n(`SPAM not detected within configured time of %c${t} seconds, %cchat marked as %creal.`,"color: orange;","color: default;","color: green;")}})),A=>c().then((({enabled:e,enableDefaultTimeChecking:t})=>{e&&t&&A<=2&&$(".strangermsg:not(.history), .strangermsggroup:not(.history) .msggroup-msg").length>=3&&(b(!0),n(`SPAM detection! Found: %c${$(".strangermsg:not(.history), .strangermsggroup:not(.history) .msggroup-msg").length}%c messages within %c2 seconds.`,"color: red;","color: default;","color: orange;"))})),A=>c().then((({disconnectChatAfterTime:e,chatTimeToDisconnect:t})=>{e&&A===t&&!$(".strangermsg:not(.history), .strangermsggroup:not(.history)").length&&Q(!0)})),()=>{$("#block_button").hasClass("enabled")||chrome.runtime.sendMessage({getStrangerData:!0},(({noData:A,strangerBlocked:e,previousChats:t})=>{A||(t.length&&B(t),e&&(n("Stranger ID is blocked, disconnecting..."),b(!0)),E(!0))}))}]);var d=function(A,e,t,n){return new(t||(t=Promise))((function(o,i){function s(A){try{c(n.next(A))}catch(A){i(A)}}function a(A){try{c(n.throw(A))}catch(A){i(A)}}function c(A){var e;A.done?o(A.value):(e=A.value,e instanceof t?e:new t((function(A){A(e)}))).then(s,a)}c((n=n.apply(A,e||[])).next())}))};let u=!1;const m=["👻","🔞","💦","🍆","👙","sn(a|а)p","tS{5,6}m","kik","https?:\\/\\/","www\\.\\S+\\.\\S{2,5}","\\S+\\.\\S{2,3}","k(i|l)k","\\d{1,4}-\\d{1,4}\\d{1,4}","call","(t|s)ext","p.?i.?c.?s?","seks","napal"],h=A=>{chrome.runtime.sendMessage({blockStrangerId:!0}),E(!1),n(`Stranger ID blocked %c${A?"automatically":"manually"}.`,"color: yellow;")},p=()=>d(void 0,void 0,void 0,(function*(){const{enabled:e,autoReconnect:t}=yield c();$("#as_loading_text").text(A("loading_"+(e?"on":"off"))),$("#anti_spam_button").removeClass("ok"),$("#anti_spam_button").removeClass("connecting"),t&&$("#anti_spam_button").removeClass("disabled").addClass("enabled"),$("#save_button").removeClass("disabled").addClass("enabled"),r.startTimer(),n("Chat started.")})),V=e=>d(void 0,void 0,void 0,(function*(){var t;if(!e.children.length||!i()&&e.children[0].children.length<2||i()&&!e.querySelector(".msggroup-msg"))return;const s=i()?null===(t=e.querySelector(".msggroup"))||void 0===t?void 0:t.className:e.children[0].className,a=i()?e.querySelector(".msggroup-msg").textContent:e.children[0].children[1].textContent,l=/strangermsg/.test(s)?g.STRANGER:g.YOU,d={time:(new Date).getTime(),type:l,message:a},{enabled:u,showMessageTimes:h,spamTimeout:p,enableDefaultFiltering:V,customFilter:E,customRegex:Q,showNotifications:C}=yield c();let B=!1;u&&l===g.STRANGER&&r.secondsRun<=p&&(B=function(A,e,t,o){const i=t||[],s=e?i.concat(m):i;if((null==o?void 0:o.length)&&new RegExp(o,"ig").test(A))return b(!0),n(`SPAM detection! Filtered regex found: %c${o}%c in message: %c${A}`,"color: red;","color: default;","color: yellow;"),!0;return s.some((e=>!!new RegExp(e.length>1?e:`(?:\\b|\\b\\d{1,2})${e}(?:\\b|\\d{1,2}\\b)`,"ig").test(A)&&(b(!0),n(`SPAM detection! Filtered phrase found: %c${e}%c in message: %c${A}`,"color: red;","color: default;","color: yellow;"),!0)))}(a,V,E,Q)),chrome.runtime.sendMessage({saveMessageLog:!0,payload:d}),$(e.children[0]).prepend(`<span class="messagetime ${h?"":"hidden"}">${o(d.time)}</span>`),!C||B||document.hasFocus()||l!==g.STRANGER||(()=>{if(!("Notification"in window))return;const e=()=>{new Notification(A("new_notification"),{body:A("click_to_show")}).onclick=()=>{window.focus()}};"granted"!==Notification.permission?"denied"===Notification.permission&&Notification.requestPermission().then((t=>{"granted"===t?e():alert(A("notifications_denied"))})):e()})()})),E=A=>{A?$("#block_button").addClass("enabled").removeClass("disabled"):$("#block_button").removeClass("enabled").addClass("disabled")};const Q=A=>{b(!1,!0,A),$("#block_button").removeClass("enabled").addClass("disabled")};function C(e,t){e||t&&"SPAM!"===$("#as_loading_text").text()?$("#as_loading_text").html('<font color="red">SPAM!</font>'):!1!==e||t?$("#as_loading_text").html(`<font color="gray">${A("as_button_disconnected")}</font>`):($("#as_loading_text").html('<font color="green">OK</font>'),$("#anti_spam_button").addClass("ok")),$("#anti_spam_button").addClass("disabled").removeClass("enabled")}const B=e=>d(void 0,void 0,void 0,(function*(){const{showMessageTimes:t}=yield c();$(".logitem").first().before(`<div style="color: #ff4e03;">${A("previousChatsFound")}</div>`),i()?$(".logitem").first().before(e.map((({type:A,time:e,message:n})=>`<div class="logitem">\n                        <div class="history msggroup ${A===g.STRANGER?"strangermsggroup":"youmsggroup"}">\n                            <span class="messagetime ${t?"":"hidden"}">${o(e)}</span>\n                            <div class="msggroup-msgs">\n                                <div class="msggroup-msg">\n                                    <span class="notranslate">${n}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`)).toString().replace(/,/g,"")):$(".logitem").first().before(e.map((({type:A,time:e,message:n})=>`<div class="logitem">\n                <p class="history ${A===g.STRANGER?"strangermsg":"youmsg"}">\n                    <span class="messagetime ${t?"":"hidden"}">${o(e)}</span>\n                    <strong class="msgsource">${A===g.STRANGER?"Stranger":"You"}:</strong>\n                    <span class="notranslate">${n}</span>\n                </p>\n            </div>`)).toString().replace(/,/g,""))})),w=A=>{if(r.isRunning())return;const e=/Say.+|You both.+/;e.test(A.innerText)?p():setTimeout((()=>{r.isRunning()||s()||!e.test($(".statuslog").text())||p()}),1e3)},b=(A,e,t)=>c().then((({chatTimeToDisconnect:o,skipReconnectAfterTime:i,chatTimeToSkipReconnect:s,autoBlockSpam:a,autoReconnect:c,autoReconnectSpam:g})=>{!t&&i&&r.secondsRun>=s&&(u=!0),(A||!u||e&&!t)&&(C(A,e),r.stopTimer()),A&&a&&h(!0),!t&&(!c&&!A||e&&!c||e&&g&&!A)||(u?u=!1:(t&&n(`Automatically disconnected. Stranger did not write any message within configured %c${o} seconds.`,"color: orange;"),$("button.disconnectbtn").trigger("click"),n($(".reallybtn").length?"Disconnecting chat...":"Starting a new chat..."),e&&!t||!$(".reallybtn").length||($("button.disconnectbtn").trigger("click"),(c&&!g||A&&c&&g)&&($("button.disconnectbtn").trigger("click"),n("Starting a new chat after disconnecting...")))))})),f=()=>{$("#anti_spam_button").length||($(".logwrapper > div:last").after(`<div id="as_button_wrapper">\n      <button id="anti_spam_button" title="${A("settings_button_title_tooltip")}">\n      <div id="chatTimer">00:00:00</div>\n      ${A("settings_button_title")}\n      <div id="as_loading_text" class="btnkbshortcut">${A("loading_text")}</div></button>\n      <button id="save_button" class="disabled" title="${A("save_button_title_tooltip")}">\n      ${A("save_button_title")}\n      </button>\n      <button id="block_button" class="disabled" title="${A("block_button_title_tooltip")}">\n      ${A("block_button_title")}\n      </button>\n    </div>\n    `),$("#block_button").on("click",(()=>h())),$("#save_button").on("click",(()=>{chrome.runtime.sendMessage({getMessages:!0},(e=>{if(!e.length)return alert(A("no_messages"));let t="";e.forEach((({type:A,message:e,time:n})=>{t+=`${o(n)} ${A===g.STRANGER?"Stranger":"You"}: ${e}\n`}));const n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,l.saveAs)(n,`omegle${(new Date).toLocaleString()}.txt`)}))})),$("#anti_spam_button").on("click",(()=>{$("#as_loading_text > font").length||r.isRunning()&&(u=!0,$("#anti_spam_button").addClass("disabled").removeClass("enabled"),n("Auto-reconnect disabled for current chat."))})),n("Extension button with timer created."))};var M=function(A,e,t,n){return new(t||(t=Promise))((function(o,i){function s(A){try{c(n.next(A))}catch(A){i(A)}}function a(A){try{c(n.throw(A))}catch(A){i(A)}}function c(A){var e;A.done?o(A.value):(e=A.value,e instanceof t?e:new t((function(A){A(e)}))).then(s,a)}c((n=n.apply(A,e||[])).next())}))};const I=()=>M(void 0,void 0,void 0,(function*(){const{darkTheme:A}=yield c(),e=A?"addClass":"removeClass",t="darkTheme";$("a, body, textarea,\n      #logo,\n      .logwrapper, \n      .statuslog,\n      .msgsource, \n      #intoheader, \n      #startachat, \n      #header, \n      #header canvas, \n      #header img, \n      .chatmsgwrapper, \n      .msggroup.youmsggroup,\n      .msggroup.strangermsggroup,\n      .sendbtn, \n      .disconnectbtn, \n      #anti_spam_button, \n      #intro, \n      #monitoringnotice, \n      #monitoringnotice > h2, \n      .topictageditor > input, \n      .topictageditor, \n      #tryspymode > div,\n      #spymodebtn, \n      #videobtnunmoderated,\n      body > div:last-child > div,\n      .questionInput,\n      .conversationgreat,\n      .question > div")[e](t),$("a:contains(College)")[e](t).addClass("college")}));$((()=>{e("*",I,void 0,!0),I(),chrome.runtime.onMessage.addListener((A=>{A.newSettings&&(I(),d(void 0,void 0,void 0,(function*(){const{showMessageTimes:A}=yield c();A?$(".messagetime.hidden").removeClass("hidden"):$(".messagetime").addClass("hidden")})))})),e(".statuslog",w),c().then((({autoAgreeToTerms:A})=>{if(A){const A='input[value="Confirm & continue"]';e(A,(e=>((A,e)=>{const t=A.querySelector(e);t.style.pointerEvents="all",t.removeAttribute("disabled"),t.click()})(e,A)))}})),e(".disconnectbtn",f),e(".statuslog, #chatbtn, #textbtn",(()=>{s()&&(chrome.runtime.sendMessage({disconnect:!0}),Q(),n("Disconnect detected."))})),e(".logbox",(A=>e(".strangermsg:not(.history), .youmsg:not(.history), .strangermsggroup:not(.history), .youmsggroup:not(.history)",V,A))),(()=>{if(i()&&"wakeLock"in navigator){let A=null;const e=()=>M(void 0,void 0,void 0,(function*(){try{A=yield navigator.wakeLock.request("screen")}catch(A){console.error(`${A.name}, ${A.message}`)}})),t=()=>{A&&A.release().then((()=>{A=null}))},n=()=>{"hidden"===document.visibilityState?t():e()};document.addEventListener("visibilitychange",n),n()}})()}))})()})();
//# sourceMappingURL=extension.min.js.map