(()=>{"use strict";const e={},t={},d=[];chrome.webRequest.onBeforeRequest.addListener((t=>{var d,a,i,o;if(/events/.test(t.url)){const s=null!==(o=null===(i=null===(a=null===(d=t.requestBody)||void 0===d?void 0:d.formData)||void 0===a?void 0:a.id)||void 0===i?void 0:i.toString())&&void 0!==o?o:"undetected";"undetected"!==s&&(e[t.tabId]=s)}}),{urls:["*://*.omegle.com/*"]},["requestBody"]),chrome.runtime.onMessage.addListener(((a,i,o)=>{var s;if(a.blockStrangerId)d.push(e[i.tab.id]);else if(a.saveMessageLog){let d=t[e[i.tab.id]];(null==d?void 0:d.length)?d.push(a.payload):d=[a.payload],t[e[i.tab.id]]=d}else a.getMessages?o(t[e[i.tab.id]]||[]):a.getStrangerData&&(e[i.tab.id]?o({strangerBlocked:d.includes(e[i.tab.id]),previousChats:(null===(s=t[e[i.tab.id]])||void 0===s?void 0:s.filter((e=>e.time<new Date((new Date).getTime()-3e4).getTime())))||[]}):o({noData:!0}))}))})();
//# sourceMappingURL=listener.min.js.map