(()=>{"use strict";const e={darkTheme:{title:!0},enabled:{title:!0},autoReconnect:{title:!0},autoReconnectSpam:{title:!0},autoBlockSpam:{title:!0},soundNotification:{title:!0},autoAgreeToTerms:{title:!0},skipReconnectAfterTime:{title:!0},chatTimeToSkipReconnect:{input:!0,isTimeout:!0,min:5,max:300},disconnectChatAfterTime:{title:!0},chatTimeToDisconnect:{input:!0,isTimeout:!0,min:3,max:60},welcomeMessageEnabled:{title:!0},welcomeMessage:{textarea:!0,placeholder:!0},welcomeTimeout:{input:!0,title:!0,isTimeout:!0,min:1,max:30},spamTimeout:{input:!0,title:!0,isTimeout:!0,min:5,max:60},customFilter:{textarea:!0,placeholder:!0},customRegex:{textarea:!0,placeholder:!0},enableDefaultFiltering:{title:!0},enableDefaultTimeChecking:{title:!0},showMessageTimes:{title:!0},showNotifications:{title:!0}},t={darkTheme:!1,enabled:!0,welcomeMessageEnabled:!1,welcomeMessage:[],welcomeTimeout:2,spamTimeout:9,customFilter:[],customRegex:"",autoReconnect:!0,autoReconnectSpam:!0,autoBlockSpam:!0,soundNotification:!1,autoAgreeToTerms:!1,skipReconnectAfterTime:!0,chatTimeToSkipReconnect:60,disconnectChatAfterTime:!1,chatTimeToDisconnect:30,enableDefaultFiltering:!0,enableDefaultTimeChecking:!0,showMessageTimes:!0,showNotifications:!1};const i=e=>{var t;return(null===(t=chrome.i18n)||void 0===t?void 0:t.getMessage(e))||"Could not load the translations, please reload the page."};var o=function(e,t,i,o){return new(i||(i=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function c(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,c)}l((o=o.apply(e,t||[])).next())}))};function n(e){["enabled","autoReconnect","welcomeMessageEnabled","skipReconnectAfterTime","disconnectChatAfterTime"].forEach((t=>{return i=e[t],void $(`.${t}-toggle`)[i?"show":"hide"]();var i}))}function a(){const t={};var i;Object.keys(e).forEach((i=>{const o=e[i];if(o)if(o.isTimeout){let o=parseInt($(`#${i} > input`).val().toString(),10);o<e[i].min?o=e[i].min:o>e[i].max&&(o=e[i].max),t[i]=o}else o.textarea?(console.log("ðŸš€ ~ file: popup.ts ~ line 40 ~ Object.keys ~ newSettings[field] = $(`#${field} > textarea",t[i]=$(`#${i} > textarea`).val().toString().split(";")),t[i]=$(`#${i} > textarea`).val().toString().split(";").filter((e=>e)).map((e=>e.trim()))):o.input?t[i]=$(`#${i} > input`).val().toString():t[i]=$(`#${i} > input`).prop("checked");else t[i]=$(`#${i} > input`).prop("checked")})),n(t),i=t,new Promise((e=>{chrome.storage.sync.set({omegle_as_settings:i},(()=>e({saved:!0})))})),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e.length&&chrome.tabs.sendMessage(e[0].id,{newSettings:t})}))}function s(){return o(this,void 0,void 0,(function*(){const o=yield new Promise((e=>{chrome.storage.sync.get("omegle_as_settings",(i=>{if(Object.prototype.hasOwnProperty.call(i,"omegle_as_settings")&&i.omegle_as_settings){const o=i.omegle_as_settings;o.welcomeTimeout<1&&(o.welcomeTimeout=1),"string"==typeof o.welcomeMessage&&(o.welcomeMessage=[o.welcomeMessage]),e(Object.assign(Object.assign({},t),i.omegle_as_settings))}else e(t)}))}));n(o),Object.keys(e).forEach((t=>{const n=e[t];if(n){const e=n.isTimeout?i("as_timeout_sec"):"";$(`#${t} > span`).text(i(t)+e),n.title&&$(`#${t} > span`).attr("title",i(`${t}_tooltip`)),n.isTimeout&&(void 0!==n.min&&$(`#${t} > input`).attr("min",n.min),void 0!==n.max&&$(`#${t} > input`).attr("max",n.max)),"boolean"==typeof o[t]?$(`#${t} > input`).prop("checked",o[t]):$(`#${t} > input`).val(o[t]),n.placeholder&&$(`#${t} > input`).attr("placeholder",i(t)),n.textarea&&($(`#${t} > textarea`).attr("placeholder",i(`${t}_placeholder`)),$(`#${t} > textarea`).val(o[t].join("; ")),$(`#${t} > span`).text(i(t)),$(`#${t} > span`).attr("title",i(`${t}_tooltip`)))}else $(`#${t} > span`).text(i(t)),$(`#${t} > input`).prop("checked",o[t])}))}))}$((()=>{$("#options_title").html(`${i("modal_settings_title")} <span>v${chrome.runtime.getManifest().version}</span>`),$("#donate-info > span").text(i("donateInfo")),s(),$("input, textarea").on("change keyup paste",a)}))})();
//# sourceMappingURL=popup.min.js.map